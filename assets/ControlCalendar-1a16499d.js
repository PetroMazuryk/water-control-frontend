import{o as D,b as N,u as i,n as f,m as j,j as t,g as h,z as v,D as y}from"./index-61f88990.js";import{p as w,c as F,b as L,d as C}from"./selectors-c17f50ab.js";const k="_day_1fbih_1",E="_date_1fbih_15",S="_percFilled_1fbih_30",T="_perc_1fbih_30",I="_active_1fbih_50",n={day:k,date:E,percFilled:S,perc:T,active:I},R=s=>{const e=new Date,a=new Date(Number(s));return e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999),e.getTime()<a.getTime()},W=(s,e)=>{const a=new Date(Number(s)),r=new Date(Number(e));return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate()},$=({calendarDate:s,amount:e})=>{const a=D(),r=N(),c=i(f),{date:m}=j(),_=w(m),g=u=>{a(`/water/${u}`),r(v(u))},p=new Date(Number(s)).getDate(),l=c>0?Math.round(e/(c*1e3)*100):e,d=R(s),M=Math.round(l)<100,b=W(_,s),x=Math.round(l)>=100?"100%":`${l}%`;return t.jsxs("button",{className:h(n.day,{[n.disabled]:d}),disabled:d,onClick:()=>g(s),children:[t.jsx("div",{className:h(n.date,{[n.percFilled]:M,[n.active]:b}),children:p}),t.jsx("div",{className:n.perc,children:x})]})},A="_errorMessage_1kosl_1",Y="_container_1kosl_7",z="_calendarList_1kosl_13",o={errorMessage:A,container:Y,calendarList:z},q=()=>{const s=i(F),e=i(L),a=i(C);return e?t.jsx(y,{}):a?t.jsx("div",{className:o.container,children:t.jsx("h2",{className:o.errorMessage,children:"waterMonthErrorMessage"})}):t.jsx("div",{className:o.container,children:t.jsx("ul",{className:o.calendarList,children:s.map((r,c)=>t.jsx("li",{children:t.jsx($,{index:c,calendarDate:r.date,amount:r.amount})},c))})})};export{q as default};
