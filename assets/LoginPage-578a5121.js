import{j as s,A as $,r as m,u as T,c as k,a as y,g as M,l as P}from"./index-d90b842e.js";import{A}from"./AdvantagesSection-c72a40c1.js";import{c as a,G as E,a as w,F as L,b as q}from"./RegisterPage.module-a91d0975.js";import{u as f}from"./useModal-f48db793.js";import{u as v,c as z,a as B,L as R,o as Z}from"./Loader-28890093.js";import{s as x}from"./Logo-d97e08c6.js";const V="_modal_p6pnm_1",H="_closeBtn_p6pnm_16",D="_svg_p6pnm_35",G="_modalTextBox_p6pnm_40",O="_modalTitle_p6pnm_50",U="_modalText_p6pnm_40",W="_modalForm_p6pnm_68",J="_inputField_p6pnm_76",K="_errorInput_p6pnm_97",Q="_error_p6pnm_97",X="_modalBtnBox_p6pnm_106",Y="_btnSend_p6pnm_113",ss="_btnCancel_p6pnm_114",o={modal:V,closeBtn:H,svg:D,modalTextBox:G,modalTitle:O,modalText:U,modalForm:W,inputField:J,errorInput:K,error:Q,modalBtnBox:X,btnSend:Y,btnCancel:ss},es=({onClose:e})=>{const{register:r,handleSubmit:l,formState:{errors:t,isSubmitting:d}}=v({defaultValues:{email:""}}),i=()=>{const c=setTimeout(()=>{e(),clearTimeout(c)},$.DURATION)},p=async c=>{console.log(c)};return s.jsxs("div",{className:o.modal,children:[s.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:i,className:o.closeBtn,children:s.jsx("svg",{className:o.svg,children:s.jsx("use",{xlinkHref:`${x}#icon-x`})})}),s.jsxs("div",{className:o.modalTextBox,children:[s.jsx("h2",{className:o.modalTitle,children:"Забули пароль? "}),s.jsx("p",{className:o.modalText,children:"Ми надішлемо вам електронний лист із посиланням для скидання пароля."})]}),s.jsxs("form",{onSubmit:l(p),className:o.modalForm,children:[s.jsx("input",{type:"email",placeholder:"Введіть свою електронну пошту",...r("email",{required:"Валідація пошти",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Валідація пошти"}}),className:`${o.inputField} ${t.email?o.errorInput:""}`}),t.email&&s.jsx("div",{className:o.error,children:t.email.message}),s.jsxs("div",{className:o.modalBtnBox,children:[s.jsx("button",{type:"submit",className:o.btnSend,disabled:d,children:"Відправити посилання для скидання паролю"}),s.jsx("button",{type:"button",className:o.btnCancel,onClick:i,children:"Відміна"})]})]})]})},as={},os=()=>{const e=f(),r=m.useCallback(()=>{e()},[e]),l=m.useCallback(()=>{e(s.jsx(es,{onClose:r}))},[e,r]);return s.jsx("button",{type:"button",className:as.btnForgotPassword,onClick:l,children:"Забули пароль? Натисніть сюди для зміни паролю"})},ts=()=>{var g,h,j,b,_,N;const{t:e}=T(),r=k(),l=y(M),[t,d]=m.useState(!1),i=f(),p=m.useCallback(()=>{i()},[i]),c=z({email:B().required(e("emailRequired")).email(e("enterValidEmail")),password:B().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),F=()=>{d(!t)},{register:u,handleSubmit:C,formState:{errors:n}}=v({resolver:Z(c)}),S=I=>{r(P(I))};return s.jsx("div",{className:a.registerComponent,children:s.jsxs("form",{onSubmit:C(S),children:[s.jsx("h2",{className:a.registerTitle,children:e("logInTitle")}),s.jsxs("div",{className:a.registerForm,children:[s.jsxs("label",{className:a.registerLabel,children:[e("email"),s.jsx("input",{className:(g=n.email)!=null&&g.message?`${a.registerInputError}`:`${a.registerInput}`,...u("email"),placeholder:e("placeholderEmail")}),(h=n.email)!=null&&h.message?s.jsx("p",{className:a.registerErrorMessage,children:(j=n.email)==null?void 0:j.message}):""]}),s.jsxs("label",{className:a.registerLabel,children:[s.jsx("span",{children:e("password")}),s.jsxs("span",{className:a.registerPassword,children:[s.jsx("input",{type:t?"text":"password",className:(b=n.password)!=null&&b.message?`${a.registerInputError}`:`${a.registerInput}`,...u("password"),placeholder:e("placeholderPassword")}),s.jsx("button",{className:a.passwordIconBtn,type:"button",onClick:F,children:t===!1?s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:x+"#icon-eye-off"})}):s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:x+"#icon-eye"})})})]}),(_=n.password)!=null&&_.message?s.jsx("p",{className:a.registerErrorMessage,children:(N=n.password)==null?void 0:N.message}):""]}),s.jsx(os,{onClose:p})]}),l?s.jsx("div",{className:a.registerButtonsContainer,children:s.jsx(R,{height:44,width:44,label:"Увійти"})}):s.jsxs("div",{className:a.registerButtonsContainer,children:[s.jsx("button",{disabled:l&&!0,className:a.registerBtn,type:"submit",children:e("logIn")}),s.jsx(E,{})]})]})})},ds=()=>{const{t:e}=T();return s.jsxs("div",{className:w.registerPage,children:[s.jsxs(L,{children:[s.jsx(ts,{}),s.jsx(q,{link:"/register",text:e("footerText"),linkName:e("register")})]}),s.jsx("div",{className:w.registerPageRight,children:s.jsx(A,{})})]})};export{ds as default};
