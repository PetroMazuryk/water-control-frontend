import{k as ie,w as U,l as ce,r as b,m as L,n as H,o as S,p as Y,I as ue,u as z,c as Q,A as me,j as r,q as de,t as Z,a as pe,g as fe,v as he}from"./index-b7e6f698.js";import{A as xe}from"./AdvantagesSection-7baf686b.js";import{c as E,G as ge,a as J,F as je,b as ve}from"./RegisterPage.module-58968aa2.js";import{u as ee}from"./useModal-4587e9be.js";import{c as te,a as W,u as se,o as ne}from"./index.esm-634ad509.js";import{L as be}from"./Loader-c70c83a4.js";import{s as G}from"./Logo-7b8e5c06.js";var ye={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Ne=ie(ye);var _e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function X(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},s=e.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(t.name=s[1],(Ne[s[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var c=new RegExp(_e),a=null;(a=c.exec(e))!==null;)if(a[0].trim())if(a[1]){var f=a[1].trim(),m=[f,""];f.indexOf("=")>-1&&(m=f.split("=")),t.attrs[m[0]]=m[1],c.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,we=/^\s*$/,Te=Object.create(null);function re(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(s){var n=[];for(var c in s)n.push(c+'="'+s[c]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(re,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var ke={parse:function(e,t){t||(t={}),t.components||(t.components=Te);var s,n=[],c=[],a=-1,f=!1;if(e.indexOf("<")!==0){var m=e.indexOf("<");n.push({type:"text",content:m===-1?e:e.substring(0,m)})}return e.replace(Ee,function(x,g){if(f){if(x!=="</"+s.name+">")return;f=!1}var j,d=x.charAt(1)!=="/",y=x.startsWith("<!--"),u=g+x.length,l=e.charAt(u);if(y){var k=X(x);return a<0?(n.push(k),n):((j=c[a]).children.push(k),n)}if(d&&(a++,(s=X(x)).type==="tag"&&t.components[s.name]&&(s.type="component",f=!0),s.voidElement||f||!l||l==="<"||s.children.push({type:"text",content:e.slice(u,e.indexOf("<",u))}),a===0&&n.push(s),(j=c[a-1])&&j.children.push(s),c[a]=s),(!d||s.voidElement)&&(a>-1&&(s.voidElement||s.name===x.slice(2,-1))&&(a--,s=a===-1?n:c[a]),!f&&l!=="<"&&l)){j=a===-1?n:c[a].children;var i=e.indexOf("<",u),h=e.slice(u,i===-1?void 0:i);we.test(h)&&(h=" "),(i>-1&&a+j.length>=0||h!==" ")&&j.push({type:"text",content:h})}}),n},stringify:function(e){return e.reduce(function(t,s){return t+re("",s)},"")}};const R=(e,t)=>{var n;if(!e)return!1;const s=((n=e.props)==null?void 0:n.children)??e.children;return t?s.length>0:!!s},q=e=>{var s,n;if(!e)return[];const t=((s=e.props)==null?void 0:s.children)??e.children;return(n=e.props)!=null&&n.i18nIsDynamicList?F(t):t},$e=e=>Array.isArray(e)&&e.every(b.isValidElement),F=e=>Array.isArray(e)?e:[e],Ce=(e,t)=>{const s={...t};return s.props=Object.assign(e.props,t.props),s},ae=(e,t,s,n)=>{if(!e)return"";let c="";const a=F(e),f=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((m,x)=>{if(L(m)){c+=`${m}`;return}if(b.isValidElement(m)){const{props:g,type:j}=m,d=Object.keys(g).length,y=f.indexOf(j)>-1,u=g.children;if(!u&&y&&!d){c+=`<${j}/>`;return}if(!u&&(!y||d)||g.i18nIsDynamicList){c+=`<${x}></${x}>`;return}if(y&&d===1&&L(u)){c+=`<${j}>${u}</${j}>`;return}const l=ae(u,t,s,n);c+=`<${x}>${l}</${x}>`;return}if(m===null){H(s,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(S(m)){const{format:g,...j}=m,d=Object.keys(j);if(d.length===1){const y=g?`${d[0]}, ${g}`:d[0];c+=`{{${y}}}`;return}H(s,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:m});return}H(s,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:m})}),c},Be=(e,t,s,n,c,a)=>{if(t==="")return[];const f=n.transKeepBasicHtmlNodesFor||[],m=t&&new RegExp(f.map(i=>`<${i}`).join("|")).test(t);if(!e&&!m&&!a)return[t];const x={},g=i=>{F(i).forEach(p=>{L(p)||(R(p)?g(q(p)):S(p)&&!b.isValidElement(p)&&Object.assign(x,p))})};g(e);const j=ke.parse(`<0>${t}</0>`),d={...x,...c},y=(i,h,p)=>{var v;const _=q(i),B=l(_,h.children,p);return $e(_)&&B.length===0||(v=i.props)!=null&&v.i18nIsDynamicList?_:B},u=(i,h,p,_,B)=>{i.dummy?(i.children=h,p.push(b.cloneElement(i,{key:_},B?void 0:h))):p.push(...b.Children.map([i],v=>{const o={...v.props};return delete o.i18nIsDynamicList,b.createElement(v.type,{...o,key:_,ref:v.ref},B?null:h)}))},l=(i,h,p)=>{const _=F(i);return F(h).reduce((v,o,C)=>{var O,P;const A=((P=(O=o.children)==null?void 0:O[0])==null?void 0:P.content)&&s.services.interpolator.interpolate(o.children[0].content,d,s.language);if(o.type==="tag"){let $=_[parseInt(o.name,10)];p.length===1&&!$&&($=p[0][o.name]),$||($={});const N=Object.keys(o.attrs).length!==0?Ce({props:o.attrs},$):$,I=b.isValidElement(N),V=I&&R(o,!0)&&!o.voidElement,M=m&&S(N)&&N.dummy&&!I,D=S(e)&&Object.hasOwnProperty.call(e,o.name);if(L(N)){const w=s.services.interpolator.interpolate(N,d,s.language);v.push(w)}else if(R(N)||V){const w=y(N,o,p);u(N,w,v,C)}else if(M){const w=l(_,o.children,p);u(N,w,v,C)}else if(Number.isNaN(parseFloat(o.name)))if(D){const w=y(N,o,p);u(N,w,v,C,o.voidElement)}else if(n.transSupportBasicHtmlNodes&&f.indexOf(o.name)>-1)if(o.voidElement)v.push(b.createElement(o.name,{key:`${o.name}-${C}`}));else{const w=l(_,o.children,p);v.push(b.createElement(o.name,{key:`${o.name}-${C}`},w))}else if(o.voidElement)v.push(`<${o.name} />`);else{const w=l(_,o.children,p);v.push(`<${o.name}>${w}</${o.name}>`)}else if(S(N)&&!I){const w=o.children[0]?A:null;w&&v.push(w)}else u(N,A,v,C,o.children.length!==1||!A)}else if(o.type==="text"){const $=n.transWrapTextNodes,N=a?n.unescape(s.services.interpolator.interpolate(o.content,d,s.language)):s.services.interpolator.interpolate(o.content,d,s.language);$?v.push(b.createElement($,{key:`${o.name}-${C}`},N)):v.push(N)}return v},[])},k=l([{dummy:!0,children:e||[]}],j,F(e||[]));return q(k[0])},oe=(e,t,s)=>{const n=e.key||t,c=b.cloneElement(e,{key:n});if(!c.props||!c.props.children||s.indexOf(`${t}/>`)<0&&s.indexOf(`${t} />`)<0)return c;function a(){return b.createElement(b.Fragment,null,c)}return b.createElement(a)},Ae=(e,t)=>e.map((s,n)=>oe(s,n,t)),Ie=(e,t)=>{const s={};return Object.keys(e).forEach(n=>{Object.assign(s,{[n]:oe(e[n],n,t)})}),s},Se=(e,t,s,n)=>e?Array.isArray(e)?Ae(e,t):S(e)?Ie(e,t):(U(s,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null;function Fe({children:e,count:t,parent:s,i18nKey:n,context:c,tOptions:a={},values:f,defaults:m,components:x,ns:g,i18n:j,t:d,shouldUnescape:y,...u}){var N,I,V,M,D,w;const l=j||Y();if(!l)return U(l,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const k=d||l.t.bind(l)||(le=>le),i={...ce(),...(N=l.options)==null?void 0:N.react};let h=g||k.ns||((I=l.options)==null?void 0:I.defaultNS);h=L(h)?[h]:h||["translation"];const p=ae(e,i,l,n),_=m||p||i.transEmptyNodeValue||n,{hashTransKey:B}=i,v=n||(B?B(p||_):p||_);(M=(V=l.options)==null?void 0:V.interpolation)!=null&&M.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const o=f||t!==void 0&&!((w=(D=l.options)==null?void 0:D.interpolation)!=null&&w.alwaysFormat)||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},C={...a,context:c||a.context,count:t,...f,...o,defaultValue:_,ns:h},A=v?k(v,C):_,O=Se(x,A,l,n),P=Be(O||e,A,l,i,C,y),$=s??i.defaultTransParent;return $?b.createElement($,u,P):P}function Pe({children:e,count:t,parent:s,i18nKey:n,context:c,tOptions:a={},values:f,defaults:m,components:x,ns:g,i18n:j,t:d,shouldUnescape:y,...u}){var p;const{i18n:l,defaultNS:k}=b.useContext(ue)||{},i=j||l||Y(),h=d||(i==null?void 0:i.t.bind(i));return Fe({children:e,count:t,parent:s,i18nKey:n,context:c,tOptions:a,values:f,defaults:m,components:x,ns:g||(h==null?void 0:h.ns)||k||((p=i==null?void 0:i.options)==null?void 0:p.defaultNS),i18n:i,t:d,shouldUnescape:y,...u})}const Le="_modalBackdrop_12jfv_1",Oe="_modal_12jfv_1",Ve="_closeBtn_12jfv_27",Me="_svg_12jfv_43",De="_modalTextBox_12jfv_48",He="_modalTitle_12jfv_57",Re="_modalText_12jfv_48",qe="_modalForm_12jfv_73",We="_inputGroup_12jfv_82",Ge="_inputField_12jfv_89",ze="_errorInput_12jfv_108",Ze="_error_12jfv_108",Je="_modalBtnBox_12jfv_120",Xe="_btnSend_12jfv_127",Ke="_btnCancel_12jfv_128",T={modalBackdrop:Le,modal:Oe,closeBtn:Ve,svg:Me,modalTextBox:De,modalTitle:He,modalText:Re,modalForm:qe,inputGroup:We,inputField:Ge,errorInput:ze,error:Ze,modalBtnBox:Je,btnSend:Xe,btnCancel:Ke},Ue=({onClose:e})=>{var y;const{t}=z(),s=Q(),n=te({email:W().required(t("emailRequired")).email(t("enterValidEmail"))}),{register:c,handleSubmit:a,reset:f,formState:{errors:m,isSubmitting:x}}=se({resolver:ne(n),defaultValues:{email:""}}),g=b.useCallback(()=>{const u=setTimeout(()=>{e(),clearTimeout(u)},me)},[e]);b.useEffect(()=>{const u=l=>{l.key==="Escape"&&g()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[g]);const j=u=>{u.target===u.currentTarget&&g()},d=async({email:u})=>{try{await s(de(u)).unwrap(),Z.success(t("resetLinkSent")),f()}catch(l){Z.error(typeof l=="string"?l:t("errorDefault"))}};return r.jsx("div",{className:T.modalBackdrop,onClick:j,children:r.jsxs("div",{className:T.modal,children:[r.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:g,className:T.closeBtn,children:r.jsx("svg",{className:T.svg,children:r.jsx("use",{xlinkHref:`${G}#icon-x`})})}),r.jsxs("div",{className:T.modalTextBox,children:[r.jsx("h2",{className:T.modalTitle,children:t("forgotTitle")}),r.jsx("p",{className:T.modalText,children:t("forgotText")})]}),r.jsxs("form",{onSubmit:a(d),className:T.modalForm,children:[r.jsxs("div",{className:T.inputWrapper,children:[r.jsx("input",{type:"email",...c("email"),placeholder:t("placeholderEmail"),className:`${T.inputField} ${m.email?T.errorInput:""}`}),r.jsx("div",{className:`${T.error} ${m.email?"":T.hidden}`,children:((y=m.email)==null?void 0:y.message)||""})]}),r.jsxs("div",{className:T.modalBtnBox,children:[r.jsx("button",{type:"submit",className:T.btnSend,disabled:x,children:t(x?"loadingText":"sendText")}),r.jsx("button",{type:"button",className:T.btnCancel,onClick:g,children:t("cancel")})]})]})]})})},Ye="_textBtn_12uyc_1",Qe="_forgotPasswordBtn_12uyc_6",K={textBtn:Ye,forgotPasswordBtn:Qe},et=()=>{const e=ee(),t=b.useCallback(()=>{e()},[e]),s=b.useCallback(()=>{e(r.jsx(Ue,{onClose:t}))},[e,t]);return r.jsx("p",{className:K.textBtn,children:r.jsx(Pe,{i18nKey:"forgotPasswordMessage",components:{btn:r.jsx("button",{type:"button",className:K.forgotPasswordBtn,onClick:s})}})})},tt=()=>{var u,l,k,i,h,p;const{t:e}=z(),t=Q(),s=pe(fe),[n,c]=b.useState(!1),a=ee(),f=b.useCallback(()=>{a()},[a]),m=te({email:W().required(e("emailRequired")).email(e("enterValidEmail")),password:W().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),x=()=>{c(!n)},{register:g,handleSubmit:j,formState:{errors:d}}=se({resolver:ne(m)}),y=_=>{t(he(_))};return r.jsx("div",{className:E.registerComponent,children:r.jsxs("form",{onSubmit:j(y),children:[r.jsx("h2",{className:E.registerTitle,children:e("logInTitle")}),r.jsxs("div",{className:E.registerForm,children:[r.jsxs("label",{className:E.registerLabel,children:[e("email"),r.jsx("input",{className:(u=d.email)!=null&&u.message?`${E.registerInputError}`:`${E.registerInput}`,...g("email"),placeholder:e("placeholderEmail")}),(l=d.email)!=null&&l.message?r.jsx("p",{className:E.registerErrorMessage,children:(k=d.email)==null?void 0:k.message}):""]}),r.jsxs("label",{className:E.registerLabel,children:[r.jsx("span",{children:e("password")}),r.jsxs("span",{className:E.registerPassword,children:[r.jsx("input",{type:n?"text":"password",className:(i=d.password)!=null&&i.message?`${E.registerInputError}`:`${E.registerInput}`,...g("password"),placeholder:e("placeholderPassword")}),r.jsx("button",{className:E.passwordIconBtn,type:"button",onClick:x,children:n===!1?r.jsx("svg",{className:E.passwordIcon,children:r.jsx("use",{xlinkHref:G+"#icon-eye-off"})}):r.jsx("svg",{className:E.passwordIcon,children:r.jsx("use",{xlinkHref:G+"#icon-eye"})})})]}),(h=d.password)!=null&&h.message?r.jsx("p",{className:E.registerErrorMessage,children:(p=d.password)==null?void 0:p.message}):""]}),r.jsx(et,{onClose:f})]}),s?r.jsx("div",{className:E.registerButtonsContainer,children:r.jsx(be,{height:44,width:44,label:"Увійти"})}):r.jsxs("div",{className:E.registerButtonsContainer,children:[r.jsx("button",{disabled:s&&!0,className:E.registerBtn,type:"submit",children:e("logIn")}),r.jsx(ge,{})]})]})})},ct=()=>{const{t:e}=z();return r.jsxs("div",{className:J.registerPage,children:[r.jsxs(je,{children:[r.jsx(tt,{}),r.jsx(ve,{link:"/register",text:e("footerText"),linkName:e("register")})]}),r.jsx("div",{className:J.registerPageRight,children:r.jsx(xe,{})})]})};export{ct as default};
