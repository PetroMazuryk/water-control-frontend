import{r as i,M as ke,j as e,b as R,g as I,k as We,m as Se,n as X,i as De,A as _e,o as Me,u as T,p as je,q as Pe,t as be,v as $e,w as Le,f as fe,x as Ie,y as Ne,z as Re,B as Fe,C as He,D as Ve,E as Ee,F as Ue,G as qe,H as Oe,N as pe,I as Y,O as ze,J as Ge,K as Je,P as Ye}from"./index-0902d987.js";import{p as Q}from"./parseDate-629c4fe8.js";import{s as _,u as te,L as Xe}from"./sprite-4564206e.js";import{$ as Qe,c as ve,a as Te,d as se,u as Be,o as we,C as E,L as Ze}from"./Loader-abe4fd9d.js";import{L as Ke}from"./LangSwitch-ce2ad767.js";const Z=()=>i.useContext(ke),U=({width:s,height:t})=>e.jsx(Qe,{visible:!0,height:t,width:s,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),es="_WaterForm_1jleh_1",ss="_FormHeader_1jleh_13",ts="_AmountOfWater_1jleh_25",as="_TapAddWaterWrapper_1jleh_36",ns="_TapAddWater_1jleh_36",os="_TapAddWaterValue_1jleh_88",rs="_RecordingTimeLabel_1jleh_104",cs="_RecordingTime_1jleh_104",ls="_WaterValueLabel_1jleh_136",is="_WaterValue_1jleh_136",ds="_SaveBtn_1jleh_177",j={WaterForm:es,FormHeader:ss,AmountOfWater:ts,TapAddWaterWrapper:as,TapAddWater:ns,TapAddWaterValue:os,RecordingTimeLabel:rs,RecordingTime:cs,WaterValueLabel:ls,WaterValue:is,SaveBtn:ds,Error:"_Error_1jleh_213"},ms=({operationType:s="add",editTime:t,waterPortion:a,waterID:o,handleClose:l})=>{const[r,x]=i.useState(a),m=R(),[A,h]=i.useState(!1),N=new Date(t),p=N.getFullYear(),d=String(N.getMonth()+1).padStart(2,"0"),u=String(N.getDate()).padStart(2,"0"),v=s==="add"?new Date:N,B=String(v.getHours()).padStart(2,"0"),y=String(v.getMinutes()).padStart(2,"0"),[M,ae]=i.useState(B),[F,q]=i.useState(y),O=ve().shape({recordingTime:Te().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:se().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:c,handleSubmit:w,setValue:g,formState:{errors:L}}=Be({resolver:we(O),defaultValues:{recordingTime:`${M}:${F}`,waterValue:r.toString()}}),ne=C=>{const K=new Date(`${p}-${d}-${u}T${M}:${F}:00`).getTime().toString(),ce={amount:C.waterValue,date:K},ye={amount:C.waterValue,date:K};switch(h(!0),s){case"add":m(Se(ce)).then(({error:le})=>{le?h(!1):(h(!1),l())});break;case"edit":m(We({id:o,formData:ye})).then(({error:le})=>{le?h(!1):(h(!1),l())});break;default:h(!1);break}},oe=C=>{switch(C){case"add":return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"});case"edit":return e.jsx("p",{className:j.FormHeader,children:"Виправити дані:"});default:return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"})}},k=C=>{x(C),g("waterValue",C.toString())},D=r===50,re=r===5e3;return e.jsxs("form",{className:j.WaterForm,onSubmit:w(ne),children:[oe(s),e.jsx("p",{className:j.AmountOfWater,children:"Кількість води:"}),e.jsxs("div",{className:j.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(Math.max(r-50,0)),disabled:D,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-minus"})})}),e.jsxs("p",{className:j.TapAddWaterValue,children:[r," ","ml"]}),e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(r+50),disabled:re,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-plus"})})})]}),e.jsxs("label",{className:j.RecordingTimeLabel,children:["Час запису:",e.jsx(E,{name:"recordingTime",control:c,render:({field:C})=>e.jsx("input",{...C,type:"text",className:I(j.RecordingTime),placeholder:"HH:MM",onChange:z=>{const[K,ce]=z.target.value.split(":");ae(K),q(ce),C.onChange(z)}})}),L.recordingTime&&e.jsx("p",{className:j.Error,children:L.recordingTime.message})]}),e.jsxs("label",{className:j.WaterValueLabel,children:["Введіть обєм води:",e.jsx(E,{name:"waterValue",control:c,render:({field:C})=>e.jsx("input",{...C,type:"number",value:r||"",onChange:z=>k(Number(z.target.value)),className:j.WaterValue})}),L.waterValue&&e.jsx("p",{className:j.Error,children:L.waterValue.message})]}),e.jsx("button",{type:"submit",className:j.SaveBtn,disabled:A,children:A?e.jsx(U,{height:44,width:44}):"Зберегти"})]})},us={DURATION:15},xs="_WaterModal_198kh_1",_s="_WaterModalCloseBtn_198kh_22",ge={WaterModal:xs,WaterModalCloseBtn:_s},he=({operationType:s,onClose:t,water:a={},timestampFromUrl:o=""})=>{const l=()=>{const p=setTimeout(()=>{t(),clearTimeout(p)},us.DURATION)},r=p=>{switch(p){case"add":return"Додавання води";case"edit":return"Редагувати кількість води";default:return"Додавання води"}},x=Number(o),m=Number(a.date),A=p=>{switch(p){case"add":return x;case"edit":return m}},h=p=>{switch(p){case"add":return 50;case"edit":return a.amount;default:return 50}},N=p=>{switch(p){case"add":return null;case"edit":return a.id;default:return null}};return e.jsxs("div",{className:ge.WaterModal,children:[e.jsx("h1",{children:r(s)}),e.jsx(ms,{operationType:s,editTime:A(s),waterPortion:h(s),waterID:N(s),handleClose:l}),e.jsx("button",{type:"button",onClick:l,"aria-label":"closeWaterModal",className:ge.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})})]})},hs="_btnAdd_zsldf_1",ps="_btnText_zsldf_14",gs="_plus_zsldf_15",ie={btnAdd:hs,btnText:ps,plus:gs},js=()=>{const{t:s}=te(),t=Z(),{date:a}=X(),o=Q(a),l=i.useCallback(()=>{t()},[t]),r=i.useCallback(()=>{t(e.jsx(he,{onClose:l,operationType:"add",timestampFromUrl:o}))},[t,l,o]);return e.jsxs("button",{type:"button",className:ie.btnAdd,onClick:r,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsx("h2",{className:ie.btnText,children:s("addWater")})]})},bs="_modal_10779_1",fs="_closeBtn_10779_16",Ns="_svg_10779_35",vs="_modalTextBox_10779_40",Ts="_modalTitle_10779_50",Bs="_modalText_10779_40",ws="_modalBtnBox_10779_70",Cs="_userCountItem_10779_80",As="_like_10779_94",ys="_likeActive_10779_105",ks="_loaderWrapper_10779_110",Ws="_btnCancel_10779_156",W={modal:bs,closeBtn:fs,svg:Ns,modalTextBox:vs,modalTitle:Ts,modalText:Bs,modalBtnBox:ws,userCountItem:Cs,like:As,likeActive:ys,loaderWrapper:ks,btnCancel:Ws},Ss=({onClose:s,currentAccess:t})=>{const a=R(),[o,l]=i.useState({}),[r,x]=i.useState([]),[m,A]=i.useState(t),h="admin2006@gmail.com";i.useEffect(()=>{async function d(){try{const u=await De();x(u.data.users),A(!m)}catch(u){console.log(u.message)}}d()},[]);const N=()=>{const d=setTimeout(()=>{s(),clearTimeout(d)},_e.DURATION)},p=async(d,u)=>{try{l(B=>({...B,[d]:!0}));const v=await a(Me({id:d,access:!u}));v.error?console.error("Помилка оновлення доступу:",v.error):x(B=>B.map(y=>y.id===d?{...y,access:!u}:y))}catch(v){console.error("Щось пішло не так:",v)}finally{l(v=>({...v,[d]:!1}))}};return e.jsxs("div",{className:W.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:N,className:W.closeBtn,children:e.jsx("svg",{className:W.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:W.modalTextBox,children:[e.jsx("h2",{className:W.modalTitle,children:"Список усіх користувачів"}),r.length>0?e.jsx("ul",{className:W.userCountList,children:r.filter(d=>d.email!==h).map(d=>e.jsxs("li",{className:W.userCountItem,children:[e.jsx("p",{children:d.email}),e.jsx("div",{className:W.loaderWrapper,children:o[d.id]?e.jsx(U,{height:30,width:30}):e.jsx("button",{children:e.jsx("svg",{onClick:()=>p(d.id,d.access),className:`${W.like} ${d.access?W.likeActive:""}`,children:e.jsx("use",{href:`${_}#icon-heart`})})})})]},d.id))}):e.jsx("p",{children:"Користувачі не знайдені."})]})]})},Ds="_btnAdd_a3w66_1",Ms="_btnText_a3w66_15",Ps="_plus_a3w66_16",de={btnAdd:Ds,btnText:Ms,plus:Ps},$s=()=>{const{t:s}=te(),t=Z(),a=i.useCallback(()=>{t(e.jsx(Ss,{onClose:()=>t(null)}))},[t]);return e.jsxs("button",{type:"button",className:de.btnAdd,onClick:a,children:[e.jsx("svg",{className:de.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-admin`})}),e.jsx("h2",{className:de.btnText,children:s("adminBtn")})]})},Ls=["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],Is=s=>{const t=new Date;return{isToday:t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate(),day:s.getDate(),month:Ls[s.getMonth()]}},Rs="_selectedDate_14sit_1",Fs={selectedDate:Rs},Ce=({className:s})=>{const{date:t}=X(),{isToday:a,day:o,month:l}=Is(Q(t)),r=a?"Сьогодні":`${o} ${l}`;return e.jsx("p",{className:I(Fs.selectedDate,s),children:r})},Hs="_progressBarContainer_v5cic_1",Vs="_progressBarTitle_v5cic_14",Es="_progressBar_v5cic_1",Us="_progressBarFill_v5cic_29",qs="_belowAim_v5cic_38",Os="_aboveAim_v5cic_44",zs="_belowAimRate_v5cic_50",Gs="_aboveAimRate_v5cic_54",Js="_ball_v5cic_58",Ys="_percentNumber_v5cic_69",Xs="_percentContainer_v5cic_79",Qs="_percent_v5cic_69",b={progressBarContainer:Hs,progressBarTitle:Vs,progressBar:Es,progressBarFill:Us,belowAim:qs,aboveAim:Os,belowAimRate:zs,aboveAimRate:Gs,ball:Js,percentNumber:Ys,percentContainer:Xs,percent:Qs},Zs=()=>{const s=T(je),a=(r=>!r||r.length===0?0:r.reduce((x,m)=>{const A=m.percentage||0;return x+A},0))(s),o=a<100,l=Math.min(Math.max(a,0),100);return e.jsxs("div",{className:b.progressBarContainer,children:[e.jsx("h3",{className:b.progressBarTitle,children:e.jsx(Ce,{})}),e.jsx("div",{className:b.progressBar,children:e.jsxs("div",{className:I(b.progressBarFill,{[b.belowAim]:o,[b.aboveAim]:!o}),style:{width:`${l}%`},children:[e.jsx("p",{className:I(b.percentNumber,{[b.belowAimRate]:o,[b.aboveAimRate]:!o}),children:a>=100?"Норма":`${a.toFixed(0)}%`}),e.jsx("div",{className:I(b.ball,{[b.belowAim]:a<100,[b.aboveAim]:a>=100})})]})}),e.jsxs("div",{className:b.percentContainer,children:[e.jsx("p",{className:b.percent,children:"0%"}),e.jsx("p",{className:b.percent,children:"50%"}),e.jsx("p",{className:b.percent,children:"100%"})]})]})},Ks="_waterContainer_szgl7_1",et="_normaContainer_szgl7_16",st="_normaL_szgl7_28",tt="_normaText_szgl7_35",at="_waterTitle_szgl7_53",G={waterContainer:Ks,normaContainer:et,normaL:st,normaText:tt,waterTitle:at},nt=()=>{const{t:s}=te(),t=T(Pe),a=T(be),o="admin2006@gmail.com",l=t<1?`${t*1e3} ${s("ml")}`:`${t} ${s("l")}`;return e.jsxs("div",{className:G.waterContainer,children:[e.jsx(Xe,{className:G.waterTitle}),t===0?"":e.jsxs("div",{className:G.normaContainer,children:[e.jsx("h2",{className:G.normaL,children:l}),e.jsx("p",{className:G.normaText,children:s("dailyNorm")})]}),t===0?"":e.jsx(Zs,{}),t===0?"":e.jsx(js,{}),a===o&&e.jsx($s,{})]})},ot="_btnLogout_1xwlm_1",rt={btnLogout:ot},ct=({handleClose:s})=>{const t=R(),a=$e(),o=()=>{t(Le()).then(({error:l})=>{l||(a("/"),s())})};return e.jsx("button",{type:"button",onClick:o,className:rt.btnLogout,children:"Вийти"})},lt="_modal_1spmq_1",it="_closeBtn_1spmq_16",dt="_svg_1spmq_35",mt="_modalTextBox_1spmq_40",ut="_modalTitle_1spmq_50",xt="_modalText_1spmq_40",_t="_modalBtnBox_1spmq_70",ht="_btnCancel_1spmq_80",P={modal:lt,closeBtn:it,svg:dt,modalTextBox:mt,modalTitle:ut,modalText:xt,modalBtnBox:_t,btnCancel:ht},pt=({onClose:s})=>{const t=T(fe),a=()=>{const o=setTimeout(()=>{s(),clearTimeout(o)},_e.DURATION)};return e.jsxs("div",{className:P.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:a,className:P.closeBtn,children:e.jsx("svg",{className:P.svg,children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})}),e.jsxs("div",{className:P.modalTextBox,children:[e.jsx("h2",{className:P.modalTitle,children:"Вийти"}),e.jsx("p",{className:P.modalText,children:"Ви дійсно хочете вийти?"})]}),e.jsx("div",{className:P.modalBtnBox,children:t?e.jsx(U,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:a,className:P.btnCancel,children:"Скасувати"}),e.jsx(ct,{handleClose:a})]})})]})},Ae="data:image/png;base64,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",gt="_userAvatar_1fnxk_1",jt="_loader_1fnxk_20",bt="_uploadContainer_1fnxk_28",ft="_icon_1fnxk_36",Nt="_ordinaryText_1fnxk_49",vt="_hideBtn_1fnxk_72",Tt="_userSettingForm_1fnxk_76",Bt="_boldText_1fnxk_95",wt="_genderContainer_1fnxk_101",Ct="_radioContainer_1fnxk_106",At="_radioInput_1fnxk_116",yt="_userPreferences_1fnxk_141",kt="_formNameEmail_1fnxk_147",Wt="_formWeightTime_1fnxk_152",St="_formula_1fnxk_165",Dt="_inputBox_1fnxk_169",Mt="_formulaDescription_1fnxk_193",Pt="_formulaExpression_1fnxk_207",$t="_temporarySymbol_1fnxk_221",Lt="_formulaDescriptionText_1fnxk_231",It="_submitBtn_1fnxk_235",Rt="_loaderWrapper_1fnxk_259",Ft="_boldTextBtn_1fnxk_266",Ht="_consumeWater_1fnxk_273",Vt="_userNorma_1fnxk_280",Et="_langButton_1fnxk_288",Ut="_errorMessage_1fnxk_298",n={userAvatar:gt,loader:jt,uploadContainer:bt,icon:ft,ordinaryText:Nt,hideBtn:vt,userSettingForm:Tt,boldText:Bt,genderContainer:wt,radioContainer:Ct,radioInput:At,userPreferences:yt,formNameEmail:kt,formWeightTime:Wt,formula:St,inputBox:Dt,formulaDescription:Mt,formulaExpression:Pt,temporarySymbol:$t,formulaDescriptionText:Lt,submitBtn:It,loaderWrapper:Rt,boldTextBtn:Ft,consumeWater:Ht,userNorma:Vt,langButton:Et,errorMessage:Ut},qt=({handleClose:s})=>{const t=R(),a=T(Ie),o=T(Ne),[l,r]=i.useState(0),x=T(fe),m=T(Re),A=ve({name:Te().min(2,"Назва має містити не менше 2 символів").max(60,"Максимальна кількість символів імені 60").required("Імя обовязково"),weight:se().min(0).max(300,"Вага значення менше 300").typeError("Має бути числом"),dailyActiveTime:se().min(0).max(12,"Час активного спорту").typeError("Має бути числом"),dailyWaterConsumption:se().min(0).max(8,"Добове споживання води максимум 8 л").typeError("Має бути числом")}),{control:h,register:N,handleSubmit:p,watch:d,formState:{errors:u}}=Be({resolver:we(A),defaultValues:{email:a.email,gender:a.gender,name:a.name,weight:a.weight,dailyActiveTime:a.dailyActiveTime,dailyWaterConsumption:a.dailyWaterConsumption},mode:"onChange"}),v=d("weight"),B=d("gender"),y=d("dailyActiveTime");i.useEffect(()=>{let c;const w=parseInt(v||0),g=parseInt(y||0);B==="woman"?c=w*.03+g*.4:c=w*.04+g*.6,r(Math.min(parseFloat(c),8).toFixed(2))},[y,B,v]);const M=c=>{const{photo:w,...g}=a;/\s$/.test(c.name)&&(c.name=c.name.trim());const ne=Object.keys(g).sort().reduce((k,D)=>(k[D]=g[D],k),{}),oe=Object.keys(c).sort().reduce((k,D)=>(k[D]=c[D],k),{});if(JSON.stringify(ne)!==JSON.stringify(oe)){const{email:k,...D}=c;t(Fe(D)).then(({error:re})=>{re||s()})}else s()},ae=c=>{const w=new FormData,g=c.target.files[0];g&&(w.append("avatar",g),t(He(w)))},F=c=>w=>{let g=w.target.value;(g===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(g))&&c.onChange(g)},q=c=>()=>{c.value===0&&c.onChange("")},O=c=>()=>{c.value===""?c.onChange(0):c.value.startsWith(".")&&c.onChange("0"+c.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:n.userAvatar,children:[m?e.jsx("div",{className:n.loader,children:e.jsx(U,{})}):e.jsx("img",{src:o||`${Ae}`,alt:"User photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:n.uploadContainer,children:[e.jsx("svg",{className:n.icon,children:e.jsx("use",{xlinkHref:`${_}#icon-upload`})}),e.jsx("span",{className:n.ordinaryText,children:"Завантажити фото"})]}),e.jsx("input",{className:n.hideBtn,type:"file",accept:"image/*",onChange:ae}),u.avatar&&e.jsx("p",{children:u.avatar.message})]})]}),e.jsxs("form",{onSubmit:p(M),className:n.userSettingForm,children:[e.jsx("div",{className:n.genderContainer,children:e.jsxs("label",{className:n.genderIdentity,children:[e.jsx("span",{className:n.boldText,children:"Ваша стать"}),e.jsxs("div",{className:n.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:n.radioInput,...N("gender"),value:"woman",checked:B==="woman"}),e.jsx("label",{htmlFor:"woman",className:n.ordinaryText,children:"Жіноче"}),e.jsx("input",{type:"radio",id:"man",className:n.radioInput,...N("gender"),value:"man",checked:B==="man"}),e.jsx("label",{htmlFor:"man",className:n.ordinaryText,children:"Чоловіче"})]}),u.gender&&e.jsx("p",{className:n.errorMessage,children:u.gender.message})]})}),e.jsxs("div",{className:n.userPreferences,children:[e.jsxs("div",{className:n.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Ваше ім'я"}),e.jsx(E,{render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,placeholder:"Користувач",onChange:w=>{let g=w.target.value;/^\s|\s{2}$/.test(g)||c.onChange(g)}}),name:"name",control:h}),u.name&&e.jsx("p",{className:n.errorMessage,children:u.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Пошта"}),e.jsx("input",{disabled:!0,...N("email"),className:n.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:n.formula,children:[e.jsx("p",{className:n.boldText,children:"Моя щоденна норма"}),e.jsxs("div",{className:n.formulaDescription,children:[e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для жінок: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для чоловіків: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.formulaExpression,children:"* "}),e.jsx("span",{className:n.formulaDescriptionText,children:"* V - об'єм водної норми в літрах на день, М - ваша вага, Т - час активних занять спортом або іншої активної діяльності (у разі відсутності встановіть 0)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.temporarySymbol,children:"! "}),"Активний час (години)"]})]})]}),e.jsxs("div",{className:n.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Ваша вага (кг):"}),e.jsx(E,{name:"weight",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.weight&&e.jsx("p",{className:n.errorMessage,children:u.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Час активних занять спортом:"}),e.jsx(E,{name:"dailyActiveTime",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.dailyActiveTime&&e.jsx("p",{className:n.errorMessage,children:u.dailyActiveTime.message})]}),e.jsxs("div",{className:n.consumeWater,children:[e.jsxs("p",{className:n.ordinaryText,children:["Потрібна кількість води в літрах на день:  ",e.jsxs("span",{className:n.userNorma,children:[isNaN(l)?0:l," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Запишіть, скільки води ви вип'єте:"}),e.jsx(E,{name:"dailyWaterConsumption",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.dailyWaterConsumption&&e.jsx("p",{className:n.errorMessage,children:u.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:x,type:"submit",className:`${n.submitBtn} ${n.boldTextBtn}`,children:["Зберегти",x&&e.jsx("div",{className:n.loaderWrapper,children:e.jsx(U,{height:56,width:56})})]})]})]})},Ot="_modalSettingContainer_1md4x_1",zt="_modalHeader_1md4x_14",Gt="_closeBtn_1md4x_29",Jt="_icon_1md4x_44",ee={modalSettingContainer:Ot,modalHeader:zt,closeBtn:Gt,icon:Jt},Yt=({onClose:s})=>e.jsxs("div",{className:ee.modalSettingContainer,children:[e.jsxs("div",{className:ee.modalHeader,children:[e.jsx("h2",{children:"Налаштування"}),e.jsx(Ke,{}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:ee.closeBtn,onClick:s,children:e.jsx("svg",{className:ee.icon,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})})]}),e.jsx(qt,{handleClose:s})]}),Xt="_userBarPopup_1ap7q_1",Qt="_userBarPopupList_1ap7q_16",Zt="_userBarPopupListItem_1ap7q_23",Kt="_userBarPopupIcon_1ap7q_40",H={userBarPopup:Xt,userBarPopupList:Qt,userBarPopupListItem:Zt,userBarPopupIcon:Kt},ea=()=>{const s=Z(),t=i.useCallback(()=>{s()},[s]),a=i.useCallback(()=>{s(e.jsx(Yt,{onClose:t}))},[s,t]),o=i.useCallback(()=>{s(e.jsx(pt,{onClose:t}))},[s,t]);return e.jsx("div",{className:H.userBarPopup,children:e.jsxs("ul",{className:H.userBarPopupList,children:[e.jsxs("li",{className:H.userBarPopupListItem,onClick:a,children:[e.jsx("svg",{className:H.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-settings`})}),"Профіль"]}),e.jsxs("li",{className:H.userBarPopupListItem,onClick:o,children:[e.jsx("svg",{className:H.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-log-out`})}),"Вийти"]})]})})},sa="_userBarWrapper_1k17p_1",ta="_userBar_1k17p_1",aa="_userBarText_1k17p_24",na="_userBarAvatar_1k17p_32",oa="_userBarIcon_1k17p_44",ra="_rotate_1k17p_56",V={userBarWrapper:sa,userBar:ta,userBarText:aa,userBarAvatar:na,userBarIcon:oa,rotate:ra},ca=({name:s})=>{const[t,a]=i.useState(!1),o=T(Ne),l=i.useRef(null),r=m=>{l.current&&!l.current.contains(m.target)&&m.target.name!=="openPopover"&&a(!1)};i.useEffect(()=>(t?document.addEventListener("mousedown",r):document.removeEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[t]);const x=()=>{a(m=>!m)};return e.jsxs("div",{className:V.userBarWrapper,children:[e.jsxs("button",{className:V.userBar,type:"button",name:"openPopover",onClick:x,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:V.userBarText,children:s}),e.jsx("div",{className:V.userBarAvatar,style:{backgroundImage:`url(${o||Ae})`}}),e.jsx("svg",{className:`${V.userBarIcon} ${t?V.rotate:""}`,children:e.jsx("use",{xlinkHref:`${_}#icon-chevron-down`})})]}),t&&e.jsx("div",{ref:l,children:e.jsx(ea,{})})]})},la="_userPanel_iff7o_1",ia="_userPanelTitle_iff7o_7",da="_userPanelTitleName_iff7o_18",me={userPanel:la,userPanelTitle:ia,userPanelTitleName:da},ma=()=>{const s=T(Ve),t=T(be),a=t?t.split("@")[0]:null,o=s==="User"?a:s;return e.jsxs("div",{className:me.userPanel,children:[e.jsxs("h1",{className:me.userPanelTitle,children:["Привіт,",e.jsx("span",{className:me.userPanelTitleName,children:o})]}),e.jsx(ca,{name:s})]})},ua="_btnStyle_445u2_1",xa="_iconStyle_445u2_15",_a="_btnStyleText_445u2_31",ue={btnStyle:ua,iconStyle:xa,btnStyleText:_a},ha=()=>{const{t:s}=te(),t=Z(),a=i.useCallback(()=>{t()},[t]),{date:o}=X(),l=Q(o).getTime(),r=i.useCallback(()=>{t(e.jsx(he,{onClose:a,operationType:"add",timestampFromUrl:l}))},[t,a,l]);return e.jsxs("button",{className:ue.btnStyle,type:"button",onClick:r,children:[e.jsx("svg",{className:ue.iconStyle,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsxs("span",{className:ue.btnStyleText,children:[" ",s("addWater")]})]})},pa=s=>{const t=new Date(Number(s));let a=t.getHours();const o=t.getMinutes(),l=a>=12?"PM":"AM";a>=12&&(a=a%12,a=a||12);const r=a.toString().padStart(2,"0"),x=o.toString().padStart(2,"0");return`${r}:${x} ${l}`},ga=s=>s>=1e3?{value:s/1e3,text:"л"}:{value:s,text:"мл"},ja="_btnDelete_19mt5_1",ba={btnDelete:ja},fa=({isLoading:s,handleDelete:t})=>e.jsx("button",{type:"button",className:ba.btnDelete,onClick:()=>t(),disabled:s,children:"Видалити"}),Na="_modal_z4bq9_1",va="_closeBtn_z4bq9_16",Ta="_svg_z4bq9_35",Ba="_modalTextBox_z4bq9_40",wa="_modalTitle_z4bq9_50",Ca="_modalText_z4bq9_40",Aa="_modalBtnBox_z4bq9_70",ya="_btnCancel_z4bq9_80",$={modal:Na,closeBtn:va,svg:Ta,modalTextBox:Ba,modalTitle:wa,modalText:Ca,modalBtnBox:Aa,btnCancel:ya},ka=({id:s,onClose:t})=>{const a=R(),[o,l]=i.useState(!1),r=()=>{const m=setTimeout(()=>{t(),clearTimeout(m)},_e.DURATION)},x=()=>{l(()=>!0),a(Ee(s)).then(({error:m})=>{m?console.error("Помилка видалення запису:",m):r(),l(!1)})};return e.jsxs("div",{className:$.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:r,className:$.closeBtn,children:e.jsx("svg",{className:$.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:$.modalTextBox,children:[e.jsx("h2",{className:$.modalTitle,children:"Видалити запис"}),e.jsx("p",{className:$.modalText,children:"Ви дійсно хочете видалити запис ?"})]}),e.jsx("div",{className:$.modalBtnBox,children:o?e.jsx(U,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:r,className:$.btnCancel,children:"Відміна"}),e.jsx(fa,{handleDelete:x,id:s})]})})]})},Wa="_waterItemContent_1msly_1",Sa="_waterInfo_1msly_12",Da="_waterAmount_1msly_15",Ma="_waterDate_1msly_22",Pa="_iconWaterGlass_1msly_28",$a="_editButton_1msly_40",La="_deleteButton_1msly_41",Ia="_containerButtons_1msly_53",Ra="_iconAction_1msly_59",S={waterItemContent:Wa,waterInfo:Sa,waterAmount:Da,waterDate:Ma,iconWaterGlass:Pa,editButton:$a,deleteButton:La,containerButtons:Ia,iconAction:Ra},Fa=({water:s})=>{const t=Z(),a=i.useCallback(()=>{t()},[t]),o=i.useCallback(()=>{t(e.jsx(ka,{id:s.id,onClose:a}))},[t,a,s]),l=i.useCallback(()=>{t(e.jsx(he,{water:s,onClose:a,operationType:"edit"}))},[t,a,s]),r=ga(s.amount);return e.jsxs("div",{className:S.waterItemContent,children:[e.jsx("svg",{className:S.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:_+"#icon-glass"})}),e.jsxs("div",{className:S.waterInfo,children:[e.jsx("p",{className:S.waterAmount,children:`${r.value} ${r.text}`}),e.jsx("p",{className:S.waterDate,children:pa(s.date)})]}),e.jsxs("div",{className:S.containerButtons,children:[e.jsx("button",{className:S.editButton,onClick:l,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:_+"#icon-edit"})})}),e.jsx("button",{className:S.deleteButton,onClick:o,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:_+"#icon-trash"})})})]})]})},Ha="_waterList_nhslc_1",Va="_messageContainer_nhslc_12",Ea="_noWater_nhslc_21",Ua="_skeleton_nhslc_68",qa="_shimmer_nhslc_1",J={waterList:Ha,messageContainer:Va,noWater:Ea,skeleton:Ua,shimmer:qa},Oa=()=>{const s=T(je);return T(Ue)?e.jsx("div",{className:J.waterList,children:[1,2,3].map(a=>e.jsx("div",{className:J.skeleton},a))}):s.length?e.jsx("ul",{className:J.waterList,children:s.map(a=>e.jsx("li",{children:e.jsx(Fa,{water:a})},a.id))}):e.jsx("div",{className:J.messageContainer,children:e.jsx("h2",{className:J.noWater,children:"Вода ще не додана"})})},za="_info_iy33z_1",Ga="_dailyFont_iy33z_7",Ja="_header_iy33z_20",Ya="_title_iy33z_28",Xa="_button_iy33z_43",Qa="_icon_iy33z_67",Za="_iconBackground_iy33z_90",xe={info:za,dailyFont:Ga,header:Ja,title:Ya,button:Xa,icon:Qa,iconBackground:Za},Ka=()=>e.jsxs("div",{className:xe.info,children:[e.jsxs("div",{className:xe.header,children:[e.jsx(Ce,{className:xe.dailyFont}),e.jsx(ha,{})]}),e.jsx(Oa,{})]}),en=({title:s,styles:t})=>e.jsx("span",{className:t,children:s}),sn=["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень"," Жовтень"," Листопад","Грудень"],tn="_btn_11ww4_1",an="_btnDisabled_11ww4_13",nn="_svgSchedule_11ww4_17",on="_svgPie_11ww4_18",rn="_calendarTitle_11ww4_28",cn="_month_11ww4_39",ln="_monthInd_11ww4_46",dn="_monthYear_11ww4_69",mn="_statisticBtn_11ww4_76",un="_svgArrowLeft_11ww4_86",xn="_svgArrowRight_11ww4_87",_n="_isHidden_11ww4_98",f={btn:tn,btnDisabled:an,svgSchedule:nn,svgPie:on,calendarTitle:rn,month:cn,monthInd:ln,monthYear:dn,statisticBtn:mn,svgArrowLeft:un,svgArrowRight:xn,isHidden:_n},hn=()=>{const s=R(),{date:t}=X(),a=Q(t),[o,l]=i.useState(new Date(a).getFullYear()),[r,x]=i.useState(new Date(a).getMonth()),m=T(qe),h=Oe().pathname.split("/").pop(),N=()=>{if(r===11){s(Y(new Date(o+1,0,4).getTime())),x(0),l(o+1);return}s(Y(new Date(o,r+1,4).getTime())),x(r+1)},p=()=>{if(r===0){s(Y(new Date(o-1,11,4).getTime())),x(11),l(o-1);return}s(Y(new Date(o,r-1,4).getTime())),x(r-1)},d=sn[r],u=h==="schedule"?"Статистика":"Місяць",v=new Date(Date.now()).getFullYear(),B=new Date(Date.now()).getMonth(),y=new Date(v,B)<=new Date(o,r);return e.jsxs("div",{className:f.calendarTitle,children:[e.jsx(en,{title:u,styles:f.month}),e.jsxs("div",{className:f.monthInd,children:[e.jsx("button",{onClick:p,className:f.btn,disabled:m,children:e.jsx("svg",{className:f.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx("span",{className:f.monthYear,children:`${d}, ${o}`}),e.jsx("button",{onClick:N,className:`${f.btn} ${y?f.btnDisabled:""} `,disabled:m||y,children:e.jsx("svg",{className:f.svgArrowRight,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx(pe,{to:"calendar",className:({isActive:M})=>I(f.statisticBtn,{[f.isHidden]:M}),children:e.jsx("svg",{className:f.svgSchedule,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})}),e.jsx(pe,{to:"schedule",className:({isActive:M})=>I(f.statisticBtn,{[f.isHidden]:M}),children:e.jsx("svg",{className:f.svgPie,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})})]})]})},pn=()=>e.jsxs("div",{children:[e.jsx(hn,{}),e.jsx(i.Suspense,{fallback:e.jsx(Ze,{}),children:e.jsx(ze,{})})]}),gn="_waterDetailedInfo_199e5_1",jn={waterDetailedInfo:gn},bn=()=>e.jsxs("section",{className:jn.waterDetailedInfo,children:[e.jsx(ma,{}),e.jsx(Ka,{}),e.jsx(pn,{})]}),fn="_waterPage_16oaj_1",Nn="_registerPageRight_16oaj_8",vn={waterPage:fn,registerPageRight:Nn},yn=()=>{const{date:s}=X(),t=R(),a=Q(s).getTime(),[o,l]=i.useState(!0);return i.useEffect(()=>{if(o){const r=Date.now();t(Ge()),t(Je(a)),t(Y(a)),t(Ye(r)),l(!1)}},[o,a,t]),e.jsxs("div",{className:vn.waterPage,children:[e.jsx(nt,{}),e.jsx(bn,{})]})};export{yn as default};
