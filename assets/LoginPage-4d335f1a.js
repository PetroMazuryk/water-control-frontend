import{k as ie,w as U,l as ce,r as y,m as q,n as D,o as S,p as Y,I as ue,u as z,c as Q,A as me,j as n,q as de,t as Z,a as pe,g as fe,v as he}from"./index-5ba6e94f.js";import{A as xe}from"./AdvantagesSection-b749c897.js";import{c as E,G as ge,a as J,F as ve,b as be}from"./RegisterPage.module-b6172242.js";import{u as ee}from"./useModal-0665662f.js";import{c as te,a as W,u as se,o as re}from"./index.esm-287c78fd.js";import{L as ye}from"./Loader-b301a623.js";import{s as G}from"./Logo-e312413d.js";var je={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Ne=ie(je);var _e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function X(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},s=e.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(t.name=s[1],(Ne[s[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var c=new RegExp(_e),a=null;(a=c.exec(e))!==null;)if(a[0].trim())if(a[1]){var f=a[1].trim(),m=[f,""];f.indexOf("=")>-1&&(m=f.split("=")),t.attrs[m[0]]=m[1],c.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,we=/^\s*$/,Te=Object.create(null);function ne(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(s){var r=[];for(var c in s)r.push(c+'="'+s[c]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ne,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var ke={parse:function(e,t){t||(t={}),t.components||(t.components=Te);var s,r=[],c=[],a=-1,f=!1;if(e.indexOf("<")!==0){var m=e.indexOf("<");r.push({type:"text",content:m===-1?e:e.substring(0,m)})}return e.replace(Ee,function(x,g){if(f){if(x!=="</"+s.name+">")return;f=!1}var v,d=x.charAt(1)!=="/",j=x.startsWith("<!--"),u=g+x.length,l=e.charAt(u);if(j){var k=X(x);return a<0?(r.push(k),r):((v=c[a]).children.push(k),r)}if(d&&(a++,(s=X(x)).type==="tag"&&t.components[s.name]&&(s.type="component",f=!0),s.voidElement||f||!l||l==="<"||s.children.push({type:"text",content:e.slice(u,e.indexOf("<",u))}),a===0&&r.push(s),(v=c[a-1])&&v.children.push(s),c[a]=s),(!d||s.voidElement)&&(a>-1&&(s.voidElement||s.name===x.slice(2,-1))&&(a--,s=a===-1?r:c[a]),!f&&l!=="<"&&l)){v=a===-1?r:c[a].children;var i=e.indexOf("<",u),h=e.slice(u,i===-1?void 0:i);we.test(h)&&(h=" "),(i>-1&&a+v.length>=0||h!==" ")&&v.push({type:"text",content:h})}}),r},stringify:function(e){return e.reduce(function(t,s){return t+ne("",s)},"")}};const H=(e,t)=>{var r;if(!e)return!1;const s=((r=e.props)==null?void 0:r.children)??e.children;return t?s.length>0:!!s},R=e=>{var s,r;if(!e)return[];const t=((s=e.props)==null?void 0:s.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?F(t):t},$e=e=>Array.isArray(e)&&e.every(y.isValidElement),F=e=>Array.isArray(e)?e:[e],Ce=(e,t)=>{const s={...t};return s.props=Object.assign(e.props,t.props),s},ae=(e,t,s,r)=>{if(!e)return"";let c="";const a=F(e),f=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((m,x)=>{if(q(m)){c+=`${m}`;return}if(y.isValidElement(m)){const{props:g,type:v}=m,d=Object.keys(g).length,j=f.indexOf(v)>-1,u=g.children;if(!u&&j&&!d){c+=`<${v}/>`;return}if(!u&&(!j||d)||g.i18nIsDynamicList){c+=`<${x}></${x}>`;return}if(j&&d===1&&q(u)){c+=`<${v}>${u}</${v}>`;return}const l=ae(u,t,s,r);c+=`<${x}>${l}</${x}>`;return}if(m===null){D(s,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(S(m)){const{format:g,...v}=m,d=Object.keys(v);if(d.length===1){const j=g?`${d[0]}, ${g}`:d[0];c+=`{{${j}}}`;return}D(s,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:m});return}D(s,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:m})}),c},Be=(e,t,s,r,c,a)=>{if(t==="")return[];const f=r.transKeepBasicHtmlNodesFor||[],m=t&&new RegExp(f.map(i=>`<${i}`).join("|")).test(t);if(!e&&!m&&!a)return[t];const x={},g=i=>{F(i).forEach(p=>{q(p)||(H(p)?g(R(p)):S(p)&&!y.isValidElement(p)&&Object.assign(x,p))})};g(e);const v=ke.parse(`<0>${t}</0>`),d={...x,...c},j=(i,h,p)=>{var b;const _=R(i),B=l(_,h.children,p);return $e(_)&&B.length===0||(b=i.props)!=null&&b.i18nIsDynamicList?_:B},u=(i,h,p,_,B)=>{i.dummy?(i.children=h,p.push(y.cloneElement(i,{key:_},B?void 0:h))):p.push(...y.Children.map([i],b=>{const o={...b.props};return delete o.i18nIsDynamicList,y.createElement(b.type,{...o,key:_,ref:b.ref},B?null:h)}))},l=(i,h,p)=>{const _=F(i);return F(h).reduce((b,o,C)=>{var L,P;const A=((P=(L=o.children)==null?void 0:L[0])==null?void 0:P.content)&&s.services.interpolator.interpolate(o.children[0].content,d,s.language);if(o.type==="tag"){let $=_[parseInt(o.name,10)];p.length===1&&!$&&($=p[0][o.name]),$||($={});const N=Object.keys(o.attrs).length!==0?Ce({props:o.attrs},$):$,I=y.isValidElement(N),O=I&&H(o,!0)&&!o.voidElement,V=m&&S(N)&&N.dummy&&!I,M=S(e)&&Object.hasOwnProperty.call(e,o.name);if(q(N)){const w=s.services.interpolator.interpolate(N,d,s.language);b.push(w)}else if(H(N)||O){const w=j(N,o,p);u(N,w,b,C)}else if(V){const w=l(_,o.children,p);u(N,w,b,C)}else if(Number.isNaN(parseFloat(o.name)))if(M){const w=j(N,o,p);u(N,w,b,C,o.voidElement)}else if(r.transSupportBasicHtmlNodes&&f.indexOf(o.name)>-1)if(o.voidElement)b.push(y.createElement(o.name,{key:`${o.name}-${C}`}));else{const w=l(_,o.children,p);b.push(y.createElement(o.name,{key:`${o.name}-${C}`},w))}else if(o.voidElement)b.push(`<${o.name} />`);else{const w=l(_,o.children,p);b.push(`<${o.name}>${w}</${o.name}>`)}else if(S(N)&&!I){const w=o.children[0]?A:null;w&&b.push(w)}else u(N,A,b,C,o.children.length!==1||!A)}else if(o.type==="text"){const $=r.transWrapTextNodes,N=a?r.unescape(s.services.interpolator.interpolate(o.content,d,s.language)):s.services.interpolator.interpolate(o.content,d,s.language);$?b.push(y.createElement($,{key:`${o.name}-${C}`},N)):b.push(N)}return b},[])},k=l([{dummy:!0,children:e||[]}],v,F(e||[]));return R(k[0])},oe=(e,t,s)=>{const r=e.key||t,c=y.cloneElement(e,{key:r});if(!c.props||!c.props.children||s.indexOf(`${t}/>`)<0&&s.indexOf(`${t} />`)<0)return c;function a(){return y.createElement(y.Fragment,null,c)}return y.createElement(a)},Ae=(e,t)=>e.map((s,r)=>oe(s,r,t)),Ie=(e,t)=>{const s={};return Object.keys(e).forEach(r=>{Object.assign(s,{[r]:oe(e[r],r,t)})}),s},Se=(e,t,s,r)=>e?Array.isArray(e)?Ae(e,t):S(e)?Ie(e,t):(U(s,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Fe({children:e,count:t,parent:s,i18nKey:r,context:c,tOptions:a={},values:f,defaults:m,components:x,ns:g,i18n:v,t:d,shouldUnescape:j,...u}){var N,I,O,V,M,w;const l=v||Y();if(!l)return U(l,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const k=d||l.t.bind(l)||(le=>le),i={...ce(),...(N=l.options)==null?void 0:N.react};let h=g||k.ns||((I=l.options)==null?void 0:I.defaultNS);h=q(h)?[h]:h||["translation"];const p=ae(e,i,l,r),_=m||p||i.transEmptyNodeValue||r,{hashTransKey:B}=i,b=r||(B?B(p||_):p||_);(V=(O=l.options)==null?void 0:O.interpolation)!=null&&V.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const o=f||t!==void 0&&!((w=(M=l.options)==null?void 0:M.interpolation)!=null&&w.alwaysFormat)||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},C={...a,context:c||a.context,count:t,...f,...o,defaultValue:_,ns:h},A=b?k(b,C):_,L=Se(x,A,l,r),P=Be(L||e,A,l,i,C,j),$=s??i.defaultTransParent;return $?y.createElement($,u,P):P}function Pe({children:e,count:t,parent:s,i18nKey:r,context:c,tOptions:a={},values:f,defaults:m,components:x,ns:g,i18n:v,t:d,shouldUnescape:j,...u}){var p;const{i18n:l,defaultNS:k}=y.useContext(ue)||{},i=v||l||Y(),h=d||(i==null?void 0:i.t.bind(i));return Fe({children:e,count:t,parent:s,i18nKey:r,context:c,tOptions:a,values:f,defaults:m,components:x,ns:g||(h==null?void 0:h.ns)||k||((p=i==null?void 0:i.options)==null?void 0:p.defaultNS),i18n:i,t:d,shouldUnescape:j,...u})}const qe="_modalBackdrop_r0vq2_1",Le="_modal_r0vq2_1",Oe="_closeBtn_r0vq2_27",Ve="_svg_r0vq2_43",Me="_modalTextBox_r0vq2_48",De="_modalTitle_r0vq2_57",He="_modalText_r0vq2_48",Re="_modalForm_r0vq2_73",We="_inputGroup_r0vq2_82",Ge="_inputField_r0vq2_89",ze="_errorInput_r0vq2_108",Ze="_error_r0vq2_108",Je="_modalBtnBox_r0vq2_120",Xe="_btnSend_r0vq2_127",Ke="_btnCancel_r0vq2_128",T={modalBackdrop:qe,modal:Le,closeBtn:Oe,svg:Ve,modalTextBox:Me,modalTitle:De,modalText:He,modalForm:Re,inputGroup:We,inputField:Ge,errorInput:ze,error:Ze,modalBtnBox:Je,btnSend:Xe,btnCancel:Ke},Ue=({onClose:e})=>{var j;const{t}=z(),s=Q(),r=te({email:W().required(t("emailRequired")).email(t("enterValidEmail"))}),{register:c,handleSubmit:a,reset:f,formState:{errors:m,isSubmitting:x}}=se({resolver:re(r),defaultValues:{email:""}}),g=y.useCallback(()=>{const u=setTimeout(()=>{e(),clearTimeout(u)},me)},[e]);y.useEffect(()=>{const u=l=>{l.key==="Escape"&&g()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[g]);const v=u=>{u.target===u.currentTarget&&g()},d=async({email:u})=>{try{await s(de(u)).unwrap(),Z.success(t("resetLinkSent")),f()}catch(l){Z.error(typeof l=="string"?l:t("errorDefault"))}};return n.jsx("div",{className:T.modalBackdrop,onClick:v,children:n.jsxs("div",{className:T.modal,children:[n.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:g,className:T.closeBtn,children:n.jsx("svg",{className:T.svg,children:n.jsx("use",{xlinkHref:`${G}#icon-x`})})}),n.jsxs("div",{className:T.modalTextBox,children:[n.jsx("h2",{className:T.modalTitle,children:t("forgotTitle")}),n.jsx("p",{className:T.modalText,children:t("forgotText")})]}),n.jsxs("form",{onSubmit:a(d),className:T.modalForm,children:[n.jsxs("div",{className:T.inputWrapper,children:[n.jsx("input",{type:"email",...c("email"),placeholder:t("placeholderEmail"),className:`${T.inputField} ${m.email?T.errorInput:""}`}),n.jsx("div",{className:`${T.error} ${m.email?"":T.hidden}`,children:((j=m.email)==null?void 0:j.message)||""})]}),n.jsxs("div",{className:T.modalBtnBox,children:[n.jsx("button",{type:"submit",className:T.btnSend,disabled:x,children:t(x?"loadingText":"sendText")}),n.jsx("button",{type:"button",className:T.btnCancel,onClick:g,children:t("cancel")})]})]})]})})},Ye="_textBtn_12uyc_1",Qe="_forgotPasswordBtn_12uyc_6",K={textBtn:Ye,forgotPasswordBtn:Qe},et=()=>{const e=ee(),t=y.useCallback(()=>{e()},[e]),s=y.useCallback(()=>{e(n.jsx(Ue,{onClose:t}))},[e,t]);return n.jsx("p",{className:K.textBtn,children:n.jsx(Pe,{i18nKey:"forgotPasswordMessage",components:{btn:n.jsx("button",{type:"button",className:K.forgotPasswordBtn,onClick:s})}})})},tt=()=>{var u,l,k,i,h,p;const{t:e}=z(),t=Q(),s=pe(fe),[r,c]=y.useState(!1),a=ee(),f=y.useCallback(()=>{a()},[a]),m=te({email:W().required(e("emailRequired")).email(e("enterValidEmail")),password:W().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),x=()=>{c(!r)},{register:g,handleSubmit:v,formState:{errors:d}}=se({resolver:re(m)}),j=_=>{t(he(_))};return n.jsx("div",{className:E.registerComponent,children:n.jsxs("form",{onSubmit:v(j),children:[n.jsx("h2",{className:E.registerTitle,children:e("logInTitle")}),n.jsxs("div",{className:E.registerForm,children:[n.jsxs("label",{className:E.registerLabel,children:[e("email"),n.jsx("input",{className:(u=d.email)!=null&&u.message?`${E.registerInputError}`:`${E.registerInput}`,...g("email"),placeholder:e("placeholderEmail")}),(l=d.email)!=null&&l.message?n.jsx("p",{className:E.registerErrorMessage,children:(k=d.email)==null?void 0:k.message}):""]}),n.jsxs("label",{className:E.registerLabel,children:[n.jsx("span",{children:e("password")}),n.jsxs("span",{className:E.registerPassword,children:[n.jsx("input",{type:r?"text":"password",className:(i=d.password)!=null&&i.message?`${E.registerInputError}`:`${E.registerInput}`,...g("password"),placeholder:e("placeholderPassword")}),n.jsx("button",{className:E.passwordIconBtn,type:"button",onClick:x,children:r===!1?n.jsx("svg",{className:E.passwordIcon,children:n.jsx("use",{xlinkHref:G+"#icon-eye-off"})}):n.jsx("svg",{className:E.passwordIcon,children:n.jsx("use",{xlinkHref:G+"#icon-eye"})})})]}),(h=d.password)!=null&&h.message?n.jsx("p",{className:E.registerErrorMessage,children:(p=d.password)==null?void 0:p.message}):""]}),n.jsx(et,{onClose:f})]}),s?n.jsx("div",{className:E.registerButtonsContainer,children:n.jsx(ye,{height:44,width:44,label:"Увійти"})}):n.jsxs("div",{className:E.registerButtonsContainer,children:[n.jsx("button",{disabled:s&&!0,className:E.registerBtn,type:"submit",children:e("logIn")}),n.jsx(ge,{})]})]})})},ct=()=>{const{t:e}=z();return n.jsxs("div",{className:J.registerPage,children:[n.jsxs(ve,{children:[n.jsx(tt,{}),n.jsx(be,{link:"/register",text:e("footerText"),linkName:e("register")})]}),n.jsx("div",{className:J.registerPageRight,children:n.jsx(xe,{})})]})};export{ct as default};
