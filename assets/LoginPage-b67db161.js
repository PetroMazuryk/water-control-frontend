import{k as ie,w as Y,l as ce,r as j,m as O,n as D,o as S,p as K,I as me,u as Z,c as Q,j as r,A as ue,q as pe,t as G,a as de,g as fe,v as he}from"./index-13e597f8.js";import{A as xe}from"./AdvantagesSection-ea32bbae.js";import{c as E,G as ge,a as J,F as ye,b as be}from"./RegisterPage.module-8db8c7dd.js";import{u as ee}from"./useModal-f5db9785.js";import{c as te,a as W,u as se,o as ne}from"./index.esm-d2fb3ec1.js";import{L as je}from"./Loader-e6ae3d45.js";import{s as z}from"./Logo-4c6c52e7.js";var Ne={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const ve=ie(Ne);var _e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function U(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},s=e.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(t.name=s[1],(ve[s[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var i=new RegExp(_e),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var d=a[1].trim(),u=[d,""];d.indexOf("=")>-1&&(u=d.split("=")),t.attrs[u[0]]=u[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Te=/^\s*$/,$e=Object.create(null);function re(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(s){var n=[];for(var i in s)n.push(i+'="'+s[i]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(re,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var we={parse:function(e,t){t||(t={}),t.components||(t.components=$e);var s,n=[],i=[],a=-1,d=!1;if(e.indexOf("<")!==0){var u=e.indexOf("<");n.push({type:"text",content:u===-1?e:e.substring(0,u)})}return e.replace(Ee,function(h,b){if(d){if(h!=="</"+s.name+">")return;d=!1}var x,c=h.charAt(1)!=="/",N=h.startsWith("<!--"),g=b+h.length,m=e.charAt(g);if(N){var w=U(h);return a<0?(n.push(w),n):((x=i[a]).children.push(w),n)}if(c&&(a++,(s=U(h)).type==="tag"&&t.components[s.name]&&(s.type="component",d=!0),s.voidElement||d||!m||m==="<"||s.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),a===0&&n.push(s),(x=i[a-1])&&x.children.push(s),i[a]=s),(!c||s.voidElement)&&(a>-1&&(s.voidElement||s.name===h.slice(2,-1))&&(a--,s=a===-1?n:i[a]),!d&&m!=="<"&&m)){x=a===-1?n:i[a].children;var l=e.indexOf("<",g),f=e.slice(g,l===-1?void 0:l);Te.test(f)&&(f=" "),(l>-1&&a+x.length>=0||f!==" ")&&x.push({type:"text",content:f})}}),n},stringify:function(e){return e.reduce(function(t,s){return t+re("",s)},"")}};const R=(e,t)=>{var n;if(!e)return!1;const s=((n=e.props)==null?void 0:n.children)??e.children;return t?s.length>0:!!s},H=e=>{var s,n;if(!e)return[];const t=((s=e.props)==null?void 0:s.children)??e.children;return(n=e.props)!=null&&n.i18nIsDynamicList?F(t):t},Ce=e=>Array.isArray(e)&&e.every(j.isValidElement),F=e=>Array.isArray(e)?e:[e],Ae=(e,t)=>{const s={...t};return s.props=Object.assign(e.props,t.props),s},ae=(e,t,s,n)=>{if(!e)return"";let i="";const a=F(e),d=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((u,h)=>{if(O(u)){i+=`${u}`;return}if(j.isValidElement(u)){const{props:b,type:x}=u,c=Object.keys(b).length,N=d.indexOf(x)>-1,g=b.children;if(!g&&N&&!c){i+=`<${x}/>`;return}if(!g&&(!N||c)||b.i18nIsDynamicList){i+=`<${h}></${h}>`;return}if(N&&c===1&&O(g)){i+=`<${x}>${g}</${x}>`;return}const m=ae(g,t,s,n);i+=`<${h}>${m}</${h}>`;return}if(u===null){D(s,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(S(u)){const{format:b,...x}=u,c=Object.keys(x);if(c.length===1){const N=b?`${c[0]}, ${b}`:c[0];i+=`{{${N}}}`;return}D(s,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:u});return}D(s,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:u})}),i},Be=(e,t,s,n,i,a)=>{if(t==="")return[];const d=n.transKeepBasicHtmlNodesFor||[],u=t&&new RegExp(d.map(l=>`<${l}`).join("|")).test(t);if(!e&&!u&&!a)return[t];const h={},b=l=>{F(l).forEach(p=>{O(p)||(R(p)?b(H(p)):S(p)&&!j.isValidElement(p)&&Object.assign(h,p))})};b(e);const x=we.parse(`<0>${t}</0>`),c={...h,...i},N=(l,f,p)=>{var y;const _=H(l),B=m(_,f.children,p);return Ce(_)&&B.length===0||(y=l.props)!=null&&y.i18nIsDynamicList?_:B},g=(l,f,p,_,B)=>{l.dummy?(l.children=f,p.push(j.cloneElement(l,{key:_},B?void 0:f))):p.push(...j.Children.map([l],y=>{const o={...y.props};return delete o.i18nIsDynamicList,j.createElement(y.type,{...o,key:_,ref:y.ref},B?null:f)}))},m=(l,f,p)=>{const _=F(l);return F(f).reduce((y,o,A)=>{var V,P;const k=((P=(V=o.children)==null?void 0:V[0])==null?void 0:P.content)&&s.services.interpolator.interpolate(o.children[0].content,c,s.language);if(o.type==="tag"){let C=_[parseInt(o.name,10)];p.length===1&&!C&&(C=p[0][o.name]),C||(C={});const v=Object.keys(o.attrs).length!==0?Ae({props:o.attrs},C):C,I=j.isValidElement(v),q=I&&R(o,!0)&&!o.voidElement,L=u&&S(v)&&v.dummy&&!I,M=S(e)&&Object.hasOwnProperty.call(e,o.name);if(O(v)){const T=s.services.interpolator.interpolate(v,c,s.language);y.push(T)}else if(R(v)||q){const T=N(v,o,p);g(v,T,y,A)}else if(L){const T=m(_,o.children,p);g(v,T,y,A)}else if(Number.isNaN(parseFloat(o.name)))if(M){const T=N(v,o,p);g(v,T,y,A,o.voidElement)}else if(n.transSupportBasicHtmlNodes&&d.indexOf(o.name)>-1)if(o.voidElement)y.push(j.createElement(o.name,{key:`${o.name}-${A}`}));else{const T=m(_,o.children,p);y.push(j.createElement(o.name,{key:`${o.name}-${A}`},T))}else if(o.voidElement)y.push(`<${o.name} />`);else{const T=m(_,o.children,p);y.push(`<${o.name}>${T}</${o.name}>`)}else if(S(v)&&!I){const T=o.children[0]?k:null;T&&y.push(T)}else g(v,k,y,A,o.children.length!==1||!k)}else if(o.type==="text"){const C=n.transWrapTextNodes,v=a?n.unescape(s.services.interpolator.interpolate(o.content,c,s.language)):s.services.interpolator.interpolate(o.content,c,s.language);C?y.push(j.createElement(C,{key:`${o.name}-${A}`},v)):y.push(v)}return y},[])},w=m([{dummy:!0,children:e||[]}],x,F(e||[]));return H(w[0])},oe=(e,t,s)=>{const n=e.key||t,i=j.cloneElement(e,{key:n});if(!i.props||!i.props.children||s.indexOf(`${t}/>`)<0&&s.indexOf(`${t} />`)<0)return i;function a(){return j.createElement(j.Fragment,null,i)}return j.createElement(a)},ke=(e,t)=>e.map((s,n)=>oe(s,n,t)),Ie=(e,t)=>{const s={};return Object.keys(e).forEach(n=>{Object.assign(s,{[n]:oe(e[n],n,t)})}),s},Se=(e,t,s,n)=>e?Array.isArray(e)?ke(e,t):S(e)?Ie(e,t):(Y(s,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null;function Fe({children:e,count:t,parent:s,i18nKey:n,context:i,tOptions:a={},values:d,defaults:u,components:h,ns:b,i18n:x,t:c,shouldUnescape:N,...g}){var v,I,q,L,M,T;const m=x||K();if(!m)return Y(m,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const w=c||m.t.bind(m)||(le=>le),l={...ce(),...(v=m.options)==null?void 0:v.react};let f=b||w.ns||((I=m.options)==null?void 0:I.defaultNS);f=O(f)?[f]:f||["translation"];const p=ae(e,l,m,n),_=u||p||l.transEmptyNodeValue||n,{hashTransKey:B}=l,y=n||(B?B(p||_):p||_);(L=(q=m.options)==null?void 0:q.interpolation)!=null&&L.defaultVariables&&(d=d&&Object.keys(d).length>0?{...d,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const o=d||t!==void 0&&!((T=(M=m.options)==null?void 0:M.interpolation)!=null&&T.alwaysFormat)||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},A={...a,context:i||a.context,count:t,...d,...o,defaultValue:_,ns:f},k=y?w(y,A):_,V=Se(h,k,m,n),P=Be(V||e,k,m,l,A,N),C=s??l.defaultTransParent;return C?j.createElement(C,g,P):P}function Pe({children:e,count:t,parent:s,i18nKey:n,context:i,tOptions:a={},values:d,defaults:u,components:h,ns:b,i18n:x,t:c,shouldUnescape:N,...g}){var p;const{i18n:m,defaultNS:w}=j.useContext(me)||{},l=x||m||K(),f=c||(l==null?void 0:l.t.bind(l));return Fe({children:e,count:t,parent:s,i18nKey:n,context:i,tOptions:a,values:d,defaults:u,components:h,ns:b||(f==null?void 0:f.ns)||w||((p=l==null?void 0:l.options)==null?void 0:p.defaultNS),i18n:l,t:c,shouldUnescape:N,...g})}const Oe="_modal_qy9op_1",Ve="_closeBtn_qy9op_15",qe="_svg_qy9op_31",Le="_modalTextBox_qy9op_36",Me="_modalTitle_qy9op_45",De="_modalText_qy9op_36",Re="_modalForm_qy9op_63",He="_inputField_qy9op_71",We="_errorInput_qy9op_87",ze="_error_qy9op_87",Ze="_modalBtnBox_qy9op_96",Ge="_btnSend_qy9op_103",Je="_btnCancel_qy9op_120",$={modal:Oe,closeBtn:Ve,svg:qe,modalTextBox:Le,modalTitle:Me,modalText:De,modalForm:Re,inputField:He,errorInput:We,error:ze,modalBtnBox:Ze,btnSend:Ge,btnCancel:Je},Ue=({onClose:e})=>{const{t}=Z(),s=Q(),n=te({email:W().required(t("emailRequired")).email(t("enterValidEmail"))}),{register:i,handleSubmit:a,reset:d,formState:{errors:u,isSubmitting:h}}=se({resolver:ne(n),defaultValues:{email:""}}),b=()=>{const c=setTimeout(()=>{e(),clearTimeout(c)},ue.DURATION)},x=async({email:c})=>{try{await s(pe(c)).unwrap(),G.success("Посилання для скидання паролю успішно надіслано"),d()}catch(N){G.error(typeof N=="string"?N:"Сталася помилка. Спробуйте ще раз.")}};return r.jsxs("div",{className:$.modal,children:[r.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:b,className:$.closeBtn,children:r.jsx("svg",{className:$.svg,children:r.jsx("use",{xlinkHref:`${z}#icon-x`})})}),r.jsxs("div",{className:$.modalTextBox,children:[r.jsx("h2",{className:$.modalTitle,children:t("forgotTitle")}),r.jsx("p",{className:$.modalText,children:t("forgotText")})]}),r.jsxs("form",{onSubmit:a(x),className:$.modalForm,children:[r.jsx("input",{type:"email",...i("email"),placeholder:t("placeholderEmail"),className:`${$.inputField} ${u.email?$.errorInput:""}`}),u.email&&r.jsx("div",{className:$.error,children:u.email.message}),r.jsxs("div",{className:$.modalBtnBox,children:[r.jsx("button",{type:"submit",className:$.btnSend,disabled:h,children:t(h?"loadingText":"sendText")}),r.jsx("button",{type:"button",className:$.btnCancel,onClick:b,children:t("cancel")})]})]})]})},Xe="_textBtn_12uyc_1",Ye="_forgotPasswordBtn_12uyc_6",X={textBtn:Xe,forgotPasswordBtn:Ye},Ke=()=>{const e=ee(),t=j.useCallback(()=>{e()},[e]),s=j.useCallback(()=>{e(r.jsx(Ue,{onClose:t}))},[e,t]);return r.jsx("p",{className:X.textBtn,children:r.jsx(Pe,{i18nKey:"forgotPasswordMessage",components:{btn:r.jsx("button",{type:"button",className:X.forgotPasswordBtn,onClick:s})}})})},Qe=()=>{var g,m,w,l,f,p;const{t:e}=Z(),t=Q(),s=de(fe),[n,i]=j.useState(!1),a=ee(),d=j.useCallback(()=>{a()},[a]),u=te({email:W().required(e("emailRequired")).email(e("enterValidEmail")),password:W().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),h=()=>{i(!n)},{register:b,handleSubmit:x,formState:{errors:c}}=se({resolver:ne(u)}),N=_=>{t(he(_))};return r.jsx("div",{className:E.registerComponent,children:r.jsxs("form",{onSubmit:x(N),children:[r.jsx("h2",{className:E.registerTitle,children:e("logInTitle")}),r.jsxs("div",{className:E.registerForm,children:[r.jsxs("label",{className:E.registerLabel,children:[e("email"),r.jsx("input",{className:(g=c.email)!=null&&g.message?`${E.registerInputError}`:`${E.registerInput}`,...b("email"),placeholder:e("placeholderEmail")}),(m=c.email)!=null&&m.message?r.jsx("p",{className:E.registerErrorMessage,children:(w=c.email)==null?void 0:w.message}):""]}),r.jsxs("label",{className:E.registerLabel,children:[r.jsx("span",{children:e("password")}),r.jsxs("span",{className:E.registerPassword,children:[r.jsx("input",{type:n?"text":"password",className:(l=c.password)!=null&&l.message?`${E.registerInputError}`:`${E.registerInput}`,...b("password"),placeholder:e("placeholderPassword")}),r.jsx("button",{className:E.passwordIconBtn,type:"button",onClick:h,children:n===!1?r.jsx("svg",{className:E.passwordIcon,children:r.jsx("use",{xlinkHref:z+"#icon-eye-off"})}):r.jsx("svg",{className:E.passwordIcon,children:r.jsx("use",{xlinkHref:z+"#icon-eye"})})})]}),(f=c.password)!=null&&f.message?r.jsx("p",{className:E.registerErrorMessage,children:(p=c.password)==null?void 0:p.message}):""]}),r.jsx(Ke,{onClose:d})]}),s?r.jsx("div",{className:E.registerButtonsContainer,children:r.jsx(je,{height:44,width:44,label:"Увійти"})}):r.jsxs("div",{className:E.registerButtonsContainer,children:[r.jsx("button",{disabled:s&&!0,className:E.registerBtn,type:"submit",children:e("logIn")}),r.jsx(ge,{})]})]})})},lt=()=>{const{t:e}=Z();return r.jsxs("div",{className:J.registerPage,children:[r.jsxs(ye,{children:[r.jsx(Qe,{}),r.jsx(be,{link:"/register",text:e("footerText"),linkName:e("register")})]}),r.jsx("div",{className:J.registerPageRight,children:r.jsx(xe,{})})]})};export{lt as default};
