import{z as D,e as N,u as i,x as f,t as j,j as s,c as h,S as v,W as y,K as w,X as F,Y as L}from"./index-c87aa273.js";import{p as C}from"./parseDate-629c4fe8.js";const S="_day_1fbih_1",T="_date_1fbih_15",W="_percFilled_1fbih_30",E="_perc_1fbih_30",I="_active_1fbih_50",n={day:S,date:T,percFilled:W,perc:E,active:I},R=t=>{const e=new Date,a=new Date(Number(t));return e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999),e.getTime()<a.getTime()},Y=(t,e)=>{const a=new Date(Number(t)),r=new Date(Number(e));return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate()},$=({calendarDate:t,amount:e})=>{const a=D(),r=N(),c=i(f),{date:m}=j(),_=C(m),p=u=>{a(`/water/${u}`),r(v(u))},g=new Date(Number(t)).getDate(),l=c>0?Math.round(e/(c*1e3)*100):e,d=R(t),x=Math.round(l)<100,M=Y(_,t),b=Math.round(l)>=100?"100%":`${l}%`;return s.jsxs("button",{className:h(n.day,{[n.disabled]:d}),disabled:d,onClick:()=>p(t),children:[s.jsx("div",{className:h(n.date,{[n.percFilled]:x,[n.active]:M}),children:g}),s.jsx("div",{className:n.perc,children:b})]})},k="_errorMessage_128uc_1",A="_container_128uc_7",z="_calendarList_128uc_12",o={errorMessage:k,container:A,calendarList:z},P=()=>{const t=i(y),e=i(w),a=i(F);return e?s.jsx(L,{}):a?s.jsx("div",{className:o.container,children:s.jsx("h2",{className:o.errorMessage,children:"Сталася помилка отримання даних води за місяць. Спробуйте пізніше."})}):s.jsx("div",{className:o.container,children:s.jsx("ul",{className:o.calendarList,children:t.map((r,c)=>s.jsx("li",{children:s.jsx($,{index:c,calendarDate:r.date,amount:r.amount})},c))})})};export{P as default};
