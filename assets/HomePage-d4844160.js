import{r as m,j as e,L as u,i as d,c as _,u as h,s as p,a as S,b as x,d as L,e as k,f as j,g as b}from"./index-e56d1c23.js";import{s as v,u as f,L as N}from"./sprite-efd4f160.js";import{A as P}from"./AdvantagesSection-862d1e65.js";const O="_barPopover_bt0gi_1",C="_button_bt0gi_21",w={barPopover:O,button:C},D=m.forwardRef(function({onClose:n},t){const a=Object.values(u),r=o=>{d.changeLanguage(o),n(!1)};return m.useEffect(()=>(window.addEventListener("click",n),()=>window.removeEventListener("click",n)),[n,t]),e.jsx("ul",{className:w.barPopover,ref:t,children:a.map(o=>e.jsx("li",{children:e.jsx("button",{className:w.button,onClick:()=>r(o),children:o.toLocaleUpperCase()})},o))})}),$="_langSwitch_1pqwh_1",E="_currentLang_1pqwh_6",T="_icon_1pqwh_19",I="_isOpen_1pqwh_27",l={langSwitch:$,currentLang:E,icon:T,isOpen:I},R=()=>{const[c,n]=m.useState(!1),t=m.useRef(null),a=i=>(Object.values(u).includes(i)?i:"en").toUpperCase(),r=i=>{i.stopPropagation(),n(g=>!g)},o=i=>{t.current&&!t.current.contains(i.target)&&n(!1)};return e.jsxs("div",{className:l.langSwitch,children:[e.jsxs("button",{onClick:r,className:l.currentLang,name:"openPopover",children:[a(d.language),e.jsx("svg",{className:_(l.icon,{[l.isOpen]:c}),children:e.jsx("use",{xlinkHref:v+"#icon-chevron-down"})})]}),c&&e.jsx(D,{onClose:o,ref:t})]})},q="_welcomeSection_x0l1i_1",W="_welcomeSectionContainer_x0l1i_10",A="_header_x0l1i_13",U="_welcomeSectionDescribe_x0l1i_17",y="_welcomeSectionTitle_x0l1i_23",B="_welcomeSectionLinks_x0l1i_30",F="_welcomeSectionLink_x0l1i_30",H="_welcomeSectionLinkSignup_x0l1i_44",J="_welcomeSectionLinkSignin_x0l1i_48",s={welcomeSection:q,welcomeSectionContainer:W,header:A,welcomeSectionDescribe:U,welcomeSectionTitle:y,welcomeSectionLinks:B,welcomeSectionLink:F,welcomeSectionLinkSignup:H,welcomeSectionLinkSignin:J},z=()=>{const{t:c}=f(),n=h(p);return e.jsxs("div",{className:s.welcomeSection,children:[e.jsxs("div",{className:s.header,children:[e.jsx(N,{}),e.jsx(R,{})]}),e.jsxs("div",{className:s.welcomeSectionContainer,children:[e.jsx("p",{className:s.welcomeSectionDescribe,children:c("recordWater")}),e.jsx("h1",{className:s.welcomeSectionTitle,children:c("waterTitle")}),e.jsx("div",{className:s.welcomeSectionLinks,children:n?e.jsx(S,{to:`/water/${Date.now()}`,className:`${s.welcomeSectionLink} ${s.welcomeSectionLinkSignup}`,children:c("checkWater")}):e.jsxs(e.Fragment,{children:[e.jsx(S,{to:"/register",className:`${s.welcomeSectionLink} ${s.welcomeSectionLinkSignup}`,children:c("tryWater")}),e.jsx(S,{to:"/login",className:`${s.welcomeSectionLink} ${s.welcomeSectionLinkSignin}`,children:c("logIn")})]})})]})]})},X=()=>{const[c]=x(),n=L();let t,a;const r=c.get("token"),o=c.get("user");if(r&&o)try{t=JSON.parse(r),a=JSON.parse(o),n(k(t)),n(j(!0)),n(b(a))}catch(i){console.log(i)}return e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx(P,{})]})};export{X as default};
