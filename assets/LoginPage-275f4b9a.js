import{u as j,c as S,j as s,A as $,k as M,l as f,r as p,a as A,g as E,m as L}from"./index-c49d4de5.js";import{A as R}from"./AdvantagesSection-8a30c6c9.js";import{c as t,G as q,a as T,F as z,b as Z}from"./RegisterPage.module-8b7c5267.js";import{u as I}from"./useModal-a8f9308e.js";import{u as y,c as V,a as F,o as H}from"./index.esm-019cd973.js";import{L as D}from"./Loader-23707bad.js";import{s as h}from"./sprite-2878ece5.js";import"./Logo-3e8dd075.js";const G="_modal_e1vll_1",O="_closeBtn_e1vll_15",U="_svg_e1vll_31",W="_modalTextBox_e1vll_36",J="_modalTitle_e1vll_45",K="_modalText_e1vll_36",Q="_modalForm_e1vll_63",X="_inputField_e1vll_71",Y="_errorInput_e1vll_87",ss="_error_e1vll_87",es="_modalBtnBox_e1vll_96",ts="_btnSend_e1vll_103",as="_btnCancel_e1vll_120",a={modal:G,closeBtn:O,svg:U,modalTextBox:W,modalTitle:J,modalText:K,modalForm:Q,inputField:X,errorInput:Y,error:ss,modalBtnBox:es,btnSend:ts,btnCancel:as},os=({onClose:e})=>{const{t:r}=j(),l=S(),{register:n,handleSubmit:g,reset:d,formState:{errors:i,isSubmitting:m}}=y({defaultValues:{email:""}}),x=()=>{const c=setTimeout(()=>{e(),clearTimeout(c)},$.DURATION)},u=async({email:c})=>{try{await l(M(c)).unwrap(),f.success("Посилання для скидання паролю успішно надіслано"),d()}catch(o){f.error(typeof o=="string"?o:"Сталася помилка. Спробуйте ще раз.")}};return s.jsxs("div",{className:a.modal,children:[s.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:x,className:a.closeBtn,children:s.jsx("svg",{className:a.svg,children:s.jsx("use",{xlinkHref:`${h}#icon-x`})})}),s.jsxs("div",{className:a.modalTextBox,children:[s.jsx("h2",{className:a.modalTitle,children:r("forgotTitle")}),s.jsx("p",{className:a.modalText,children:"Ми надішлемо вам електронного листа з посиланням для скидання пароля."})]}),s.jsxs("form",{onSubmit:g(u),className:a.modalForm,children:[s.jsx("input",{type:"email",placeholder:"Введіть свою електронну пошту",...n("email",{required:"Обовʼязково введіть email",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Некоректний формат електронної пошти"}}),className:`${a.inputField} ${i.email?a.errorInput:""}`}),i.email&&s.jsx("div",{className:a.error,children:i.email.message}),s.jsxs("div",{className:a.modalBtnBox,children:[s.jsx("button",{type:"submit",className:a.btnSend,disabled:m,children:m?"Надсилання...":"Відправити посилання для скидання паролю"}),s.jsx("button",{type:"button",className:a.btnCancel,onClick:x,children:"Відміна"})]})]})]})},rs="_textBtn_12uyc_1",ls="_forgotPasswordBtn_12uyc_6",C={textBtn:rs,forgotPasswordBtn:ls},ns=()=>{const e=I(),r=p.useCallback(()=>{e()},[e]),l=p.useCallback(()=>{e(s.jsx(os,{onClose:r}))},[e,r]);return s.jsxs("p",{className:C.textBtn,children:["Забули пароль?",s.jsx("button",{type:"button",className:C.forgotPasswordBtn,onClick:l,children:"Натисніть сюди"}),"для зміни паролю"]})},is=()=>{var _,b,N,v,w,B;const{t:e}=j(),r=S(),l=A(E),[n,g]=p.useState(!1),d=I(),i=p.useCallback(()=>{d()},[d]),m=V({email:F().required(e("emailRequired")).email(e("enterValidEmail")),password:F().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),x=()=>{g(!n)},{register:u,handleSubmit:c,formState:{errors:o}}=y({resolver:H(m)}),P=k=>{r(L(k))};return s.jsx("div",{className:t.registerComponent,children:s.jsxs("form",{onSubmit:c(P),children:[s.jsx("h2",{className:t.registerTitle,children:e("logInTitle")}),s.jsxs("div",{className:t.registerForm,children:[s.jsxs("label",{className:t.registerLabel,children:[e("email"),s.jsx("input",{className:(_=o.email)!=null&&_.message?`${t.registerInputError}`:`${t.registerInput}`,...u("email"),placeholder:e("placeholderEmail")}),(b=o.email)!=null&&b.message?s.jsx("p",{className:t.registerErrorMessage,children:(N=o.email)==null?void 0:N.message}):""]}),s.jsxs("label",{className:t.registerLabel,children:[s.jsx("span",{children:e("password")}),s.jsxs("span",{className:t.registerPassword,children:[s.jsx("input",{type:n?"text":"password",className:(v=o.password)!=null&&v.message?`${t.registerInputError}`:`${t.registerInput}`,...u("password"),placeholder:e("placeholderPassword")}),s.jsx("button",{className:t.passwordIconBtn,type:"button",onClick:x,children:n===!1?s.jsx("svg",{className:t.passwordIcon,children:s.jsx("use",{xlinkHref:h+"#icon-eye-off"})}):s.jsx("svg",{className:t.passwordIcon,children:s.jsx("use",{xlinkHref:h+"#icon-eye"})})})]}),(w=o.password)!=null&&w.message?s.jsx("p",{className:t.registerErrorMessage,children:(B=o.password)==null?void 0:B.message}):""]}),s.jsx(ns,{onClose:i})]}),l?s.jsx("div",{className:t.registerButtonsContainer,children:s.jsx(D,{height:44,width:44,label:"Увійти"})}):s.jsxs("div",{className:t.registerButtonsContainer,children:[s.jsx("button",{disabled:l&&!0,className:t.registerBtn,type:"submit",children:e("logIn")}),s.jsx(q,{})]})]})})},js=()=>{const{t:e}=j();return s.jsxs("div",{className:T.registerPage,children:[s.jsxs(z,{children:[s.jsx(is,{}),s.jsx(Z,{link:"/register",text:e("footerText"),linkName:e("register")})]}),s.jsx("div",{className:T.registerPageRight,children:s.jsx(R,{})})]})};export{js as default};
