import{r as i,M as ye,j as e,d as R,c as I,n as ke,o as We,p as X,m as Se,A as xe,q as De,u as T,t as ge,v as Me,w as je,x as Pe,y as $e,h as be,z as Le,B as Ne,C as Ie,D as Re,E as Fe,F as He,G as Ve,H as Ee,I as Ue,J as qe,N as he,K as Y,O as Oe,P as ze,Q as Ge,R as Je}from"./index-e56d1c23.js";import{p as Q}from"./parseDate-629c4fe8.js";import{s as _,u as Ye,L as Xe}from"./sprite-efd4f160.js";import{$ as Qe,c as fe,a as ve,d as se,u as Te,o as Be,C as E,L as Ze}from"./Loader-6ed0f31c.js";const Z=()=>i.useContext(ye),U=({width:s,height:a})=>e.jsx(Qe,{visible:!0,height:a,width:s,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),Ke="_WaterForm_1jleh_1",es="_FormHeader_1jleh_13",ss="_AmountOfWater_1jleh_25",ts="_TapAddWaterWrapper_1jleh_36",as="_TapAddWater_1jleh_36",ns="_TapAddWaterValue_1jleh_88",os="_RecordingTimeLabel_1jleh_104",rs="_RecordingTime_1jleh_104",cs="_WaterValueLabel_1jleh_136",ls="_WaterValue_1jleh_136",is="_SaveBtn_1jleh_177",j={WaterForm:Ke,FormHeader:es,AmountOfWater:ss,TapAddWaterWrapper:ts,TapAddWater:as,TapAddWaterValue:ns,RecordingTimeLabel:os,RecordingTime:rs,WaterValueLabel:cs,WaterValue:ls,SaveBtn:is,Error:"_Error_1jleh_213"},ds=({operationType:s="add",editTime:a,waterPortion:t,waterID:o,handleClose:l})=>{const[r,x]=i.useState(t),m=R(),[A,h]=i.useState(!1),f=new Date(a),p=f.getFullYear(),d=String(f.getMonth()+1).padStart(2,"0"),u=String(f.getDate()).padStart(2,"0"),v=s==="add"?new Date:f,B=String(v.getHours()).padStart(2,"0"),y=String(v.getMinutes()).padStart(2,"0"),[M,te]=i.useState(B),[F,q]=i.useState(y),O=fe().shape({recordingTime:ve().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:se().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:c,handleSubmit:w,setValue:g,formState:{errors:L}}=Te({resolver:Be(O),defaultValues:{recordingTime:`${M}:${F}`,waterValue:r.toString()}}),ae=C=>{const K=new Date(`${p}-${d}-${u}T${M}:${F}:00`).getTime().toString(),re={amount:C.waterValue,date:K},Ae={amount:C.waterValue,date:K};switch(h(!0),s){case"add":m(We(re)).then(({error:ce})=>{ce?h(!1):(h(!1),l())});break;case"edit":m(ke({id:o,formData:Ae})).then(({error:ce})=>{ce?h(!1):(h(!1),l())});break;default:h(!1);break}},ne=C=>{switch(C){case"add":return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"});case"edit":return e.jsx("p",{className:j.FormHeader,children:"Виправити дані:"});default:return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"})}},k=C=>{x(C),g("waterValue",C.toString())},D=r===50,oe=r===5e3;return e.jsxs("form",{className:j.WaterForm,onSubmit:w(ae),children:[ne(s),e.jsx("p",{className:j.AmountOfWater,children:"Кількість води:"}),e.jsxs("div",{className:j.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(Math.max(r-50,0)),disabled:D,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-minus"})})}),e.jsxs("p",{className:j.TapAddWaterValue,children:[r," ","ml"]}),e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(r+50),disabled:oe,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-plus"})})})]}),e.jsxs("label",{className:j.RecordingTimeLabel,children:["Час запису:",e.jsx(E,{name:"recordingTime",control:c,render:({field:C})=>e.jsx("input",{...C,type:"text",className:I(j.RecordingTime),placeholder:"HH:MM",onChange:z=>{const[K,re]=z.target.value.split(":");te(K),q(re),C.onChange(z)}})}),L.recordingTime&&e.jsx("p",{className:j.Error,children:L.recordingTime.message})]}),e.jsxs("label",{className:j.WaterValueLabel,children:["Введіть обєм води:",e.jsx(E,{name:"waterValue",control:c,render:({field:C})=>e.jsx("input",{...C,type:"number",value:r||"",onChange:z=>k(Number(z.target.value)),className:j.WaterValue})}),L.waterValue&&e.jsx("p",{className:j.Error,children:L.waterValue.message})]}),e.jsx("button",{type:"submit",className:j.SaveBtn,disabled:A,children:A?e.jsx(U,{height:44,width:44}):"Зберегти"})]})},ms={DURATION:15},us="_WaterModal_198kh_1",xs="_WaterModalCloseBtn_198kh_22",pe={WaterModal:us,WaterModalCloseBtn:xs},_e=({operationType:s,onClose:a,water:t={},timestampFromUrl:o=""})=>{const l=()=>{const p=setTimeout(()=>{a(),clearTimeout(p)},ms.DURATION)},r=p=>{switch(p){case"add":return"Додавання води";case"edit":return"Редагувати кількість води";default:return"Додавання води"}},x=Number(o),m=Number(t.date),A=p=>{switch(p){case"add":return x;case"edit":return m}},h=p=>{switch(p){case"add":return 50;case"edit":return t.amount;default:return 50}},f=p=>{switch(p){case"add":return null;case"edit":return t.id;default:return null}};return e.jsxs("div",{className:pe.WaterModal,children:[e.jsx("h1",{children:r(s)}),e.jsx(ds,{operationType:s,editTime:A(s),waterPortion:h(s),waterID:f(s),handleClose:l}),e.jsx("button",{type:"button",onClick:l,"aria-label":"closeWaterModal",className:pe.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})})]})},_s="_btnAdd_74sed_1",hs="_btnText_74sed_14",ps="_plus_74sed_15",le={btnAdd:_s,btnText:hs,plus:ps},gs=()=>{const{t:s}=Ye(),a=Z(),{date:t}=X(),o=Q(t),l=i.useCallback(()=>{a()},[a]),r=i.useCallback(()=>{a(e.jsx(_e,{onClose:l,operationType:"add",timestampFromUrl:o}))},[a,l,o]);return e.jsxs("button",{type:"button",className:le.btnAdd,onClick:r,children:[e.jsx("svg",{className:le.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsx("h2",{className:le.btnText,children:s("addWater")})]})},js="_modal_10779_1",bs="_closeBtn_10779_16",Ns="_svg_10779_35",fs="_modalTextBox_10779_40",vs="_modalTitle_10779_50",Ts="_modalText_10779_40",Bs="_modalBtnBox_10779_70",ws="_userCountItem_10779_80",Cs="_like_10779_94",As="_likeActive_10779_105",ys="_loaderWrapper_10779_110",ks="_btnCancel_10779_156",W={modal:js,closeBtn:bs,svg:Ns,modalTextBox:fs,modalTitle:vs,modalText:Ts,modalBtnBox:Bs,userCountItem:ws,like:Cs,likeActive:As,loaderWrapper:ys,btnCancel:ks},Ws=({onClose:s,currentAccess:a})=>{const t=R(),[o,l]=i.useState({}),[r,x]=i.useState([]),[m,A]=i.useState(a),h="admin2006@gmail.com";i.useEffect(()=>{async function d(){try{const u=await Se();x(u.data.users),A(!m)}catch(u){console.log(u.message)}}d()},[]);const f=()=>{const d=setTimeout(()=>{s(),clearTimeout(d)},xe.DURATION)},p=async(d,u)=>{try{l(B=>({...B,[d]:!0}));const v=await t(De({id:d,access:!u}));v.error?console.error("Помилка оновлення доступу:",v.error):x(B=>B.map(y=>y.id===d?{...y,access:!u}:y))}catch(v){console.error("Щось пішло не так:",v)}finally{l(v=>({...v,[d]:!1}))}};return e.jsxs("div",{className:W.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:f,className:W.closeBtn,children:e.jsx("svg",{className:W.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:W.modalTextBox,children:[e.jsx("h2",{className:W.modalTitle,children:"Список усіх користувачів"}),r.length>0?e.jsx("ul",{className:W.userCountList,children:r.filter(d=>d.email!==h).map(d=>e.jsxs("li",{className:W.userCountItem,children:[e.jsx("p",{children:d.email}),e.jsx("div",{className:W.loaderWrapper,children:o[d.id]?e.jsx(U,{height:30,width:30}):e.jsx("button",{children:e.jsx("svg",{onClick:()=>p(d.id,d.access),className:`${W.like} ${d.access?W.likeActive:""}`,children:e.jsx("use",{href:`${_}#icon-heart`})})})})]},d.id))}):e.jsx("p",{children:"Користувачі не знайдені."})]})]})},Ss="_btnAdd_a3w66_1",Ds="_btnText_a3w66_15",Ms="_plus_a3w66_16",ie={btnAdd:Ss,btnText:Ds,plus:Ms},Ps=()=>{const s=Z(),a=i.useCallback(()=>{s(e.jsx(Ws,{onClose:()=>s(null)}))},[s]);return e.jsxs("button",{type:"button",className:ie.btnAdd,onClick:a,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-admin`})}),e.jsx("h2",{className:ie.btnText,children:"Адмін"})]})},$s=["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],Ls=s=>{const a=new Date;return{isToday:a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate(),day:s.getDate(),month:$s[s.getMonth()]}},Is="_selectedDate_14sit_1",Rs={selectedDate:Is},we=({className:s})=>{const{date:a}=X(),{isToday:t,day:o,month:l}=Ls(Q(a)),r=t?"Сьогодні":`${o} ${l}`;return e.jsx("p",{className:I(Rs.selectedDate,s),children:r})},Fs="_progressBarContainer_v5cic_1",Hs="_progressBarTitle_v5cic_14",Vs="_progressBar_v5cic_1",Es="_progressBarFill_v5cic_29",Us="_belowAim_v5cic_38",qs="_aboveAim_v5cic_44",Os="_belowAimRate_v5cic_50",zs="_aboveAimRate_v5cic_54",Gs="_ball_v5cic_58",Js="_percentNumber_v5cic_69",Ys="_percentContainer_v5cic_79",Xs="_percent_v5cic_69",b={progressBarContainer:Fs,progressBarTitle:Hs,progressBar:Vs,progressBarFill:Es,belowAim:Us,aboveAim:qs,belowAimRate:Os,aboveAimRate:zs,ball:Gs,percentNumber:Js,percentContainer:Ys,percent:Xs},Qs=()=>{const s=T(ge),t=(r=>!r||r.length===0?0:r.reduce((x,m)=>{const A=m.percentage||0;return x+A},0))(s),o=t<100,l=Math.min(Math.max(t,0),100);return e.jsxs("div",{className:b.progressBarContainer,children:[e.jsx("h3",{className:b.progressBarTitle,children:e.jsx(we,{})}),e.jsx("div",{className:b.progressBar,children:e.jsxs("div",{className:I(b.progressBarFill,{[b.belowAim]:o,[b.aboveAim]:!o}),style:{width:`${l}%`},children:[e.jsx("p",{className:I(b.percentNumber,{[b.belowAimRate]:o,[b.aboveAimRate]:!o}),children:t>=100?"Норма":`${t.toFixed(0)}%`}),e.jsx("div",{className:I(b.ball,{[b.belowAim]:t<100,[b.aboveAim]:t>=100})})]})}),e.jsxs("div",{className:b.percentContainer,children:[e.jsx("p",{className:b.percent,children:"0%"}),e.jsx("p",{className:b.percent,children:"50%"}),e.jsx("p",{className:b.percent,children:"100%"})]})]})},Zs="_waterContainer_szgl7_1",Ks="_normaContainer_szgl7_16",et="_normaL_szgl7_28",st="_normaText_szgl7_35",tt="_waterTitle_szgl7_53",G={waterContainer:Zs,normaContainer:Ks,normaL:et,normaText:st,waterTitle:tt},at=()=>{const s=T(Me),a=T(je),t="admin2006@gmail.com",o=s<1?`${s*1e3} мл`:`${s} л`;return e.jsxs("div",{className:G.waterContainer,children:[e.jsx(Xe,{className:G.waterTitle}),s===0?"":e.jsxs("div",{className:G.normaContainer,children:[e.jsx("h2",{className:G.normaL,children:o}),e.jsx("p",{className:G.normaText,children:"Моя щоденна норма"})]}),s===0?"":e.jsx(Qs,{}),s===0?"":e.jsx(gs,{}),a===t&&e.jsx(Ps,{})]})},nt="_btnLogout_1xwlm_1",ot={btnLogout:nt},rt=({handleClose:s})=>{const a=R(),t=Pe(),o=()=>{a($e()).then(({error:l})=>{l||(t("/"),s())})};return e.jsx("button",{type:"button",onClick:o,className:ot.btnLogout,children:"Вийти"})},ct="_modal_1spmq_1",lt="_closeBtn_1spmq_16",it="_svg_1spmq_35",dt="_modalTextBox_1spmq_40",mt="_modalTitle_1spmq_50",ut="_modalText_1spmq_40",xt="_modalBtnBox_1spmq_70",_t="_btnCancel_1spmq_80",P={modal:ct,closeBtn:lt,svg:it,modalTextBox:dt,modalTitle:mt,modalText:ut,modalBtnBox:xt,btnCancel:_t},ht=({onClose:s})=>{const a=T(be),t=()=>{const o=setTimeout(()=>{s(),clearTimeout(o)},xe.DURATION)};return e.jsxs("div",{className:P.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:t,className:P.closeBtn,children:e.jsx("svg",{className:P.svg,children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})}),e.jsxs("div",{className:P.modalTextBox,children:[e.jsx("h2",{className:P.modalTitle,children:"Вийти"}),e.jsx("p",{className:P.modalText,children:"Ви дійсно хочете вийти?"})]}),e.jsx("div",{className:P.modalBtnBox,children:a?e.jsx(U,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:t,className:P.btnCancel,children:"Скасувати"}),e.jsx(rt,{handleClose:t})]})})]})},Ce="data:image/png;base64,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",pt="_userAvatar_1fnxk_1",gt="_loader_1fnxk_20",jt="_uploadContainer_1fnxk_28",bt="_icon_1fnxk_36",Nt="_ordinaryText_1fnxk_49",ft="_hideBtn_1fnxk_72",vt="_userSettingForm_1fnxk_76",Tt="_boldText_1fnxk_95",Bt="_genderContainer_1fnxk_101",wt="_radioContainer_1fnxk_106",Ct="_radioInput_1fnxk_116",At="_userPreferences_1fnxk_141",yt="_formNameEmail_1fnxk_147",kt="_formWeightTime_1fnxk_152",Wt="_formula_1fnxk_165",St="_inputBox_1fnxk_169",Dt="_formulaDescription_1fnxk_193",Mt="_formulaExpression_1fnxk_207",Pt="_temporarySymbol_1fnxk_221",$t="_formulaDescriptionText_1fnxk_231",Lt="_submitBtn_1fnxk_235",It="_loaderWrapper_1fnxk_259",Rt="_boldTextBtn_1fnxk_266",Ft="_consumeWater_1fnxk_273",Ht="_userNorma_1fnxk_280",Vt="_langButton_1fnxk_288",Et="_errorMessage_1fnxk_298",n={userAvatar:pt,loader:gt,uploadContainer:jt,icon:bt,ordinaryText:Nt,hideBtn:ft,userSettingForm:vt,boldText:Tt,genderContainer:Bt,radioContainer:wt,radioInput:Ct,userPreferences:At,formNameEmail:yt,formWeightTime:kt,formula:Wt,inputBox:St,formulaDescription:Dt,formulaExpression:Mt,temporarySymbol:Pt,formulaDescriptionText:$t,submitBtn:Lt,loaderWrapper:It,boldTextBtn:Rt,consumeWater:Ft,userNorma:Ht,langButton:Vt,errorMessage:Et},Ut=({handleClose:s})=>{const a=R(),t=T(Le),o=T(Ne),[l,r]=i.useState(0),x=T(be),m=T(Ie),A=fe({name:ve().min(2,"Назва має містити не менше 2 символів").max(60,"Максимальна кількість символів імені 60").required("Імя обовязково"),weight:se().min(0).max(300,"Вага значення менше 300").typeError("Має бути числом"),dailyActiveTime:se().min(0).max(12,"Час активного спорту").typeError("Має бути числом"),dailyWaterConsumption:se().min(0).max(8,"Добове споживання води максимум 8 л").typeError("Має бути числом")}),{control:h,register:f,handleSubmit:p,watch:d,formState:{errors:u}}=Te({resolver:Be(A),defaultValues:{email:t.email,gender:t.gender,name:t.name,weight:t.weight,dailyActiveTime:t.dailyActiveTime,dailyWaterConsumption:t.dailyWaterConsumption},mode:"onChange"}),v=d("weight"),B=d("gender"),y=d("dailyActiveTime");i.useEffect(()=>{let c;const w=parseInt(v||0),g=parseInt(y||0);B==="woman"?c=w*.03+g*.4:c=w*.04+g*.6,r(Math.min(parseFloat(c),8).toFixed(2))},[y,B,v]);const M=c=>{const{photo:w,...g}=t;/\s$/.test(c.name)&&(c.name=c.name.trim());const ae=Object.keys(g).sort().reduce((k,D)=>(k[D]=g[D],k),{}),ne=Object.keys(c).sort().reduce((k,D)=>(k[D]=c[D],k),{});if(JSON.stringify(ae)!==JSON.stringify(ne)){const{email:k,...D}=c;a(Re(D)).then(({error:oe})=>{oe||s()})}else s()},te=c=>{const w=new FormData,g=c.target.files[0];g&&(w.append("avatar",g),a(Fe(w)))},F=c=>w=>{let g=w.target.value;(g===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(g))&&c.onChange(g)},q=c=>()=>{c.value===0&&c.onChange("")},O=c=>()=>{c.value===""?c.onChange(0):c.value.startsWith(".")&&c.onChange("0"+c.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:n.userAvatar,children:[m?e.jsx("div",{className:n.loader,children:e.jsx(U,{})}):e.jsx("img",{src:o||`${Ce}`,alt:"User photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:n.uploadContainer,children:[e.jsx("svg",{className:n.icon,children:e.jsx("use",{xlinkHref:`${_}#icon-upload`})}),e.jsx("span",{className:n.ordinaryText,children:"Завантажити фото"})]}),e.jsx("input",{className:n.hideBtn,type:"file",accept:"image/*",onChange:te}),u.avatar&&e.jsx("p",{children:u.avatar.message})]})]}),e.jsxs("form",{onSubmit:p(M),className:n.userSettingForm,children:[e.jsx("div",{className:n.genderContainer,children:e.jsxs("label",{className:n.genderIdentity,children:[e.jsx("span",{className:n.boldText,children:"Ваша стать"}),e.jsxs("div",{className:n.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:n.radioInput,...f("gender"),value:"woman",checked:B==="woman"}),e.jsx("label",{htmlFor:"woman",className:n.ordinaryText,children:"Жіноче"}),e.jsx("input",{type:"radio",id:"man",className:n.radioInput,...f("gender"),value:"man",checked:B==="man"}),e.jsx("label",{htmlFor:"man",className:n.ordinaryText,children:"Чоловіче"})]}),u.gender&&e.jsx("p",{className:n.errorMessage,children:u.gender.message})]})}),e.jsxs("div",{className:n.userPreferences,children:[e.jsxs("div",{className:n.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Ваше ім'я"}),e.jsx(E,{render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,placeholder:"Користувач",onChange:w=>{let g=w.target.value;/^\s|\s{2}$/.test(g)||c.onChange(g)}}),name:"name",control:h}),u.name&&e.jsx("p",{className:n.errorMessage,children:u.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Пошта"}),e.jsx("input",{disabled:!0,...f("email"),className:n.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:n.formula,children:[e.jsx("p",{className:n.boldText,children:"Моя щоденна норма"}),e.jsxs("div",{className:n.formulaDescription,children:[e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для жінок: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для чоловіків: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.formulaExpression,children:"* "}),e.jsx("span",{className:n.formulaDescriptionText,children:"* V - об'єм водної норми в літрах на день, М - ваша вага, Т - час активних занять спортом або іншої активної діяльності (у разі відсутності встановіть 0)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.temporarySymbol,children:"! "}),"Активний час (години)"]})]})]}),e.jsxs("div",{className:n.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Ваша вага (кг):"}),e.jsx(E,{name:"weight",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.weight&&e.jsx("p",{className:n.errorMessage,children:u.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Час активних занять спортом:"}),e.jsx(E,{name:"dailyActiveTime",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.dailyActiveTime&&e.jsx("p",{className:n.errorMessage,children:u.dailyActiveTime.message})]}),e.jsxs("div",{className:n.consumeWater,children:[e.jsxs("p",{className:n.ordinaryText,children:["Потрібна кількість води в літрах на день:  ",e.jsxs("span",{className:n.userNorma,children:[isNaN(l)?0:l," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Запишіть, скільки води ви вип'єте:"}),e.jsx(E,{name:"dailyWaterConsumption",control:h,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:F(c),onFocus:q(c),onBlur:O(c)})}),u.dailyWaterConsumption&&e.jsx("p",{className:n.errorMessage,children:u.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:x,type:"submit",className:`${n.submitBtn} ${n.boldTextBtn}`,children:["Зберегти",x&&e.jsx("div",{className:n.loaderWrapper,children:e.jsx(U,{height:56,width:56})})]})]})]})},qt="_modalSettingContainer_1md4x_1",Ot="_modalHeader_1md4x_14",zt="_closeBtn_1md4x_29",Gt="_icon_1md4x_44",ee={modalSettingContainer:qt,modalHeader:Ot,closeBtn:zt,icon:Gt},Jt=({onClose:s})=>e.jsxs("div",{className:ee.modalSettingContainer,children:[e.jsxs("div",{className:ee.modalHeader,children:[e.jsx("h2",{children:"Налаштування"}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:ee.closeBtn,onClick:s,children:e.jsx("svg",{className:ee.icon,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})})]}),e.jsx(Ut,{handleClose:s})]}),Yt="_userBarPopup_1ap7q_1",Xt="_userBarPopupList_1ap7q_16",Qt="_userBarPopupListItem_1ap7q_23",Zt="_userBarPopupIcon_1ap7q_40",H={userBarPopup:Yt,userBarPopupList:Xt,userBarPopupListItem:Qt,userBarPopupIcon:Zt},Kt=()=>{const s=Z(),a=i.useCallback(()=>{s()},[s]),t=i.useCallback(()=>{s(e.jsx(Jt,{onClose:a}))},[s,a]),o=i.useCallback(()=>{s(e.jsx(ht,{onClose:a}))},[s,a]);return e.jsx("div",{className:H.userBarPopup,children:e.jsxs("ul",{className:H.userBarPopupList,children:[e.jsxs("li",{className:H.userBarPopupListItem,onClick:t,children:[e.jsx("svg",{className:H.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-settings`})}),"Профіль"]}),e.jsxs("li",{className:H.userBarPopupListItem,onClick:o,children:[e.jsx("svg",{className:H.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-log-out`})}),"Вийти"]})]})})},ea="_userBarWrapper_1k17p_1",sa="_userBar_1k17p_1",ta="_userBarText_1k17p_24",aa="_userBarAvatar_1k17p_32",na="_userBarIcon_1k17p_44",oa="_rotate_1k17p_56",V={userBarWrapper:ea,userBar:sa,userBarText:ta,userBarAvatar:aa,userBarIcon:na,rotate:oa},ra=({name:s})=>{const[a,t]=i.useState(!1),o=T(Ne),l=i.useRef(null),r=m=>{l.current&&!l.current.contains(m.target)&&m.target.name!=="openPopover"&&t(!1)};i.useEffect(()=>(a?document.addEventListener("mousedown",r):document.removeEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[a]);const x=()=>{t(m=>!m)};return e.jsxs("div",{className:V.userBarWrapper,children:[e.jsxs("button",{className:V.userBar,type:"button",name:"openPopover",onClick:x,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:V.userBarText,children:s}),e.jsx("div",{className:V.userBarAvatar,style:{backgroundImage:`url(${o||Ce})`}}),e.jsx("svg",{className:`${V.userBarIcon} ${a?V.rotate:""}`,children:e.jsx("use",{xlinkHref:`${_}#icon-chevron-down`})})]}),a&&e.jsx("div",{ref:l,children:e.jsx(Kt,{})})]})},ca="_userPanel_iff7o_1",la="_userPanelTitle_iff7o_7",ia="_userPanelTitleName_iff7o_18",de={userPanel:ca,userPanelTitle:la,userPanelTitleName:ia},da=()=>{const s=T(He),a=T(je),t=a?a.split("@")[0]:null,o=s==="User"?t:s;return e.jsxs("div",{className:de.userPanel,children:[e.jsxs("h1",{className:de.userPanelTitle,children:["Привіт,",e.jsx("span",{className:de.userPanelTitleName,children:o})]}),e.jsx(ra,{name:s})]})},ma="_btnStyle_445u2_1",ua="_iconStyle_445u2_15",xa="_btnStyleText_445u2_31",me={btnStyle:ma,iconStyle:ua,btnStyleText:xa},_a=()=>{const s=Z(),a=i.useCallback(()=>{s()},[s]),{date:t}=X(),o=Q(t).getTime(),l=i.useCallback(()=>{s(e.jsx(_e,{onClose:a,operationType:"add",timestampFromUrl:o}))},[s,a,o]);return e.jsxs("button",{className:me.btnStyle,type:"button",onClick:l,children:[e.jsx("svg",{className:me.iconStyle,children:e.jsx("use",{xlinkHref:_+"#icon-plus"})}),e.jsx("span",{className:me.btnStyleText,children:"Додати воду"})]})},ha=s=>{const a=new Date(Number(s));let t=a.getHours();const o=a.getMinutes(),l=t>=12?"PM":"AM";t>=12&&(t=t%12,t=t||12);const r=t.toString().padStart(2,"0"),x=o.toString().padStart(2,"0");return`${r}:${x} ${l}`},pa=s=>s>=1e3?{value:s/1e3,text:"л"}:{value:s,text:"мл"},ga="_btnDelete_19mt5_1",ja={btnDelete:ga},ba=({isLoading:s,handleDelete:a})=>e.jsx("button",{type:"button",className:ja.btnDelete,onClick:()=>a(),disabled:s,children:"Видалити"}),Na="_modal_z4bq9_1",fa="_closeBtn_z4bq9_16",va="_svg_z4bq9_35",Ta="_modalTextBox_z4bq9_40",Ba="_modalTitle_z4bq9_50",wa="_modalText_z4bq9_40",Ca="_modalBtnBox_z4bq9_70",Aa="_btnCancel_z4bq9_80",$={modal:Na,closeBtn:fa,svg:va,modalTextBox:Ta,modalTitle:Ba,modalText:wa,modalBtnBox:Ca,btnCancel:Aa},ya=({id:s,onClose:a})=>{const t=R(),[o,l]=i.useState(!1),r=()=>{const m=setTimeout(()=>{a(),clearTimeout(m)},xe.DURATION)},x=()=>{l(()=>!0),t(Ve(s)).then(({error:m})=>{m?console.error("Помилка видалення запису:",m):r(),l(!1)})};return e.jsxs("div",{className:$.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:r,className:$.closeBtn,children:e.jsx("svg",{className:$.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:$.modalTextBox,children:[e.jsx("h2",{className:$.modalTitle,children:"Видалити запис"}),e.jsx("p",{className:$.modalText,children:"Ви дійсно хочете видалити запис ?"})]}),e.jsx("div",{className:$.modalBtnBox,children:o?e.jsx(U,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:r,className:$.btnCancel,children:"Відміна"}),e.jsx(ba,{handleDelete:x,id:s})]})})]})},ka="_waterItemContent_1msly_1",Wa="_waterInfo_1msly_12",Sa="_waterAmount_1msly_15",Da="_waterDate_1msly_22",Ma="_iconWaterGlass_1msly_28",Pa="_editButton_1msly_40",$a="_deleteButton_1msly_41",La="_containerButtons_1msly_53",Ia="_iconAction_1msly_59",S={waterItemContent:ka,waterInfo:Wa,waterAmount:Sa,waterDate:Da,iconWaterGlass:Ma,editButton:Pa,deleteButton:$a,containerButtons:La,iconAction:Ia},Ra=({water:s})=>{const a=Z(),t=i.useCallback(()=>{a()},[a]),o=i.useCallback(()=>{a(e.jsx(ya,{id:s.id,onClose:t}))},[a,t,s]),l=i.useCallback(()=>{a(e.jsx(_e,{water:s,onClose:t,operationType:"edit"}))},[a,t,s]),r=pa(s.amount);return e.jsxs("div",{className:S.waterItemContent,children:[e.jsx("svg",{className:S.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:_+"#icon-glass"})}),e.jsxs("div",{className:S.waterInfo,children:[e.jsx("p",{className:S.waterAmount,children:`${r.value} ${r.text}`}),e.jsx("p",{className:S.waterDate,children:ha(s.date)})]}),e.jsxs("div",{className:S.containerButtons,children:[e.jsx("button",{className:S.editButton,onClick:l,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:_+"#icon-edit"})})}),e.jsx("button",{className:S.deleteButton,onClick:o,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:_+"#icon-trash"})})})]})]})},Fa="_waterList_nhslc_1",Ha="_messageContainer_nhslc_12",Va="_noWater_nhslc_21",Ea="_skeleton_nhslc_68",Ua="_shimmer_nhslc_1",J={waterList:Fa,messageContainer:Ha,noWater:Va,skeleton:Ea,shimmer:Ua},qa=()=>{const s=T(ge);return T(Ee)?e.jsx("div",{className:J.waterList,children:[1,2,3].map(t=>e.jsx("div",{className:J.skeleton},t))}):s.length?e.jsx("ul",{className:J.waterList,children:s.map(t=>e.jsx("li",{children:e.jsx(Ra,{water:t})},t.id))}):e.jsx("div",{className:J.messageContainer,children:e.jsx("h2",{className:J.noWater,children:"Вода ще не додана"})})},Oa="_info_iy33z_1",za="_dailyFont_iy33z_7",Ga="_header_iy33z_20",Ja="_title_iy33z_28",Ya="_button_iy33z_43",Xa="_icon_iy33z_67",Qa="_iconBackground_iy33z_90",ue={info:Oa,dailyFont:za,header:Ga,title:Ja,button:Ya,icon:Xa,iconBackground:Qa},Za=()=>e.jsxs("div",{className:ue.info,children:[e.jsxs("div",{className:ue.header,children:[e.jsx(we,{className:ue.dailyFont}),e.jsx(_a,{})]}),e.jsx(qa,{})]}),Ka=({title:s,styles:a})=>e.jsx("span",{className:a,children:s}),en=["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень"," Жовтень"," Листопад","Грудень"],sn="_btn_11ww4_1",tn="_btnDisabled_11ww4_13",an="_svgSchedule_11ww4_17",nn="_svgPie_11ww4_18",on="_calendarTitle_11ww4_28",rn="_month_11ww4_39",cn="_monthInd_11ww4_46",ln="_monthYear_11ww4_69",dn="_statisticBtn_11ww4_76",mn="_svgArrowLeft_11ww4_86",un="_svgArrowRight_11ww4_87",xn="_isHidden_11ww4_98",N={btn:sn,btnDisabled:tn,svgSchedule:an,svgPie:nn,calendarTitle:on,month:rn,monthInd:cn,monthYear:ln,statisticBtn:dn,svgArrowLeft:mn,svgArrowRight:un,isHidden:xn},_n=()=>{const s=R(),{date:a}=X(),t=Q(a),[o,l]=i.useState(new Date(t).getFullYear()),[r,x]=i.useState(new Date(t).getMonth()),m=T(Ue),h=qe().pathname.split("/").pop(),f=()=>{if(r===11){s(Y(new Date(o+1,0,4).getTime())),x(0),l(o+1);return}s(Y(new Date(o,r+1,4).getTime())),x(r+1)},p=()=>{if(r===0){s(Y(new Date(o-1,11,4).getTime())),x(11),l(o-1);return}s(Y(new Date(o,r-1,4).getTime())),x(r-1)},d=en[r],u=h==="schedule"?"Статистика":"Місяць",v=new Date(Date.now()).getFullYear(),B=new Date(Date.now()).getMonth(),y=new Date(v,B)<=new Date(o,r);return e.jsxs("div",{className:N.calendarTitle,children:[e.jsx(Ka,{title:u,styles:N.month}),e.jsxs("div",{className:N.monthInd,children:[e.jsx("button",{onClick:p,className:N.btn,disabled:m,children:e.jsx("svg",{className:N.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx("span",{className:N.monthYear,children:`${d}, ${o}`}),e.jsx("button",{onClick:f,className:`${N.btn} ${y?N.btnDisabled:""} `,disabled:m||y,children:e.jsx("svg",{className:N.svgArrowRight,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx(he,{to:"calendar",className:({isActive:M})=>I(N.statisticBtn,{[N.isHidden]:M}),children:e.jsx("svg",{className:N.svgSchedule,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})}),e.jsx(he,{to:"schedule",className:({isActive:M})=>I(N.statisticBtn,{[N.isHidden]:M}),children:e.jsx("svg",{className:N.svgPie,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})})]})]})},hn=()=>e.jsxs("div",{children:[e.jsx(_n,{}),e.jsx(i.Suspense,{fallback:e.jsx(Ze,{}),children:e.jsx(Oe,{})})]}),pn="_waterDetailedInfo_199e5_1",gn={waterDetailedInfo:pn},jn=()=>e.jsxs("section",{className:gn.waterDetailedInfo,children:[e.jsx(da,{}),e.jsx(Za,{}),e.jsx(hn,{})]}),bn="_waterPage_16oaj_1",Nn="_registerPageRight_16oaj_8",fn={waterPage:bn,registerPageRight:Nn},Cn=()=>{const{date:s}=X(),a=R(),t=Q(s).getTime(),[o,l]=i.useState(!0);return i.useEffect(()=>{if(o){const r=Date.now();a(ze()),a(Ge(t)),a(Y(t)),a(Je(r)),l(!1)}},[o,t,a]),e.jsxs("div",{className:fn.waterPage,children:[e.jsx(at,{}),e.jsx(jn,{})]})};export{Cn as default};
