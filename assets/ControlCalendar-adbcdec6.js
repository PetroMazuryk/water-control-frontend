import{w as D,b as N,u as i,t as f,n as j,j as s,g as h,Q as v,V as y,I as w,W as F,X as L}from"./index-7d782479.js";import{p as C}from"./parseDate-629c4fe8.js";const I="_day_1fbih_1",S="_date_1fbih_15",T="_percFilled_1fbih_30",W="_perc_1fbih_30",E="_active_1fbih_50",r={day:I,date:S,percFilled:T,perc:W,active:E},R=t=>{const e=new Date,a=new Date(Number(t));return e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999),e.getTime()<a.getTime()},$=(t,e)=>{const a=new Date(Number(t)),n=new Date(Number(e));return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()&&a.getDate()===n.getDate()},k=({calendarDate:t,amount:e})=>{const a=D(),n=N(),c=i(f),{date:m}=j(),_=C(m),g=u=>{a(`/water/${u}`),n(v(u))},p=new Date(Number(t)).getDate(),l=c>0?Math.round(e/(c*1e3)*100):e,d=R(t),b=Math.round(l)<100,x=$(_,t),M=Math.round(l)>=100?"100%":`${l}%`;return s.jsxs("button",{className:h(r.day,{[r.disabled]:d}),disabled:d,onClick:()=>g(t),children:[s.jsx("div",{className:h(r.date,{[r.percFilled]:b,[r.active]:x}),children:p}),s.jsx("div",{className:r.perc,children:M})]})},A="_errorMessage_128uc_1",Y="_container_128uc_7",H="_calendarList_128uc_12",o={errorMessage:A,container:Y,calendarList:H},V=()=>{const t=i(y),e=i(w),a=i(F);return e?s.jsx(L,{}):a?s.jsx("div",{className:o.container,children:s.jsx("h2",{className:o.errorMessage,children:"Сталася помилка отримання даних води за місяць. Спробуйте пізніше."})}):s.jsx("div",{className:o.container,children:s.jsx("ul",{className:o.calendarList,children:t.map((n,c)=>s.jsx("li",{children:s.jsx(k,{index:c,calendarDate:n.date,amount:n.amount})},c))})})};export{V as default};
