import{c as C,j as s,A as $,k as M,l as B,r as u,u as S,a as A,g as E,m as L}from"./index-7482a7be.js";import{A as R}from"./AdvantagesSection-7ea9045b.js";import{c as a,G as q,a as f,F as z,b as Z}from"./RegisterPage.module-bbfb8c0f.js";import{u as I}from"./useModal-f26febd1.js";import{u as y,c as V,a as T,o as H}from"./index.esm-44b4859a.js";import{L as D}from"./Loader-b18bfc5f.js";import{s as h}from"./sprite-bfb819dd.js";import"./Logo-a99d04c4.js";const G="_modal_e1vll_1",O="_closeBtn_e1vll_15",U="_svg_e1vll_31",W="_modalTextBox_e1vll_36",J="_modalTitle_e1vll_45",K="_modalText_e1vll_36",Q="_modalForm_e1vll_63",X="_inputField_e1vll_71",Y="_errorInput_e1vll_87",ss="_error_e1vll_87",es="_modalBtnBox_e1vll_96",as="_btnSend_e1vll_103",ts="_btnCancel_e1vll_120",t={modal:G,closeBtn:O,svg:U,modalTextBox:W,modalTitle:J,modalText:K,modalForm:Q,inputField:X,errorInput:Y,error:ss,modalBtnBox:es,btnSend:as,btnCancel:ts},os=({onClose:e})=>{const o=C(),{register:r,handleSubmit:c,reset:p,formState:{errors:l,isSubmitting:d}}=y({defaultValues:{email:""}}),m=()=>{const n=setTimeout(()=>{e(),clearTimeout(n)},$.DURATION)},g=async({email:n})=>{try{await o(M(n)).unwrap(),B.success("Посилання для скидання паролю успішно надіслано"),p()}catch(x){B.error(typeof x=="string"?x:"Сталася помилка. Спробуйте ще раз.")}};return s.jsxs("div",{className:t.modal,children:[s.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:m,className:t.closeBtn,children:s.jsx("svg",{className:t.svg,children:s.jsx("use",{xlinkHref:`${h}#icon-x`})})}),s.jsxs("div",{className:t.modalTextBox,children:[s.jsx("h2",{className:t.modalTitle,children:"Забули пароль?"}),s.jsx("p",{className:t.modalText,children:"Ми надішлемо вам електронного листа з посиланням для скидання пароля."})]}),s.jsxs("form",{onSubmit:c(g),className:t.modalForm,children:[s.jsx("input",{type:"email",placeholder:"Введіть свою електронну пошту",...r("email",{required:"Обовʼязково введіть email",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Некоректний формат електронної пошти"}}),className:`${t.inputField} ${l.email?t.errorInput:""}`}),l.email&&s.jsx("div",{className:t.error,children:l.email.message}),s.jsxs("div",{className:t.modalBtnBox,children:[s.jsx("button",{type:"submit",className:t.btnSend,disabled:d,children:d?"Надсилання...":"Відправити посилання для скидання паролю"}),s.jsx("button",{type:"button",className:t.btnCancel,onClick:m,children:"Відміна"})]})]})]})},rs="_textBtn_12uyc_1",ls="_forgotPasswordBtn_12uyc_6",F={textBtn:rs,forgotPasswordBtn:ls},ns=()=>{const e=I(),o=u.useCallback(()=>{e()},[e]),r=u.useCallback(()=>{e(s.jsx(os,{onClose:o}))},[e,o]);return s.jsxs("p",{className:F.textBtn,children:["Забули пароль?",s.jsx("button",{type:"button",className:F.forgotPasswordBtn,onClick:r,children:"Натисніть сюди"}),"для зміни паролю"]})},is=()=>{var j,_,b,N,v,w;const{t:e}=S(),o=C(),r=A(E),[c,p]=u.useState(!1),l=I(),d=u.useCallback(()=>{l()},[l]),m=V({email:T().required(e("emailRequired")).email(e("enterValidEmail")),password:T().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),g=()=>{p(!c)},{register:n,handleSubmit:x,formState:{errors:i}}=y({resolver:H(m)}),P=k=>{o(L(k))};return s.jsx("div",{className:a.registerComponent,children:s.jsxs("form",{onSubmit:x(P),children:[s.jsx("h2",{className:a.registerTitle,children:e("logInTitle")}),s.jsxs("div",{className:a.registerForm,children:[s.jsxs("label",{className:a.registerLabel,children:[e("email"),s.jsx("input",{className:(j=i.email)!=null&&j.message?`${a.registerInputError}`:`${a.registerInput}`,...n("email"),placeholder:e("placeholderEmail")}),(_=i.email)!=null&&_.message?s.jsx("p",{className:a.registerErrorMessage,children:(b=i.email)==null?void 0:b.message}):""]}),s.jsxs("label",{className:a.registerLabel,children:[s.jsx("span",{children:e("password")}),s.jsxs("span",{className:a.registerPassword,children:[s.jsx("input",{type:c?"text":"password",className:(N=i.password)!=null&&N.message?`${a.registerInputError}`:`${a.registerInput}`,...n("password"),placeholder:e("placeholderPassword")}),s.jsx("button",{className:a.passwordIconBtn,type:"button",onClick:g,children:c===!1?s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:h+"#icon-eye-off"})}):s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:h+"#icon-eye"})})})]}),(v=i.password)!=null&&v.message?s.jsx("p",{className:a.registerErrorMessage,children:(w=i.password)==null?void 0:w.message}):""]}),s.jsx(ns,{onClose:d})]}),r?s.jsx("div",{className:a.registerButtonsContainer,children:s.jsx(D,{height:44,width:44,label:"Увійти"})}):s.jsxs("div",{className:a.registerButtonsContainer,children:[s.jsx("button",{disabled:r&&!0,className:a.registerBtn,type:"submit",children:e("logIn")}),s.jsx(q,{})]})]})})},js=()=>{const{t:e}=S();return s.jsxs("div",{className:f.registerPage,children:[s.jsxs(z,{children:[s.jsx(is,{}),s.jsx(Z,{link:"/register",text:e("footerText"),linkName:e("register")})]}),s.jsx("div",{className:f.registerPageRight,children:s.jsx(R,{})})]})};export{js as default};
