import{r as i,M as we,j as e,b as V,g as H,i as Ce,k as ye,m as Y,u as f,n as Ae,o as We,p as ke,f as _e,A as he,q as Se,t as pe,v as De,w as Me,x as Pe,y as Le,z as Ie,B as $e,C as Fe,N as ue,D as G,O as Re,E as He,F as Ve,G as Ee}from"./index-93610613.js";import{p as X}from"./parseDate-629c4fe8.js";import{L as qe}from"./Logo-e4aa3b56.js";import{$ as Oe,c as ge,a as je,d as K,u as be,o as fe,s as m,C as R,L as Ue}from"./Loader-4f960bd9.js";import{s as Ne,a as ze,b as Ge}from"./selectors-798b382f.js";const ee=()=>i.useContext(we),J=({width:s,height:a})=>e.jsx(Oe,{visible:!0,height:a,width:s,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),Je="_WaterForm_1jleh_1",Ye="_FormHeader_1jleh_13",Xe="_AmountOfWater_1jleh_25",Qe="_TapAddWaterWrapper_1jleh_36",Ze="_TapAddWater_1jleh_36",Ke="_TapAddWaterValue_1jleh_88",es="_RecordingTimeLabel_1jleh_104",ss="_RecordingTime_1jleh_104",ts="_WaterValueLabel_1jleh_136",as="_WaterValue_1jleh_136",ns="_SaveBtn_1jleh_177",h={WaterForm:Je,FormHeader:Ye,AmountOfWater:Xe,TapAddWaterWrapper:Qe,TapAddWater:Ze,TapAddWaterValue:Ke,RecordingTimeLabel:es,RecordingTime:ss,WaterValueLabel:ts,WaterValue:as,SaveBtn:ns,Error:"_Error_1jleh_213"},os=({operationType:s="add",editTime:a,waterPortion:t,waterID:o,handleClose:l})=>{const[c,u]=i.useState(t),d=V(),[S,p]=i.useState(!1),N=new Date(a),g=N.getFullYear(),D=String(N.getMonth()+1).padStart(2,"0"),_=String(N.getDate()).padStart(2,"0"),M=s==="add"?new Date:N,y=String(M.getHours()).padStart(2,"0"),P=String(M.getMinutes()).padStart(2,"0"),[A,se]=i.useState(y),[I,E]=i.useState(P),q=ge().shape({recordingTime:je().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:K().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:r,handleSubmit:v,setValue:x,formState:{errors:L}}=be({resolver:fe(q),defaultValues:{recordingTime:`${A}:${I}`,waterValue:c.toString()}}),te=T=>{const Q=new Date(`${g}-${D}-${_}T${A}:${I}:00`).getTime().toString(),oe={amount:T.waterValue,date:Q},Be={amount:T.waterValue,date:Q};switch(p(!0),s){case"add":d(ye(oe)).then(({error:re})=>{re?p(!1):(p(!1),l())});break;case"edit":d(Ce({id:o,formData:Be})).then(({error:re})=>{re?p(!1):(p(!1),l())});break;default:p(!1);break}},ae=T=>{switch(T){case"add":return e.jsx("p",{className:h.FormHeader,children:"Оберіть значення:"});case"edit":return e.jsx("p",{className:h.FormHeader,children:"Виправити дані:"});default:return e.jsx("p",{className:h.FormHeader,children:"Оберіть значення:"})}},B=T=>{u(T),x("waterValue",T.toString())},C=c===50,ne=c===5e3;return e.jsxs("form",{className:h.WaterForm,onSubmit:v(te),children:[ae(s),e.jsx("p",{className:h.AmountOfWater,children:"Кількість води:"}),e.jsxs("div",{className:h.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:h.TapAddWater,onClick:()=>B(Math.max(c-50,0)),disabled:C,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:m+"#icon-minus"})})}),e.jsxs("p",{className:h.TapAddWaterValue,children:[c," ","ml"]}),e.jsx("button",{type:"button",className:h.TapAddWater,onClick:()=>B(c+50),disabled:ne,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:m+"#icon-plus"})})})]}),e.jsxs("label",{className:h.RecordingTimeLabel,children:["Час запису:",e.jsx(R,{name:"recordingTime",control:r,render:({field:T})=>e.jsx("input",{...T,type:"text",className:H(h.RecordingTime),placeholder:"HH:MM",onChange:O=>{const[Q,oe]=O.target.value.split(":");se(Q),E(oe),T.onChange(O)}})}),L.recordingTime&&e.jsx("p",{className:h.Error,children:L.recordingTime.message})]}),e.jsxs("label",{className:h.WaterValueLabel,children:["Введіть обєм води:",e.jsx(R,{name:"waterValue",control:r,render:({field:T})=>e.jsx("input",{...T,type:"number",value:c||"",onChange:O=>B(Number(O.target.value)),className:h.WaterValue})}),L.waterValue&&e.jsx("p",{className:h.Error,children:L.waterValue.message})]}),e.jsx("button",{type:"submit",className:h.SaveBtn,disabled:S,children:S?e.jsx(J,{height:44,width:44}):"Зберегти"})]})},rs={DURATION:15},cs="_WaterModal_198kh_1",ls="_WaterModalCloseBtn_198kh_22",xe={WaterModal:cs,WaterModalCloseBtn:ls},me=({operationType:s,onClose:a,water:t={},timestampFromUrl:o=""})=>{const l=()=>{const g=setTimeout(()=>{a(),clearTimeout(g)},rs.DURATION)},c=g=>{switch(g){case"add":return"Додавання води";case"edit":return"Редагувати кількість води";default:return"Додавання води"}},u=Number(o),d=Number(t.date),S=g=>{switch(g){case"add":return u;case"edit":return d}},p=g=>{switch(g){case"add":return 50;case"edit":return t.amount;default:return 50}},N=g=>{switch(g){case"add":return null;case"edit":return t.id;default:return null}};return e.jsxs("div",{className:xe.WaterModal,children:[e.jsx("h1",{children:c(s)}),e.jsx(os,{operationType:s,editTime:S(s),waterPortion:p(s),waterID:N(s),handleClose:l}),e.jsx("button",{type:"button",onClick:l,"aria-label":"closeWaterModal",className:xe.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${m}#icon-x`})})})]})},is="_btnAdd_1xtnj_1",ds="_btnText_1xtnj_14",ms="_plus_1xtnj_15",ce={btnAdd:is,btnText:ds,plus:ms},us=()=>{const s=ee(),{date:a}=Y(),t=X(a),o=i.useCallback(()=>{s()},[s]),l=i.useCallback(()=>{s(e.jsx(me,{onClose:o,operationType:"add",timestampFromUrl:t}))},[s,o,t]);return e.jsxs("button",{type:"button",className:ce.btnAdd,onClick:l,children:[e.jsx("svg",{className:ce.plus,children:e.jsx("use",{xlinkHref:m+"#icon-plus"})}),e.jsx("h2",{className:ce.btnText,children:"Додати воду"})]})},xs="_progressBarContainer_v5cic_1",_s="_progressBarTitle_v5cic_14",hs="_progressBar_v5cic_1",ps="_progressBarFill_v5cic_29",gs="_belowAim_v5cic_38",js="_aboveAim_v5cic_44",bs="_belowAimRate_v5cic_50",fs="_aboveAimRate_v5cic_54",Ns="_ball_v5cic_58",vs="_percentNumber_v5cic_69",Ts="_percentContainer_v5cic_79",Bs="_percent_v5cic_69",b={progressBarContainer:xs,progressBarTitle:_s,progressBar:hs,progressBarFill:ps,belowAim:gs,aboveAim:js,belowAimRate:bs,aboveAimRate:fs,ball:Ns,percentNumber:vs,percentContainer:Ts,percent:Bs},ws=["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],Cs=s=>{const a=new Date;return{isToday:a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate(),day:s.getDate(),month:ws[s.getMonth()]}},ys="_selectedDate_14sit_1",As={selectedDate:ys},ve=({className:s})=>{const{date:a}=Y(),{isToday:t,day:o,month:l}=Cs(X(a)),c=t?"Сьогодні":`${o} ${l}`;return e.jsx("p",{className:H(As.selectedDate,s),children:c})},Ws=()=>{const s=f(Ne),t=(o=>!o||o.length===0?0:o.reduce((l,c)=>l+c.percentage,0))(s);return e.jsxs("div",{className:b.progressBarContainer,children:[e.jsx("h3",{className:b.progressBarTitle,children:e.jsx(ve,{})}),e.jsx("div",{className:b.progressBar,children:e.jsx("div",{className:H(b.progressBarFill,{[b.belowAim]:t<100,[b.aboveAim]:t>=100}),style:{width:`${t>100?100:t}%`},children:e.jsx("p",{className:H(b.percentNumber,{[b.belowAimRate]:t<100,[b.aboveAimRate]:t>=100}),children:t>=100?"Норма":`${t.toFixed(0)}%`})})}),e.jsxs("div",{className:b.percentContainer,children:[e.jsx("p",{className:b.percent,children:"0%"}),e.jsx("p",{className:b.percent,children:"50%"}),e.jsx("p",{className:b.percent,children:"100%"})]})]})},ks="_waterContainer_szgl7_1",Ss="_normaContainer_szgl7_16",Ds="_normaL_szgl7_28",Ms="_normaText_szgl7_35",Ps="_waterTitle_szgl7_53",U={waterContainer:ks,normaContainer:Ss,normaL:Ds,normaText:Ms,waterTitle:Ps},Ls=()=>{const s=f(Ae),a=s<1?`${s*1e3} мл`:`${s} л`;return e.jsxs("div",{className:U.waterContainer,children:[e.jsx(qe,{className:U.waterTitle}),s===0?"":e.jsxs("div",{className:U.normaContainer,children:[e.jsx("h2",{className:U.normaL,children:a}),e.jsx("p",{className:U.normaText,children:"Моя щоденна норма"})]}),s===0?"":e.jsx(Ws,{}),s===0?"":e.jsx(us,{})]})},Is="_btnLogout_1xwlm_1",$s={btnLogout:Is},Fs=({handleClose:s})=>{const a=V(),t=We(),o=()=>{a(ke()).then(({error:l})=>{l||(t("/"),s())})};return e.jsx("button",{type:"button",onClick:o,className:$s.btnLogout,children:"Вийти"})},Rs="_modal_1spmq_1",Hs="_closeBtn_1spmq_16",Vs="_svg_1spmq_35",Es="_modalTextBox_1spmq_40",qs="_modalTitle_1spmq_50",Os="_modalText_1spmq_40",Us="_modalBtnBox_1spmq_70",zs="_btnCancel_1spmq_80",W={modal:Rs,closeBtn:Hs,svg:Vs,modalTextBox:Es,modalTitle:qs,modalText:Os,modalBtnBox:Us,btnCancel:zs},Gs=({onClose:s})=>{const a=f(_e),t=()=>{const o=setTimeout(()=>{s(),clearTimeout(o)},he.DURATION)};return e.jsxs("div",{className:W.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:t,className:W.closeBtn,children:e.jsx("svg",{className:W.svg,children:e.jsx("use",{xlinkHref:`${m}#icon-x`})})}),e.jsxs("div",{className:W.modalTextBox,children:[e.jsx("h2",{className:W.modalTitle,children:"Вийти"}),e.jsx("p",{className:W.modalText,children:"Ви дійсно хочете вийти?"})]}),e.jsx("div",{className:W.modalBtnBox,children:a?e.jsx(J,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:t,className:W.btnCancel,children:"Скасувати"}),e.jsx(Fs,{handleClose:t})]})})]})},Te="data:image/png;base64,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",Js="_userAvatar_1fnxk_1",Ys="_loader_1fnxk_20",Xs="_uploadContainer_1fnxk_28",Qs="_icon_1fnxk_36",Zs="_ordinaryText_1fnxk_49",Ks="_hideBtn_1fnxk_72",et="_userSettingForm_1fnxk_76",st="_boldText_1fnxk_95",tt="_genderContainer_1fnxk_101",at="_radioContainer_1fnxk_106",nt="_radioInput_1fnxk_116",ot="_userPreferences_1fnxk_141",rt="_formNameEmail_1fnxk_147",ct="_formWeightTime_1fnxk_152",lt="_formula_1fnxk_165",it="_inputBox_1fnxk_169",dt="_formulaDescription_1fnxk_193",mt="_formulaExpression_1fnxk_207",ut="_temporarySymbol_1fnxk_221",xt="_formulaDescriptionText_1fnxk_231",_t="_submitBtn_1fnxk_235",ht="_loaderWrapper_1fnxk_259",pt="_boldTextBtn_1fnxk_266",gt="_consumeWater_1fnxk_273",jt="_userNorma_1fnxk_280",bt="_langButton_1fnxk_288",ft="_errorMessage_1fnxk_298",n={userAvatar:Js,loader:Ys,uploadContainer:Xs,icon:Qs,ordinaryText:Zs,hideBtn:Ks,userSettingForm:et,boldText:st,genderContainer:tt,radioContainer:at,radioInput:nt,userPreferences:ot,formNameEmail:rt,formWeightTime:ct,formula:lt,inputBox:it,formulaDescription:dt,formulaExpression:mt,temporarySymbol:ut,formulaDescriptionText:xt,submitBtn:_t,loaderWrapper:ht,boldTextBtn:pt,consumeWater:gt,userNorma:jt,langButton:bt,errorMessage:ft},Nt=({handleClose:s})=>{const a=V(),t=f(Se),o=f(pe),[l,c]=i.useState(0),u=f(_e),d=f(De),S=ge({name:je().min(2,"Назва має містити не менше 2 символів").max(60,"Максимальна кількість символів імені 60").required("Імя обовязково"),weight:K().min(0).max(300,"Вага значення менше 300").typeError("Має бути числом"),dailyActiveTime:K().min(0).max(12,"Час активного спорту").typeError("Має бути числом"),dailyWaterConsumption:K().min(0).max(8,"Добове споживання води максимум 8 л").typeError("Має бути числом")}),{control:p,register:N,handleSubmit:g,watch:D,formState:{errors:_}}=be({resolver:fe(S),defaultValues:{email:t.email,gender:t.gender,name:t.name,weight:t.weight,dailyActiveTime:t.dailyActiveTime,dailyWaterConsumption:t.dailyWaterConsumption},mode:"onChange"}),M=D("weight"),y=D("gender"),P=D("dailyActiveTime");i.useEffect(()=>{let r;const v=parseInt(M||0),x=parseInt(P||0);y==="woman"?r=v*.03+x*.4:r=v*.04+x*.6,c(Math.min(parseFloat(r),8).toFixed(2))},[P,y,M]);const A=r=>{const{photo:v,...x}=t;/\s$/.test(r.name)&&(r.name=r.name.trim());const te=Object.keys(x).sort().reduce((B,C)=>(B[C]=x[C],B),{}),ae=Object.keys(r).sort().reduce((B,C)=>(B[C]=r[C],B),{});if(JSON.stringify(te)!==JSON.stringify(ae)){const{email:B,...C}=r;a(Me(C)).then(({error:ne})=>{ne||s()})}else s()},se=r=>{const v=new FormData,x=r.target.files[0];x&&(v.append("avatar",x),a(Pe(v)))},I=r=>v=>{let x=v.target.value;(x===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(x))&&r.onChange(x)},E=r=>()=>{r.value===0&&r.onChange("")},q=r=>()=>{r.value===""?r.onChange(0):r.value.startsWith(".")&&r.onChange("0"+r.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:n.userAvatar,children:[d?e.jsx("div",{className:n.loader,children:e.jsx(J,{})}):e.jsx("img",{src:o||`${Te}`,alt:"User photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:n.uploadContainer,children:[e.jsx("svg",{className:n.icon,children:e.jsx("use",{xlinkHref:`${m}#icon-upload`})}),e.jsx("span",{className:n.ordinaryText,children:"Завантажити фото"})]}),e.jsx("input",{className:n.hideBtn,type:"file",accept:"image/*",onChange:se}),_.avatar&&e.jsx("p",{children:_.avatar.message})]})]}),e.jsxs("form",{onSubmit:g(A),className:n.userSettingForm,children:[e.jsx("div",{className:n.genderContainer,children:e.jsxs("label",{className:n.genderIdentity,children:[e.jsx("span",{className:n.boldText,children:"Ваша стать"}),e.jsxs("div",{className:n.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:n.radioInput,...N("gender"),value:"woman",checked:y==="woman"}),e.jsx("label",{htmlFor:"woman",className:n.ordinaryText,children:"Жіноче"}),e.jsx("input",{type:"radio",id:"man",className:n.radioInput,...N("gender"),value:"man",checked:y==="man"}),e.jsx("label",{htmlFor:"man",className:n.ordinaryText,children:"Чоловіче"})]}),_.gender&&e.jsx("p",{className:n.errorMessage,children:_.gender.message})]})}),e.jsxs("div",{className:n.userPreferences,children:[e.jsxs("div",{className:n.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Ваше ім'я"}),e.jsx(R,{render:({field:r})=>e.jsx("input",{...r,className:n.inputBox,placeholder:"Користувач",onChange:v=>{let x=v.target.value;/^\s|\s{2}$/.test(x)||r.onChange(x)}}),name:"name",control:p}),_.name&&e.jsx("p",{className:n.errorMessage,children:_.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Пошта"}),e.jsx("input",{disabled:!0,...N("email"),className:n.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:n.formula,children:[e.jsx("p",{className:n.boldText,children:"Моя щоденна норма"}),e.jsxs("div",{className:n.formulaDescription,children:[e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для жінок: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для чоловіків: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.formulaExpression,children:"* "}),e.jsx("span",{className:n.formulaDescriptionText,children:"* V - об'єм водної норми в літрах на день, М - ваша вага, Т - час активних занять спортом або іншої активної діяльності (у разі відсутності встановіть 0)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.temporarySymbol,children:"! "}),"Активний час (години)"]})]})]}),e.jsxs("div",{className:n.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Ваша вага (кг):"}),e.jsx(R,{name:"weight",control:p,render:({field:r})=>e.jsx("input",{...r,className:n.inputBox,onChange:I(r),onFocus:E(r),onBlur:q(r)})}),_.weight&&e.jsx("p",{className:n.errorMessage,children:_.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Час активних занять спортом:"}),e.jsx(R,{name:"dailyActiveTime",control:p,render:({field:r})=>e.jsx("input",{...r,className:n.inputBox,onChange:I(r),onFocus:E(r),onBlur:q(r)})}),_.dailyActiveTime&&e.jsx("p",{className:n.errorMessage,children:_.dailyActiveTime.message})]}),e.jsxs("div",{className:n.consumeWater,children:[e.jsxs("p",{className:n.ordinaryText,children:["Потрібна кількість води в літрах на день:  ",e.jsxs("span",{className:n.userNorma,children:[isNaN(l)?0:l," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Запишіть, скільки води ви вип'єте:"}),e.jsx(R,{name:"dailyWaterConsumption",control:p,render:({field:r})=>e.jsx("input",{...r,className:n.inputBox,onChange:I(r),onFocus:E(r),onBlur:q(r)})}),_.dailyWaterConsumption&&e.jsx("p",{className:n.errorMessage,children:_.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:u,type:"submit",className:`${n.submitBtn} ${n.boldTextBtn}`,children:["Зберегти",u&&e.jsx("div",{className:n.loaderWrapper,children:e.jsx(J,{height:56,width:56})})]})]})]})},vt="_modalSettingContainer_1md4x_1",Tt="_modalHeader_1md4x_14",Bt="_closeBtn_1md4x_29",wt="_icon_1md4x_44",Z={modalSettingContainer:vt,modalHeader:Tt,closeBtn:Bt,icon:wt},Ct=({onClose:s})=>e.jsxs("div",{className:Z.modalSettingContainer,children:[e.jsxs("div",{className:Z.modalHeader,children:[e.jsx("h2",{children:"Налаштування"}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:Z.closeBtn,onClick:s,children:e.jsx("svg",{className:Z.icon,children:e.jsx("use",{xlinkHref:m+"#icon-x"})})})]}),e.jsx(Nt,{handleClose:s})]}),yt="_userBarPopup_1ap7q_1",At="_userBarPopupList_1ap7q_16",Wt="_userBarPopupListItem_1ap7q_23",kt="_userBarPopupIcon_1ap7q_40",$={userBarPopup:yt,userBarPopupList:At,userBarPopupListItem:Wt,userBarPopupIcon:kt},St=()=>{const s=ee(),a=i.useCallback(()=>{s()},[s]),t=i.useCallback(()=>{s(e.jsx(Ct,{onClose:a}))},[s,a]),o=i.useCallback(()=>{s(e.jsx(Gs,{onClose:a}))},[s,a]);return e.jsx("div",{className:$.userBarPopup,children:e.jsxs("ul",{className:$.userBarPopupList,children:[e.jsxs("li",{className:$.userBarPopupListItem,onClick:t,children:[e.jsx("svg",{className:$.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${m}#icon-settings`})}),"Профіль"]}),e.jsxs("li",{className:$.userBarPopupListItem,onClick:o,children:[e.jsx("svg",{className:$.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${m}#icon-log-out`})}),"Вийти"]})]})})},Dt="_userBarWrapper_1k17p_1",Mt="_userBar_1k17p_1",Pt="_userBarText_1k17p_24",Lt="_userBarAvatar_1k17p_32",It="_userBarIcon_1k17p_44",$t="_rotate_1k17p_56",F={userBarWrapper:Dt,userBar:Mt,userBarText:Pt,userBarAvatar:Lt,userBarIcon:It,rotate:$t},Ft=({name:s})=>{const[a,t]=i.useState(!1),o=f(pe),l=i.useRef(null),c=d=>{l.current&&!l.current.contains(d.target)&&d.target.name!=="openPopover"&&t(!1)};i.useEffect(()=>(a?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[a]);const u=()=>{t(d=>!d)};return e.jsxs("div",{className:F.userBarWrapper,children:[e.jsxs("button",{className:F.userBar,type:"button",name:"openPopover",onClick:u,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:F.userBarText,children:s}),e.jsx("div",{className:F.userBarAvatar,style:{backgroundImage:`url(${o||Te})`}}),e.jsx("svg",{className:`${F.userBarIcon} ${a?F.rotate:""}`,children:e.jsx("use",{xlinkHref:`${m}#icon-chevron-down`})})]}),a&&e.jsx("div",{ref:l,children:e.jsx(St,{})})]})},Rt="_userPanel_iff7o_1",Ht="_userPanelTitle_iff7o_7",Vt="_userPanelTitleName_iff7o_18",le={userPanel:Rt,userPanelTitle:Ht,userPanelTitleName:Vt},Et=()=>{const s=f(Le),a=f(Ie),t=a?a.split("@")[0]:null,o=s==="User"?t:s;return e.jsxs("div",{className:le.userPanel,children:[e.jsxs("h1",{className:le.userPanelTitle,children:["Привіт,",e.jsx("span",{className:le.userPanelTitleName,children:o})]}),e.jsx(Ft,{name:s})]})},qt="_btnStyle_445u2_1",Ot="_iconStyle_445u2_15",Ut="_btnStyleText_445u2_31",ie={btnStyle:qt,iconStyle:Ot,btnStyleText:Ut},zt=()=>{const s=ee(),a=i.useCallback(()=>{s()},[s]),{date:t}=Y(),o=X(t).getTime(),l=i.useCallback(()=>{s(e.jsx(me,{onClose:a,operationType:"add",timestampFromUrl:o}))},[s,a,o]);return e.jsxs("button",{className:ie.btnStyle,type:"button",onClick:l,children:[e.jsx("svg",{className:ie.iconStyle,children:e.jsx("use",{xlinkHref:m+"#icon-plus"})}),e.jsx("span",{className:ie.btnStyleText,children:"Додати воду"})]})},Gt=s=>{const a=new Date(Number(s));let t=a.getHours();const o=a.getMinutes(),l=t>=12?"PM":"AM";t>=12&&(t=t%12,t=t||12);const c=t.toString().padStart(2,"0"),u=o.toString().padStart(2,"0");return`${c}:${u} ${l}`},Jt=s=>s>=1e3?{value:s/1e3,text:"л"}:{value:s,text:"мл"},Yt="_btnDelete_19mt5_1",Xt={btnDelete:Yt},Qt=({isLoading:s,handleDelete:a})=>e.jsx("button",{type:"button",className:Xt.btnDelete,onClick:()=>a(),disabled:s,children:"Видалити"}),Zt="_modal_z4bq9_1",Kt="_closeBtn_z4bq9_16",ea="_svg_z4bq9_35",sa="_modalTextBox_z4bq9_40",ta="_modalTitle_z4bq9_50",aa="_modalText_z4bq9_40",na="_modalBtnBox_z4bq9_70",oa="_btnCancel_z4bq9_80",k={modal:Zt,closeBtn:Kt,svg:ea,modalTextBox:sa,modalTitle:ta,modalText:aa,modalBtnBox:na,btnCancel:oa},ra=({id:s,onClose:a})=>{const t=V(),[o,l]=i.useState(!1),c=()=>{const d=setTimeout(()=>{a(),clearTimeout(d)},he.DURATION)},u=()=>{l(()=>!0),t($e(s)).then(({error:d})=>{d?console.error("Помилка видалення запису:",d):c(),l(!1)})};return e.jsxs("div",{className:k.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:c,className:k.closeBtn,children:e.jsx("svg",{className:k.svg,children:e.jsx("use",{xlinkHref:m+"#icon-x"})})}),e.jsxs("div",{className:k.modalTextBox,children:[e.jsx("h2",{className:k.modalTitle,children:"Видалити запис"}),e.jsx("p",{className:k.modalText,children:"Ви дійсно хочете видалити запис ?"})]}),e.jsx("div",{className:k.modalBtnBox,children:o?e.jsx(J,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:c,className:k.btnCancel,children:"Відміна"}),e.jsx(Qt,{handleDelete:u,id:s})]})})]})},ca="_waterItemContent_1msly_1",la="_waterInfo_1msly_12",ia="_waterAmount_1msly_15",da="_waterDate_1msly_22",ma="_iconWaterGlass_1msly_28",ua="_editButton_1msly_40",xa="_deleteButton_1msly_41",_a="_containerButtons_1msly_53",ha="_iconAction_1msly_59",w={waterItemContent:ca,waterInfo:la,waterAmount:ia,waterDate:da,iconWaterGlass:ma,editButton:ua,deleteButton:xa,containerButtons:_a,iconAction:ha},pa=({water:s})=>{const a=ee(),t=i.useCallback(()=>{a()},[a]),o=i.useCallback(()=>{a(e.jsx(ra,{id:s.id,onClose:t}))},[a,t,s]),l=i.useCallback(()=>{a(e.jsx(me,{water:s,onClose:t,operationType:"edit"}))},[a,t,s]),c=Jt(s.amount);return e.jsxs("div",{className:w.waterItemContent,children:[e.jsx("svg",{className:w.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:m+"#icon-glass"})}),e.jsxs("div",{className:w.waterInfo,children:[e.jsx("p",{className:w.waterAmount,children:`${c.value} ${c.text}`}),e.jsx("p",{className:w.waterDate,children:Gt(s.date)})]}),e.jsxs("div",{className:w.containerButtons,children:[e.jsx("button",{className:w.editButton,onClick:l,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:w.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:m+"#icon-edit"})})}),e.jsx("button",{className:w.deleteButton,onClick:o,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:w.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:m+"#icon-trash"})})})]})]})},ga="_waterList_nhslc_1",ja="_messageContainer_nhslc_12",ba="_noWater_nhslc_21",fa="_skeleton_nhslc_68",Na="_shimmer_nhslc_1",z={waterList:ga,messageContainer:ja,noWater:ba,skeleton:fa,shimmer:Na},va=()=>{const s=f(Ne);return f(ze)?e.jsx("div",{className:z.waterList,children:[1,2,3].map(t=>e.jsx("div",{className:z.skeleton},t))}):s.length?e.jsx("ul",{className:z.waterList,children:s.map(t=>e.jsx("li",{children:e.jsx(pa,{water:t})},t.id))}):e.jsx("div",{className:z.messageContainer,children:e.jsx("h2",{className:z.noWater,children:"Вода ще не додана"})})},Ta="_info_iy33z_1",Ba="_dailyFont_iy33z_7",wa="_header_iy33z_20",Ca="_title_iy33z_28",ya="_button_iy33z_43",Aa="_icon_iy33z_67",Wa="_iconBackground_iy33z_90",de={info:Ta,dailyFont:Ba,header:wa,title:Ca,button:ya,icon:Aa,iconBackground:Wa},ka=()=>e.jsxs("div",{className:de.info,children:[e.jsxs("div",{className:de.header,children:[e.jsx(ve,{className:de.dailyFont}),e.jsx(zt,{})]}),e.jsx(va,{})]}),Sa=({title:s,styles:a})=>e.jsx("span",{className:a,children:s}),Da=["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень"," Жовтень"," Листопад","Грудень"],Ma="_btn_11ww4_1",Pa="_btnDisabled_11ww4_13",La="_svgSchedule_11ww4_17",Ia="_svgPie_11ww4_18",$a="_calendarTitle_11ww4_28",Fa="_month_11ww4_39",Ra="_monthInd_11ww4_46",Ha="_monthYear_11ww4_69",Va="_statisticBtn_11ww4_76",Ea="_svgArrowLeft_11ww4_86",qa="_svgArrowRight_11ww4_87",Oa="_isHidden_11ww4_98",j={btn:Ma,btnDisabled:Pa,svgSchedule:La,svgPie:Ia,calendarTitle:$a,month:Fa,monthInd:Ra,monthYear:Ha,statisticBtn:Va,svgArrowLeft:Ea,svgArrowRight:qa,isHidden:Oa},Ua=()=>{const s=V(),{date:a}=Y(),t=X(a),[o,l]=i.useState(new Date(t).getFullYear()),[c,u]=i.useState(new Date(t).getMonth()),d=f(Ge),p=Fe().pathname.split("/").pop(),N=()=>{if(c===11){s(G(new Date(o+1,0,4).getTime())),u(0),l(o+1);return}s(G(new Date(o,c+1,4).getTime())),u(c+1)},g=()=>{if(c===0){s(G(new Date(o-1,11,4).getTime())),u(11),l(o-1);return}s(G(new Date(o,c-1,4).getTime())),u(c-1)},D=Da[c],_=p==="schedule"?"Статистика":"Місяць",M=new Date(Date.now()).getFullYear(),y=new Date(Date.now()).getMonth(),P=new Date(M,y)<=new Date(o,c);return e.jsxs("div",{className:j.calendarTitle,children:[e.jsx(Sa,{title:_,styles:j.month}),e.jsxs("div",{className:j.monthInd,children:[e.jsx("button",{onClick:g,className:j.btn,disabled:d,children:e.jsx("svg",{className:j.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${m}#icon-arrow`})})}),e.jsx("span",{className:j.monthYear,children:`${D}, ${o}`}),e.jsx("button",{onClick:N,className:`${j.btn} ${P?j.btnDisabled:""} `,disabled:d||P,children:e.jsx("svg",{className:j.svgArrowRight,children:e.jsx("use",{xlinkHref:`${m}#icon-arrow`})})}),e.jsx(ue,{to:"calendar",className:({isActive:A})=>H(j.statisticBtn,{[j.isHidden]:A}),children:e.jsx("svg",{className:j.svgSchedule,children:e.jsx("use",{xlinkHref:`${m}#icon-pie-chart`})})}),e.jsx(ue,{to:"schedule",className:({isActive:A})=>H(j.statisticBtn,{[j.isHidden]:A}),children:e.jsx("svg",{className:j.svgPie,children:e.jsx("use",{xlinkHref:`${m}#icon-pie-chart`})})})]})]})},za=()=>e.jsxs("div",{children:[e.jsx(Ua,{}),e.jsx(i.Suspense,{fallback:e.jsx(Ue,{}),children:e.jsx(Re,{})})]}),Ga="_waterDetailedInfo_199e5_1",Ja={waterDetailedInfo:Ga},Ya=()=>e.jsxs("section",{className:Ja.waterDetailedInfo,children:[e.jsx(Et,{}),e.jsx(ka,{}),e.jsx(za,{})]}),Xa="_waterPage_16oaj_1",Qa="_registerPageRight_16oaj_8",Za={waterPage:Xa,registerPageRight:Qa},nn=()=>{const{date:s}=Y(),a=X(s).getTime(),t=V(),[o,l]=i.useState(!0);return i.useEffect(()=>{if(o){const c=Date.now();t(He()),t(Ve(a)),t(G(a)),t(Ee(c)),l(!1)}},[o,a,t]),e.jsxs("div",{className:Za.waterPage,children:[e.jsx(Ls,{}),e.jsx(Ya,{})]})};export{nn as default};
