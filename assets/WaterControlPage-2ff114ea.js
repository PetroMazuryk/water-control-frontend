import{j as e,u as _,r as d,c as E,h as F,y as Ae,z as We,B as Z,x as Se,A as xe,C as De,a as D,D as je,E as Me,F as ke,G as be,H as Pe,J as $e,g as Le,K as Ie,M as Re,O as Fe,P as Ee,Q as He,R as Ve,S as Ue,T as Oe,U as qe,V as Ge,N as pe,W as Q,X as ze,Y as Je,Z as Ye,_ as Xe}from"./index-d28fb4fb.js";import{p as K}from"./parseDate-629c4fe8.js";import{s as x,L as Qe,a as Ze}from"./Logo-8d954ce9.js";import{u as ee}from"./useModal-0f2eadca.js";import{c as Ne,a as fe,d as ae,u as ve,o as Te,C as q}from"./index.esm-7fa9468e.js";import{$ as Ke,L as es}from"./Loader-14a07834.js";const G=({width:t,height:s})=>e.jsx(Ke,{visible:!0,height:s,width:t,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),ss="_WaterForm_4uo4m_1",ts="_FormHeader_4uo4m_13",as="_AmountOfWater_4uo4m_25",ns="_TapAddWaterWrapper_4uo4m_36",os="_TapAddWater_4uo4m_36",rs="_TapAddWaterValue_4uo4m_88",cs="_RecordingTimeLabel_4uo4m_104",ls="_RecordingTime_4uo4m_104",is="_WaterValueLabel_4uo4m_136",ds="_WaterValue_4uo4m_136",ms="_SaveBtn_4uo4m_177",B={WaterForm:ss,FormHeader:ts,AmountOfWater:as,TapAddWaterWrapper:ns,TapAddWater:os,TapAddWaterValue:rs,RecordingTimeLabel:cs,RecordingTime:ls,WaterValueLabel:is,WaterValue:ds,SaveBtn:ms,Error:"_Error_4uo4m_213"},us=({operationType:t="add",editTime:s,waterPortion:a,waterID:n,handleClose:o})=>{const{t:c}=_(),[i,u]=d.useState(a),p=E(),[W,g]=d.useState(!1),v=new Date(s),j=v.getFullYear(),m=String(v.getMonth()+1).padStart(2,"0"),h=String(v.getDate()).padStart(2,"0"),T=t==="add"?new Date:v,w=String(T.getHours()).padStart(2,"0"),S=String(T.getMinutes()).padStart(2,"0"),[$,ne]=d.useState(w),[H,z]=d.useState(S),J=Ne().shape({recordingTime:fe().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:ae().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:l,handleSubmit:C,setValue:b,formState:{errors:R}}=ve({resolver:Te(J),defaultValues:{recordingTime:`${$}:${H}`,waterValue:i.toString()}}),oe=A=>{const se=new Date(`${j}-${m}-${h}T${$}:${H}:00`).getTime().toString(),ce={amount:A.waterValue,date:se},ye={amount:A.waterValue,date:se};switch(g(!0),t){case"add":p(We(ce)).then(({error:le})=>{le?g(!1):(g(!1),o())});break;case"edit":p(Ae({id:n,formData:ye})).then(({error:le})=>{le?g(!1):(g(!1),o())});break;default:g(!1);break}},re=A=>e.jsx("p",{className:B.FormHeader,children:c(A==="edit"?"correctData":"chooseValue")}),y=A=>{u(A),b("waterValue",A.toString())},P=i===50,Ce=i===5e3;return e.jsxs("form",{className:B.WaterForm,onSubmit:C(oe),children:[re(t),e.jsx("p",{className:B.AmountOfWater,children:c("waterAmount")}),e.jsxs("div",{className:B.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:B.TapAddWater,onClick:()=>y(Math.max(i-50,0)),disabled:P,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:x+"#icon-minus"})})}),e.jsxs("p",{className:B.TapAddWaterValue,children:[i," ","ml"]}),e.jsx("button",{type:"button",className:B.TapAddWater,onClick:()=>y(i+50),disabled:Ce,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:x+"#icon-plus"})})})]}),e.jsxs("label",{className:B.RecordingTimeLabel,children:[c("recordTime"),e.jsx(q,{name:"recordingTime",control:l,render:({field:A})=>e.jsx("input",{...A,type:"text",className:F(B.RecordingTime),placeholder:"HH:MM",onChange:Y=>{const[se,ce]=Y.target.value.split(":");ne(se),z(ce),A.onChange(Y)}})}),R.recordingTime&&e.jsx("p",{className:B.Error,children:R.recordingTime.message})]}),e.jsxs("label",{className:B.WaterValueLabel,children:[c("enterWaterValue"),e.jsx(q,{name:"waterValue",control:l,render:({field:A})=>e.jsx("input",{...A,type:"number",value:i||"",onChange:Y=>y(Number(Y.target.value)),className:B.WaterValue})}),R.waterValue&&e.jsx("p",{className:B.Error,children:R.waterValue.message})]}),e.jsx("button",{type:"submit",className:B.SaveBtn,disabled:W,children:W?e.jsx(G,{height:44,width:44}):c("save")})]})},hs={DURATION:15},xs="_WaterModal_132vk_1",_s="_WaterModalCloseBtn_132vk_22",ge={WaterModal:xs,WaterModalCloseBtn:_s},_e=({operationType:t,onClose:s,water:a={},timestampFromUrl:n=""})=>{const{t:o}=_(),c=()=>{const j=setTimeout(()=>{s(),clearTimeout(j)},hs.DURATION)},i=j=>({add:o("addWaterTitle"),edit:o("editWaterAmount")})[j]||o("addWaterTitle"),u=Number(n),p=Number(a.date),W=j=>{switch(j){case"add":return u;case"edit":return p}},g=j=>{switch(j){case"add":return 50;case"edit":return a.amount;default:return 50}},v=j=>{switch(j){case"add":return null;case"edit":return a.id;default:return null}};return e.jsxs("div",{className:ge.WaterModal,children:[e.jsx("h1",{children:i(t)}),e.jsx(us,{operationType:t,editTime:W(t),waterPortion:g(t),waterID:v(t),handleClose:c}),e.jsx("button",{type:"button",onClick:c,"aria-label":"closeWaterModal",className:ge.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${x}#icon-x`})})})]})},ps="_btnAdd_1h2z2_1",gs="_btnText_1h2z2_14",js="_plus_1h2z2_15",ie={btnAdd:ps,btnText:gs,plus:js},bs=()=>{const{t}=_(),s=ee(),{date:a}=Z(),n=K(a),o=d.useCallback(()=>{s()},[s]),c=d.useCallback(()=>{s(e.jsx(_e,{onClose:o,operationType:"add",timestampFromUrl:n}))},[s,o,n]);return e.jsxs("button",{type:"button",className:`${ie.btnAdd} third-step`,onClick:c,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:`${x}#icon-plus`})}),e.jsx("h2",{className:ie.btnText,children:t("addWater")})]})},Ns="_modal_6hn4h_1",fs="_closeBtn_6hn4h_18",vs="_svg_6hn4h_38",Ts="_modalTextBox_6hn4h_45",Bs="_modalTitle_6hn4h_55",ws="_userCountList_6hn4h_67",Cs="_userCountItem_6hn4h_71",ys="_like_6hn4h_87",As="_likeActive_6hn4h_101",Ws="_loaderWrapper_6hn4h_111",M={modal:Ns,closeBtn:fs,svg:vs,modalTextBox:Ts,modalTitle:Bs,userCountList:ws,userCountItem:Cs,like:ys,likeActive:As,loaderWrapper:Ws},Ss=({onClose:t,currentAccess:s})=>{const{t:a}=_(),n=E(),[o,c]=d.useState({}),[i,u]=d.useState([]),[p,W]=d.useState(s),g="admin2006@gmail.com";d.useEffect(()=>{async function m(){try{const h=await Se();u(h.data.users),W(!p)}catch(h){console.log(h.message)}}m()},[]);const v=()=>{const m=setTimeout(()=>{t(),clearTimeout(m)},xe.DURATION)},j=async(m,h)=>{try{c(w=>({...w,[m]:!0}));const T=await n(De({id:m,access:!h}));T.error?console.error("Помилка оновлення доступу:",T.error):u(w=>w.map(S=>S.id===m?{...S,access:!h}:S))}catch(T){console.error("Щось пішло не так:",T)}finally{c(T=>({...T,[m]:!1}))}};return e.jsxs("div",{className:M.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:v,className:M.closeBtn,children:e.jsx("svg",{className:M.svg,children:e.jsx("use",{xlinkHref:x+"#icon-x"})})}),e.jsxs("div",{className:M.modalTextBox,children:[e.jsx("h2",{className:M.modalTitle,children:a("userList")}),i.length>0?e.jsx("ul",{className:M.userCountList,children:i.filter(m=>m.email!==g).map(m=>e.jsxs("li",{className:M.userCountItem,children:[e.jsx("p",{children:m.email}),e.jsx("div",{className:M.loaderWrapper,children:o[m.id]?e.jsx(G,{height:30,width:30}):e.jsx("button",{children:e.jsx("svg",{onClick:()=>j(m.id,m.access),className:`${M.like} ${m.access?M.likeActive:""}`,children:e.jsx("use",{href:`${x}#icon-heart`})})})})]},m.id))}):e.jsx("p",{children:a("noUsersFound")})]})]})},Ds="_btnAdd_10imk_1",Ms="_btnText_10imk_15",ks="_plus_10imk_16",de={btnAdd:Ds,btnText:Ms,plus:ks},Ps=()=>{const{t}=_(),s=ee(),a=d.useCallback(()=>{s(e.jsx(Ss,{onClose:()=>s(null)}))},[s]);return e.jsxs("button",{type:"button",className:de.btnAdd,onClick:a,children:[e.jsx("svg",{className:de.plus,children:e.jsx("use",{xlinkHref:`${x}#icon-admin`})}),e.jsx("h2",{className:de.btnText,children:t("adminBtn")})]})},$s=["januaryDay","februaryDay","marchDay","aprilDay","mayDay","juneDay","julyDay","augustDay","septemberDay","octoberDay","novemberDay","decemberDay"],Ls=(t,s)=>{const a=new Date;return{isToday:a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate(),day:t.getDate(),month:s($s[t.getMonth()])}},Is="_selectedDate_14sit_1",Rs={selectedDate:Is},Be=({className:t})=>{const{t:s}=_(),{date:a}=Z(),{isToday:n,day:o,month:c}=Ls(K(a),s),i=n?s("today"):`${o} ${c}`;return e.jsx("p",{className:F(Rs.selectedDate,t),children:i})},Fs="_progressBarContainer_v5cic_1",Es="_progressBarTitle_v5cic_14",Hs="_progressBar_v5cic_1",Vs="_progressBarFill_v5cic_29",Us="_belowAim_v5cic_38",Os="_aboveAim_v5cic_44",qs="_belowAimRate_v5cic_50",Gs="_aboveAimRate_v5cic_54",zs="_ball_v5cic_58",Js="_percentNumber_v5cic_69",Ys="_percentContainer_v5cic_79",Xs="_percent_v5cic_69",N={progressBarContainer:Fs,progressBarTitle:Es,progressBar:Hs,progressBarFill:Vs,belowAim:Us,aboveAim:Os,belowAimRate:qs,aboveAimRate:Gs,ball:zs,percentNumber:Js,percentContainer:Ys,percent:Xs},Qs=()=>{const{t}=_(),s=D(je),n=(i=>!i||i.length===0?0:i.reduce((u,p)=>{const W=p.percentage||0;return u+W},0))(s),o=n<100,c=Math.min(Math.max(n,0),100);return e.jsxs("div",{className:`${N.progressBarContainer} second-step`,children:[e.jsx("h3",{className:N.progressBarTitle,children:e.jsx(Be,{})}),e.jsx("div",{className:N.progressBar,children:e.jsxs("div",{className:F(N.progressBarFill,{[N.belowAim]:o,[N.aboveAim]:!o}),style:{width:`${c}%`},children:[e.jsx("p",{className:F(N.percentNumber,{[N.belowAimRate]:o,[N.aboveAimRate]:!o}),children:n>=100?t("waterNorm"):`${n.toFixed(0)}%`}),e.jsx("div",{className:F(N.ball,{[N.belowAim]:n<100,[N.aboveAim]:n>=100})})]})}),e.jsxs("div",{className:N.percentContainer,children:[e.jsx("p",{className:N.percent,children:"0%"}),e.jsx("p",{className:N.percent,children:"50%"}),e.jsx("p",{className:N.percent,children:"100%"})]})]})},Zs="_waterContainer_8auu7_1",Ks="_iconInfo_8auu7_17",et="_normaContainer_8auu7_33",st="_normaL_8auu7_45",tt="_normaText_8auu7_52",at="_waterTitle_8auu7_76",V={waterContainer:Zs,iconInfo:Ks,normaContainer:et,normaL:st,normaText:tt,waterTitle:at},nt=()=>{const{t}=_(),{setIsOpen:s}=Me(),a=D(ke),n=D(be),o="admin2006@gmail.com",c=a<1?`${a*1e3} ${t("ml")}`:`${a} ${t("l")}`;return e.jsxs("div",{className:V.waterContainer,children:[e.jsx(Qe,{className:V.waterTitle}),a===0?"":e.jsx("button",{onClick:()=>s(!0),children:e.jsx("svg",{className:V.iconInfo,children:e.jsx("use",{xlinkHref:`${x}#icon-info`})})}),a===0?"":e.jsxs("div",{className:`${V.normaContainer} first-step`,children:[e.jsx("h2",{className:V.normaL,children:c}),e.jsx("p",{className:V.normaText,children:t("dailyNorm")})]}),a===0?"":e.jsx(Qs,{}),a===0?"":e.jsx(bs,{}),n===o&&e.jsx(Ps,{})]})},ot="_btnLogout_1xwlm_1",rt={btnLogout:ot},ct=({handleClose:t})=>{const{t:s}=_(),a=E(),n=Pe(),o=()=>{a($e()).then(({error:c})=>{c||(n("/"),t())})};return e.jsx("button",{type:"button",onClick:o,className:rt.btnLogout,children:s("logout")})},lt="_modal_1l9i4_1",it="_closeBtn_1l9i4_16",dt="_svg_1l9i4_35",mt="_modalTextBox_1l9i4_40",ut="_modalTitle_1l9i4_50",ht="_modalText_1l9i4_40",xt="_modalBtnBox_1l9i4_70",_t="_btnCancel_1l9i4_80",L={modal:lt,closeBtn:it,svg:dt,modalTextBox:mt,modalTitle:ut,modalText:ht,modalBtnBox:xt,btnCancel:_t},pt=({onClose:t})=>{const{t:s}=_(),a=D(Le),n=()=>{const o=setTimeout(()=>{t(),clearTimeout(o)},xe.DURATION)};return e.jsxs("div",{className:L.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:n,className:L.closeBtn,children:e.jsx("svg",{className:L.svg,children:e.jsx("use",{xlinkHref:`${x}#icon-x`})})}),e.jsxs("div",{className:L.modalTextBox,children:[e.jsx("h2",{className:L.modalTitle,children:s("logout")}),e.jsx("p",{className:L.modalText,children:s("confirmLogout")})]}),e.jsx("div",{className:L.modalBtnBox,children:a?e.jsx(G,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:n,className:L.btnCancel,children:s("cancelOut")}),e.jsx(ct,{handleClose:n})]})})]})},we="data:image/png;base64,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",gt="_userAvatar_l67nj_1",jt="_loader_l67nj_20",bt="_uploadContainer_l67nj_28",Nt="_icon_l67nj_36",ft="_ordinaryText_l67nj_49",vt="_hideBtn_l67nj_72",Tt="_userSettingForm_l67nj_76",Bt="_boldText_l67nj_95",wt="_genderContainer_l67nj_101",Ct="_radioContainer_l67nj_106",yt="_radioInput_l67nj_116",At="_userPreferences_l67nj_141",Wt="_formNameEmail_l67nj_147",St="_formWeightTime_l67nj_152",Dt="_formula_l67nj_165",Mt="_inputBox_l67nj_169",kt="_formulaDescription_l67nj_193",Pt="_formulaExpression_l67nj_207",$t="_temporarySymbol_l67nj_221",Lt="_formulaDescriptionText_l67nj_231",It="_submitBtn_l67nj_235",Rt="_loaderWrapper_l67nj_259",Ft="_boldTextBtn_l67nj_266",Et="_consumeWater_l67nj_273",Ht="_userNorma_l67nj_280",Vt="_langButton_l67nj_288",Ut="_errorMessage_l67nj_298",r={userAvatar:gt,loader:jt,uploadContainer:bt,icon:Nt,ordinaryText:ft,hideBtn:vt,userSettingForm:Tt,boldText:Bt,genderContainer:wt,radioContainer:Ct,radioInput:yt,userPreferences:At,formNameEmail:Wt,formWeightTime:St,formula:Dt,inputBox:Mt,formulaDescription:kt,formulaExpression:Pt,temporarySymbol:$t,formulaDescriptionText:Lt,submitBtn:It,loaderWrapper:Rt,boldTextBtn:Ft,consumeWater:Et,userNorma:Ht,langButton:Vt,errorMessage:Ut},Ot=({handleClose:t})=>{const{t:s}=_(),a=E(),{user:n,avatar:o,isLoading:c,isLoadingPhoto:i}=D(Ie),[u,p]=d.useState(0),W=Ne({name:fe().required(s("nameRequired")).min(2,s("nameMinCharacters")).max(40,s("nameMaxCharacters")),weight:ae().min(0).max(250,s("weightValueLess")).typeError(s("hasToBeNumber")),dailyActiveTime:ae().min(0).max(12,s("activeSportTime")).typeError(s("hasToBeNumber")),dailyWaterConsumption:ae().min(0).max(8,s("dailyWaterConsumption")).typeError(s("hasToBeNumber"))}),{control:g,register:v,handleSubmit:j,watch:m,formState:{errors:h}}=ve({resolver:Te(W),defaultValues:{email:n.email,gender:n.gender,name:n.name,weight:n.weight,dailyActiveTime:n.dailyActiveTime,dailyWaterConsumption:n.dailyWaterConsumption},mode:"onChange"}),T=m("weight"),w=m("gender"),S=m("dailyActiveTime");d.useEffect(()=>{let l;const C=parseInt(T||0),b=parseInt(S||0);w==="woman"?l=C*.03+b*.4:l=C*.04+b*.6,p(Math.min(parseFloat(l),8).toFixed(2))},[S,w,T]);const $=l=>{const{photo:C,...b}=n;/\s$/.test(l.name)&&(l.name=l.name.trim());const oe=Object.keys(b).sort().reduce((y,P)=>(y[P]=b[P],y),{}),re=Object.keys(l).sort().reduce((y,P)=>(y[P]=l[P],y),{});if(JSON.stringify(oe)!==JSON.stringify(re)){const y={...l};delete y.email,a(Re(y)).then(({error:P})=>{P||t()})}else t()},ne=l=>{const C=new FormData,b=l.target.files[0];b&&(C.append("avatar",b),a(Fe(C)))},H=l=>C=>{let b=C.target.value;(b===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(b))&&l.onChange(b)},z=l=>()=>{l.value===0&&l.onChange("")},J=l=>()=>{l.value===""?l.onChange(0):l.value.startsWith(".")&&l.onChange("0"+l.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:r.userAvatar,children:[i?e.jsx("div",{className:r.loader,children:e.jsx(G,{})}):e.jsx("img",{src:o??we,alt:s("userPhoto")}),e.jsxs("label",{children:[e.jsxs("div",{className:r.uploadContainer,children:[e.jsx("svg",{className:r.icon,children:e.jsx("use",{xlinkHref:`${x}#icon-upload`})}),e.jsx("span",{className:r.ordinaryText,children:s("uploadPhoto")})]}),e.jsx("input",{className:r.hideBtn,type:"file",accept:"image/*",onChange:ne}),h.avatar&&e.jsx("p",{children:h.avatar.message})]})]}),e.jsxs("form",{onSubmit:j($),className:r.userSettingForm,children:[e.jsx("div",{className:r.genderContainer,children:e.jsxs("label",{className:r.genderIdentity,children:[e.jsx("span",{className:r.boldText,children:s("genderIdentity")}),e.jsxs("div",{className:r.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:r.radioInput,...v("gender"),value:"woman",checked:w==="woman"}),e.jsx("label",{htmlFor:"woman",className:r.ordinaryText,children:s("woman")}),e.jsx("input",{type:"radio",id:"man",className:r.radioInput,...v("gender"),value:"man",checked:w==="man"}),e.jsx("label",{htmlFor:"man",className:r.ordinaryText,children:s("man")})]}),h.gender&&e.jsx("p",{className:r.errorMessage,children:h.gender.message})]})}),e.jsxs("div",{className:r.userPreferences,children:[e.jsxs("div",{className:r.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:r.boldText,children:s("yourName")}),e.jsx(q,{render:({field:l})=>e.jsx("input",{...l,className:r.inputBox,placeholder:"Користувач",onChange:C=>{let b=C.target.value;/^\s|\s{2}$/.test(b)||l.onChange(b)}}),name:"name",control:g}),h.name&&e.jsx("p",{className:r.errorMessage,children:h.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:r.boldText,children:s("email")}),e.jsx("input",{disabled:!0,...v("email"),className:r.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:r.formula,children:[e.jsx("p",{className:r.boldText,children:s("dailyNorm")}),e.jsxs("div",{className:r.formulaDescription,children:[e.jsxs("p",{className:r.ordinaryText,children:[e.jsxs("span",{children:[s("forWomen")," "]}),e.jsx("span",{className:r.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:r.ordinaryText,children:[e.jsxs("span",{children:[s("forMen")," "]}),e.jsx("span",{className:r.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:r.ordinaryText,children:[e.jsx("span",{className:r.formulaExpression,children:"* "}),e.jsx("span",{className:r.formulaDescriptionText,children:s("formulaExplanation")})]}),e.jsxs("p",{className:r.ordinaryText,children:[e.jsx("span",{className:r.temporarySymbol,children:"! "}),s("activeTime")]})]})]}),e.jsxs("div",{className:r.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:r.ordinaryText,children:s("yourWeight")}),e.jsx(q,{name:"weight",control:g,render:({field:l})=>e.jsx("input",{...l,className:r.inputBox,onChange:H(l),onFocus:z(l),onBlur:J(l)})}),h.weight&&e.jsx("p",{className:r.errorMessage,children:h.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:r.ordinaryText,children:s("activeSportsTime")}),e.jsx(q,{name:"dailyActiveTime",control:g,render:({field:l})=>e.jsx("input",{...l,className:r.inputBox,onChange:H(l),onFocus:z(l),onBlur:J(l)})}),h.dailyActiveTime&&e.jsx("p",{className:r.errorMessage,children:h.dailyActiveTime.message})]}),e.jsxs("div",{className:r.consumeWater,children:[e.jsxs("p",{className:r.ordinaryText,children:[s("requiredWaterAmount")," ",e.jsxs("span",{className:r.userNorma,children:[isNaN(u)?0:u," ",s("l")]})]}),e.jsxs("label",{children:[e.jsx("span",{className:r.boldText,children:s("recordWaterIntake")}),e.jsx(q,{name:"dailyWaterConsumption",control:g,render:({field:l})=>e.jsx("input",{...l,className:r.inputBox,onChange:H(l),onFocus:z(l),onBlur:J(l)})}),h.dailyWaterConsumption&&e.jsx("p",{className:r.errorMessage,children:h.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:c,type:"submit",className:`${r.submitBtn} ${r.boldTextBtn}`,children:[s("save"),c&&e.jsx("div",{className:r.loaderWrapper,children:e.jsx(G,{height:56,width:56})})]})]})]})},qt="_modalSettingContainer_16p9i_1",Gt="_modalHeader_16p9i_15",zt="_closeBtn_16p9i_30",Jt="_icon_16p9i_41",te={modalSettingContainer:qt,modalHeader:Gt,closeBtn:zt,icon:Jt},Yt=({onClose:t})=>{const{t:s}=_();return e.jsxs("div",{className:te.modalSettingContainer,children:[e.jsxs("div",{className:te.modalHeader,children:[e.jsx("h2",{children:s("settings")}),e.jsx(Ze,{}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:te.closeBtn,onClick:t,children:e.jsx("svg",{className:te.icon,children:e.jsx("use",{xlinkHref:`${x}#icon-x`})})})]}),e.jsx(Ot,{handleClose:t})]})},Xt="_userBarPopup_1ap7q_1",Qt="_userBarPopupList_1ap7q_16",Zt="_userBarPopupListItem_1ap7q_23",Kt="_userBarPopupIcon_1ap7q_40",U={userBarPopup:Xt,userBarPopupList:Qt,userBarPopupListItem:Zt,userBarPopupIcon:Kt},ea=()=>{const{t}=_(),s=ee(),a=d.useCallback(()=>{s()},[s]),n=d.useCallback(()=>{s(e.jsx(Yt,{onClose:a}))},[s,a]),o=d.useCallback(()=>{s(e.jsx(pt,{onClose:a}))},[s,a]);return e.jsx("div",{className:U.userBarPopup,children:e.jsxs("ul",{className:U.userBarPopupList,children:[e.jsxs("li",{className:U.userBarPopupListItem,onClick:n,children:[e.jsx("svg",{className:U.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${x}#icon-settings`})}),t("settingLink")]}),e.jsxs("li",{className:U.userBarPopupListItem,onClick:o,children:[e.jsx("svg",{className:U.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${x}#icon-log-out`})}),t("logout")]})]})})},sa="_userBarWrapper_3ns6c_1",ta="_userBar_3ns6c_1",aa="_userBarText_3ns6c_24",na="_userBarAvatar_3ns6c_32",oa="_userBarIcon_3ns6c_44",ra="_rotate_3ns6c_56",O={userBarWrapper:sa,userBar:ta,userBarText:aa,userBarAvatar:na,userBarIcon:oa,rotate:ra},ca=({name:t})=>{const[s,a]=d.useState(!1),n=D(Ee),o=d.useRef(null),c=u=>{o.current&&!o.current.contains(u.target)&&u.target.name!=="openPopover"&&a(!1)};d.useEffect(()=>(s?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[s]);const i=()=>{a(u=>!u)};return e.jsxs("div",{className:`${O.userBarWrapper} four-step`,children:[e.jsxs("button",{className:O.userBar,type:"button",name:"openPopover",onClick:i,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:O.userBarText,children:t}),e.jsx("div",{className:O.userBarAvatar,style:{backgroundImage:`url(${n||we})`}}),e.jsx("svg",{className:`${O.userBarIcon} ${s?O.rotate:""}`,children:e.jsx("use",{xlinkHref:`${x}#icon-chevron-down`})})]}),s&&e.jsx("div",{ref:o,children:e.jsx(ea,{})})]})},la="_userPanel_iff7o_1",ia="_userPanelTitle_iff7o_7",da="_userPanelTitleName_iff7o_18",me={userPanel:la,userPanelTitle:ia,userPanelTitleName:da},ma=()=>{const{t}=_(),s=D(He),a=D(be),n=a?a.split("@")[0]:null,o=s==="User"?n:s;return e.jsxs("div",{className:me.userPanel,children:[e.jsxs("h1",{className:me.userPanelTitle,children:[t("hello"),e.jsx("span",{className:me.userPanelTitleName,children:o})]}),e.jsx(ca,{name:s})]})},ua="_btnStyle_445u2_1",ha="_iconStyle_445u2_15",xa="_btnStyleText_445u2_31",ue={btnStyle:ua,iconStyle:ha,btnStyleText:xa},_a=()=>{const{t}=_(),s=ee(),a=d.useCallback(()=>{s()},[s]),{date:n}=Z(),o=K(n).getTime(),c=d.useCallback(()=>{s(e.jsx(_e,{onClose:a,operationType:"add",timestampFromUrl:o}))},[s,a,o]);return e.jsxs("button",{className:ue.btnStyle,type:"button",onClick:c,children:[e.jsx("svg",{className:ue.iconStyle,children:e.jsx("use",{xlinkHref:`${x}#icon-plus`})}),e.jsxs("span",{className:ue.btnStyleText,children:[" ",t("addWater")]})]})},pa=t=>{const s=new Date(Number(t)),a=s.getHours(),n=s.getMinutes();if(Ve.language.startsWith("en")){const c=a>=12?"PM":"AM";return`${(a%12||12).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")} ${c}`}else return`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},ga=t=>t>=1e3?{value:t/1e3,text:"л"}:{value:t,text:"мл"},ja="_btnDelete_19mt5_1",ba={btnDelete:ja},Na=({isLoading:t,handleDelete:s})=>{const{t:a}=_();return e.jsx("button",{type:"button",className:ba.btnDelete,onClick:()=>s(),disabled:t,children:a("delete")})},fa="_modal_nauxu_1",va="_closeBtn_nauxu_16",Ta="_svg_nauxu_35",Ba="_modalTextBox_nauxu_40",wa="_modalTitle_nauxu_50",Ca="_modalText_nauxu_40",ya="_modalBtnBox_nauxu_70",Aa="_btnCancel_nauxu_80",I={modal:fa,closeBtn:va,svg:Ta,modalTextBox:Ba,modalTitle:wa,modalText:Ca,modalBtnBox:ya,btnCancel:Aa},Wa=({id:t,onClose:s})=>{const{t:a}=_(),n=E(),[o,c]=d.useState(!1),i=()=>{const p=setTimeout(()=>{s(),clearTimeout(p)},xe.DURATION)},u=()=>{c(()=>!0),n(Ue(t)).then(({error:p})=>{p?console.error("Помилка видалення запису:",p):i(),c(!1)})};return e.jsxs("div",{className:I.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:i,className:I.closeBtn,children:e.jsx("svg",{className:I.svg,children:e.jsx("use",{xlinkHref:x+"#icon-x"})})}),e.jsxs("div",{className:I.modalTextBox,children:[e.jsx("h2",{className:I.modalTitle,children:a("deleteEntry")}),e.jsx("p",{className:I.modalText,children:a("confirmDeleteEntry")})]}),e.jsx("div",{className:I.modalBtnBox,children:o?e.jsx(G,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:i,className:I.btnCancel,children:a("cancel")}),e.jsx(Na,{handleDelete:u,id:t})]})})]})},Sa="_waterItemContent_1lnpx_1",Da="_iconWaterGlass_1lnpx_13",Ma="_waterInfo_1lnpx_25",ka="_waterAmount_1lnpx_29",Pa="_waterDate_1lnpx_36",$a="_containerButtons_1lnpx_42",La="_editButton_1lnpx_48",Ia="_deleteButton_1lnpx_49",Ra="_iconAction_1lnpx_56",k={waterItemContent:Sa,iconWaterGlass:Da,waterInfo:Ma,waterAmount:ka,waterDate:Pa,containerButtons:$a,editButton:La,deleteButton:Ia,iconAction:Ra},Fa=({water:t})=>{const s=ee(),a=d.useCallback(()=>{s()},[s]),n=d.useCallback(()=>{s(e.jsx(Wa,{id:t.id,onClose:a}))},[s,a,t]),o=d.useCallback(()=>{s(e.jsx(_e,{water:t,onClose:a,operationType:"edit"}))},[s,a,t]),c=ga(t.amount);return e.jsxs("div",{className:k.waterItemContent,children:[e.jsx("svg",{className:k.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:x+"#icon-glass"})}),e.jsxs("div",{className:k.waterInfo,children:[e.jsx("p",{className:k.waterAmount,children:`${c.value} ${c.text}`}),e.jsx("p",{className:k.waterDate,children:pa(t.date)})]}),e.jsxs("div",{className:k.containerButtons,children:[e.jsx("button",{className:k.editButton,onClick:o,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:k.iconAction,width:"14",height:"14",children:e.jsx("use",{href:`${x}#icon-edit`})})}),e.jsx("button",{className:k.deleteButton,onClick:n,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:k.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:`${x}#icon-trash`})})})]})]})},Ea="_waterList_nhslc_1",Ha="_messageContainer_nhslc_12",Va="_noWater_nhslc_21",Ua="_skeleton_nhslc_68",Oa="_shimmer_nhslc_1",X={waterList:Ea,messageContainer:Ha,noWater:Va,skeleton:Ua,shimmer:Oa},qa=()=>{const{t}=_(),s=D(je);return D(Oe)?e.jsx("div",{className:X.waterList,children:[1,2,3].map(n=>e.jsx("div",{className:X.skeleton},n))}):s.length?e.jsx("ul",{className:X.waterList,children:s.map(n=>e.jsx("li",{children:e.jsx(Fa,{water:n})},n.id))}):e.jsx("div",{className:X.messageContainer,children:e.jsx("h2",{className:X.noWater,children:t("noWaterMessage")})})},Ga="_info_iy33z_1",za="_dailyFont_iy33z_7",Ja="_header_iy33z_20",Ya="_title_iy33z_28",Xa="_button_iy33z_43",Qa="_icon_iy33z_67",Za="_iconBackground_iy33z_90",he={info:Ga,dailyFont:za,header:Ja,title:Ya,button:Xa,icon:Qa,iconBackground:Za},Ka=()=>e.jsxs("div",{className:`${he.info} five-step`,children:[e.jsxs("div",{className:he.header,children:[e.jsx(Be,{className:he.dailyFont}),e.jsx(_a,{})]}),e.jsx(qa,{})]}),en=({title:t,styles:s})=>e.jsx("span",{className:s,children:t}),sn=["january","february","march","april","may","june","july","august","september","october","november","december"],tn="_btn_11ww4_1",an="_btnDisabled_11ww4_13",nn="_svgSchedule_11ww4_17",on="_svgPie_11ww4_18",rn="_calendarTitle_11ww4_28",cn="_month_11ww4_39",ln="_monthInd_11ww4_46",dn="_monthYear_11ww4_69",mn="_statisticBtn_11ww4_76",un="_svgArrowLeft_11ww4_86",hn="_svgArrowRight_11ww4_87",xn="_isHidden_11ww4_98",f={btn:tn,btnDisabled:an,svgSchedule:nn,svgPie:on,calendarTitle:rn,month:cn,monthInd:ln,monthYear:dn,statisticBtn:mn,svgArrowLeft:un,svgArrowRight:hn,isHidden:xn},_n=()=>{const{t}=_(),s=E(),{date:a}=Z(),n=K(a),[o,c]=d.useState(new Date(n).getFullYear()),[i,u]=d.useState(new Date(n).getMonth()),p=D(qe),g=Ge().pathname.split("/").pop(),v=()=>{if(i===11){s(Q(new Date(o+1,0,4).getTime())),u(0),c(o+1);return}s(Q(new Date(o,i+1,4).getTime())),u(i+1)},j=()=>{if(i===0){s(Q(new Date(o-1,11,4).getTime())),u(11),c(o-1);return}s(Q(new Date(o,i-1,4).getTime())),u(i-1)},m=t(sn[i]),h=t(g==="schedule"?"statistics":"month"),T=new Date(Date.now()).getFullYear(),w=new Date(Date.now()).getMonth(),S=new Date(T,w)<=new Date(o,i);return e.jsxs("div",{className:f.calendarTitle,children:[e.jsx(en,{title:h,styles:f.month}),e.jsxs("div",{className:f.monthInd,children:[e.jsx("button",{onClick:j,className:f.btn,disabled:p,children:e.jsx("svg",{className:f.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${x}#icon-arrow`})})}),e.jsx("span",{className:f.monthYear,children:`${m}, ${o}`}),e.jsx("button",{onClick:v,className:`${f.btn} ${S?f.btnDisabled:""} `,disabled:p||S,children:e.jsx("svg",{className:f.svgArrowRight,children:e.jsx("use",{xlinkHref:`${x}#icon-arrow`})})}),e.jsx(pe,{to:"calendar",className:({isActive:$})=>F(f.statisticBtn,{[f.isHidden]:$}),children:e.jsx("svg",{className:f.svgSchedule,children:e.jsx("use",{xlinkHref:`${x}#icon-pie-chart`})})}),e.jsx(pe,{to:"schedule",className:({isActive:$})=>F(f.statisticBtn,{[f.isHidden]:$}),children:e.jsx("svg",{className:f.svgPie,children:e.jsx("use",{xlinkHref:`${x}#icon-pie-chart`})})})]})]})},pn=()=>e.jsxs("div",{className:"six-step",children:[e.jsx(_n,{}),e.jsx(d.Suspense,{fallback:e.jsx(es,{}),children:e.jsx(ze,{})})]}),gn="_waterDetailedInfo_199e5_1",jn={waterDetailedInfo:gn},bn=()=>e.jsxs("section",{className:jn.waterDetailedInfo,children:[e.jsx(ma,{}),e.jsx(Ka,{}),e.jsx(pn,{})]}),Nn="_waterPage_16oaj_1",fn="_registerPageRight_16oaj_8",vn={waterPage:Nn,registerPageRight:fn},Wn=()=>{const{date:t}=Z(),s=E(),a=K(t).getTime(),[n,o]=d.useState(!0);return d.useEffect(()=>{if(n){const c=Date.now();s(Je()),s(Ye(a)),s(Q(a)),s(Xe(c)),o(!1)}},[n,a,s]),e.jsxs("div",{className:vn.waterPage,children:[e.jsx(nt,{}),e.jsx(bn,{})]})};export{Wn as default};
