import{r as d,M as We,j as e,b as R,g as I,k as Se,m as De,n as Z,i as Me,A as _e,o as Pe,u as N,p as je,q as $e,t as be,v as Le,w as Ie,f as fe,x as Re,y as Ne,z as Fe,B as He,C as Ve,D as Ee,E as Ue,F as qe,G as Oe,H as ze,I as Ge,N as pe,J as Q,O as Je,K as Ye,P as Xe,Q as Qe}from"./index-ef4653de.js";import{p as K}from"./parseDate-629c4fe8.js";import{s as _,L as Ze}from"./sprite-6f0c0d62.js";import{$ as Ke,c as ve,a as Te,d as ne,u as Be,o as we,C as q,L as es}from"./Loader-c6c55926.js";import{u as D}from"./useTranslation-93b0424b.js";import{L as ss}from"./LangSwitch-84e9a1ed.js";const ee=()=>d.useContext(We),O=({width:t,height:s})=>e.jsx(Ke,{visible:!0,height:s,width:t,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),ts="_WaterForm_1jleh_1",as="_FormHeader_1jleh_13",ns="_AmountOfWater_1jleh_25",os="_TapAddWaterWrapper_1jleh_36",rs="_TapAddWater_1jleh_36",cs="_TapAddWaterValue_1jleh_88",ls="_RecordingTimeLabel_1jleh_104",is="_RecordingTime_1jleh_104",ds="_WaterValueLabel_1jleh_136",ms="_WaterValue_1jleh_136",us="_SaveBtn_1jleh_177",f={WaterForm:ts,FormHeader:as,AmountOfWater:ns,TapAddWaterWrapper:os,TapAddWater:rs,TapAddWaterValue:cs,RecordingTimeLabel:ls,RecordingTime:is,WaterValueLabel:ds,WaterValue:ms,SaveBtn:us,Error:"_Error_1jleh_213"},xs=({operationType:t="add",editTime:s,waterPortion:a,waterID:o,handleClose:r})=>{const{t:l}=D(),[i,u]=d.useState(a),v=R(),[C,g]=d.useState(!1),h=new Date(s),m=h.getFullYear(),x=String(h.getMonth()+1).padStart(2,"0"),T=String(h.getDate()).padStart(2,"0"),B=t==="add"?new Date:h,k=String(B.getHours()).padStart(2,"0"),F=String(B.getMinutes()).padStart(2,"0"),[M,z]=d.useState(k),[H,G]=d.useState(F),c=ve().shape({recordingTime:Te().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:ne().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:w,handleSubmit:p,setValue:se,formState:{errors:V}}=Be({resolver:we(c),defaultValues:{recordingTime:`${M}:${H}`,waterValue:i.toString()}}),oe=y=>{const te=new Date(`${m}-${x}-${T}T${M}:${H}:00`).getTime().toString(),ce={amount:y.waterValue,date:te},ke={amount:y.waterValue,date:te};switch(g(!0),t){case"add":v(De(ce)).then(({error:le})=>{le?g(!1):(g(!1),r())});break;case"edit":v(Se({id:o,formData:ke})).then(({error:le})=>{le?g(!1):(g(!1),r())});break;default:g(!1);break}},P=y=>e.jsx("p",{className:f.FormHeader,children:l(y==="edit"?"correctData":"chooseValue")}),A=y=>{u(y),se("waterValue",y.toString())},re=i===50,Ae=i===5e3;return e.jsxs("form",{className:f.WaterForm,onSubmit:p(oe),children:[P(t),e.jsx("p",{className:f.AmountOfWater,children:l("waterAmount")}),e.jsxs("div",{className:f.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:f.TapAddWater,onClick:()=>A(Math.max(i-50,0)),disabled:re,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-minus"})})}),e.jsxs("p",{className:f.TapAddWaterValue,children:[i," ","ml"]}),e.jsx("button",{type:"button",className:f.TapAddWater,onClick:()=>A(i+50),disabled:Ae,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-plus"})})})]}),e.jsxs("label",{className:f.RecordingTimeLabel,children:[l("recordTime"),e.jsx(q,{name:"recordingTime",control:w,render:({field:y})=>e.jsx("input",{...y,type:"text",className:I(f.RecordingTime),placeholder:"HH:MM",onChange:J=>{const[te,ce]=J.target.value.split(":");z(te),G(ce),y.onChange(J)}})}),V.recordingTime&&e.jsx("p",{className:f.Error,children:V.recordingTime.message})]}),e.jsxs("label",{className:f.WaterValueLabel,children:[l("enterWaterValue"),e.jsx(q,{name:"waterValue",control:w,render:({field:y})=>e.jsx("input",{...y,type:"number",value:i||"",onChange:J=>A(Number(J.target.value)),className:f.WaterValue})}),V.waterValue&&e.jsx("p",{className:f.Error,children:V.waterValue.message})]}),e.jsx("button",{type:"submit",className:f.SaveBtn,disabled:C,children:C?e.jsx(O,{height:44,width:44}):l("save")})]})},_s={DURATION:15},hs="_WaterModal_198kh_1",ps="_WaterModalCloseBtn_198kh_22",ge={WaterModal:hs,WaterModalCloseBtn:ps},he=({operationType:t,onClose:s,water:a={},timestampFromUrl:o=""})=>{const r=()=>{const h=setTimeout(()=>{s(),clearTimeout(h)},_s.DURATION)},l=h=>{switch(h){case"add":return"Додавання води";case"edit":return"Редагувати кількість води";default:return"Додавання води"}},i=Number(o),u=Number(a.date),v=h=>{switch(h){case"add":return i;case"edit":return u}},C=h=>{switch(h){case"add":return 50;case"edit":return a.amount;default:return 50}},g=h=>{switch(h){case"add":return null;case"edit":return a.id;default:return null}};return e.jsxs("div",{className:ge.WaterModal,children:[e.jsx("h1",{children:l(t)}),e.jsx(xs,{operationType:t,editTime:v(t),waterPortion:C(t),waterID:g(t),handleClose:r}),e.jsx("button",{type:"button",onClick:r,"aria-label":"closeWaterModal",className:ge.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})})]})},gs="_btnAdd_zsldf_1",js="_btnText_zsldf_14",bs="_plus_zsldf_15",ie={btnAdd:gs,btnText:js,plus:bs},fs=()=>{const{t}=D(),s=ee(),{date:a}=Z(),o=K(a),r=d.useCallback(()=>{s()},[s]),l=d.useCallback(()=>{s(e.jsx(he,{onClose:r,operationType:"add",timestampFromUrl:o}))},[s,r,o]);return e.jsxs("button",{type:"button",className:ie.btnAdd,onClick:l,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsx("h2",{className:ie.btnText,children:t("addWater")})]})},Ns="_modal_10779_1",vs="_closeBtn_10779_16",Ts="_svg_10779_35",Bs="_modalTextBox_10779_40",ws="_modalTitle_10779_50",Cs="_modalText_10779_40",ys="_modalBtnBox_10779_70",As="_userCountItem_10779_80",ks="_like_10779_94",Ws="_likeActive_10779_105",Ss="_loaderWrapper_10779_110",Ds="_btnCancel_10779_156",W={modal:Ns,closeBtn:vs,svg:Ts,modalTextBox:Bs,modalTitle:ws,modalText:Cs,modalBtnBox:ys,userCountItem:As,like:ks,likeActive:Ws,loaderWrapper:Ss,btnCancel:Ds},Ms=({onClose:t,currentAccess:s})=>{const a=R(),[o,r]=d.useState({}),[l,i]=d.useState([]),[u,v]=d.useState(s),C="admin2006@gmail.com";d.useEffect(()=>{async function m(){try{const x=await Me();i(x.data.users),v(!u)}catch(x){console.log(x.message)}}m()},[]);const g=()=>{const m=setTimeout(()=>{t(),clearTimeout(m)},_e.DURATION)},h=async(m,x)=>{try{r(B=>({...B,[m]:!0}));const T=await a(Pe({id:m,access:!x}));T.error?console.error("Помилка оновлення доступу:",T.error):i(B=>B.map(k=>k.id===m?{...k,access:!x}:k))}catch(T){console.error("Щось пішло не так:",T)}finally{r(T=>({...T,[m]:!1}))}};return e.jsxs("div",{className:W.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:g,className:W.closeBtn,children:e.jsx("svg",{className:W.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:W.modalTextBox,children:[e.jsx("h2",{className:W.modalTitle,children:"Список усіх користувачів"}),l.length>0?e.jsx("ul",{className:W.userCountList,children:l.filter(m=>m.email!==C).map(m=>e.jsxs("li",{className:W.userCountItem,children:[e.jsx("p",{children:m.email}),e.jsx("div",{className:W.loaderWrapper,children:o[m.id]?e.jsx(O,{height:30,width:30}):e.jsx("button",{children:e.jsx("svg",{onClick:()=>h(m.id,m.access),className:`${W.like} ${m.access?W.likeActive:""}`,children:e.jsx("use",{href:`${_}#icon-heart`})})})})]},m.id))}):e.jsx("p",{children:"Користувачі не знайдені."})]})]})},Ps="_btnAdd_a3w66_1",$s="_btnText_a3w66_15",Ls="_plus_a3w66_16",de={btnAdd:Ps,btnText:$s,plus:Ls},Is=()=>{const{t}=D(),s=ee(),a=d.useCallback(()=>{s(e.jsx(Ms,{onClose:()=>s(null)}))},[s]);return e.jsxs("button",{type:"button",className:de.btnAdd,onClick:a,children:[e.jsx("svg",{className:de.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-admin`})}),e.jsx("h2",{className:de.btnText,children:t("adminBtn")})]})},Rs=["januaryDay","februaryDay","marchDay","aprilDay","mayDay","juneDay","julyDay","augustDay","septemberDay","octoberDay","novemberDay","decemberDay"],Fs=(t,s)=>{const a=new Date;return{isToday:a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate(),day:t.getDate(),month:s(Rs[t.getMonth()])}},Hs="_selectedDate_14sit_1",Vs={selectedDate:Hs},Ce=({className:t})=>{const{t:s}=D(),{date:a}=Z(),{isToday:o,day:r,month:l}=Fs(K(a),s),i=o?s("today"):`${r} ${l}`;return e.jsx("p",{className:I(Vs.selectedDate,t),children:i})},Es="_progressBarContainer_v5cic_1",Us="_progressBarTitle_v5cic_14",qs="_progressBar_v5cic_1",Os="_progressBarFill_v5cic_29",zs="_belowAim_v5cic_38",Gs="_aboveAim_v5cic_44",Js="_belowAimRate_v5cic_50",Ys="_aboveAimRate_v5cic_54",Xs="_ball_v5cic_58",Qs="_percentNumber_v5cic_69",Zs="_percentContainer_v5cic_79",Ks="_percent_v5cic_69",j={progressBarContainer:Es,progressBarTitle:Us,progressBar:qs,progressBarFill:Os,belowAim:zs,aboveAim:Gs,belowAimRate:Js,aboveAimRate:Ys,ball:Xs,percentNumber:Qs,percentContainer:Zs,percent:Ks},et=()=>{const t=N(je),a=(l=>!l||l.length===0?0:l.reduce((i,u)=>{const v=u.percentage||0;return i+v},0))(t),o=a<100,r=Math.min(Math.max(a,0),100);return e.jsxs("div",{className:j.progressBarContainer,children:[e.jsx("h3",{className:j.progressBarTitle,children:e.jsx(Ce,{})}),e.jsx("div",{className:j.progressBar,children:e.jsxs("div",{className:I(j.progressBarFill,{[j.belowAim]:o,[j.aboveAim]:!o}),style:{width:`${r}%`},children:[e.jsx("p",{className:I(j.percentNumber,{[j.belowAimRate]:o,[j.aboveAimRate]:!o}),children:a>=100?"Норма":`${a.toFixed(0)}%`}),e.jsx("div",{className:I(j.ball,{[j.belowAim]:a<100,[j.aboveAim]:a>=100})})]})}),e.jsxs("div",{className:j.percentContainer,children:[e.jsx("p",{className:j.percent,children:"0%"}),e.jsx("p",{className:j.percent,children:"50%"}),e.jsx("p",{className:j.percent,children:"100%"})]})]})},st="_waterContainer_szgl7_1",tt="_normaContainer_szgl7_16",at="_normaL_szgl7_28",nt="_normaText_szgl7_35",ot="_waterTitle_szgl7_53",Y={waterContainer:st,normaContainer:tt,normaL:at,normaText:nt,waterTitle:ot},rt=()=>{const{t}=D(),s=N($e),a=N(be),o="admin2006@gmail.com",r=s<1?`${s*1e3} ${t("ml")}`:`${s} ${t("l")}`;return e.jsxs("div",{className:Y.waterContainer,children:[e.jsx(Ze,{className:Y.waterTitle}),s===0?"":e.jsxs("div",{className:Y.normaContainer,children:[e.jsx("h2",{className:Y.normaL,children:r}),e.jsx("p",{className:Y.normaText,children:t("dailyNorm")})]}),s===0?"":e.jsx(et,{}),s===0?"":e.jsx(fs,{}),a===o&&e.jsx(Is,{})]})},ct="_btnLogout_1xwlm_1",lt={btnLogout:ct},it=({handleClose:t})=>{const s=R(),a=Le(),o=()=>{s(Ie()).then(({error:r})=>{r||(a("/"),t())})};return e.jsx("button",{type:"button",onClick:o,className:lt.btnLogout,children:"Вийти"})},dt="_modal_1spmq_1",mt="_closeBtn_1spmq_16",ut="_svg_1spmq_35",xt="_modalTextBox_1spmq_40",_t="_modalTitle_1spmq_50",ht="_modalText_1spmq_40",pt="_modalBtnBox_1spmq_70",gt="_btnCancel_1spmq_80",$={modal:dt,closeBtn:mt,svg:ut,modalTextBox:xt,modalTitle:_t,modalText:ht,modalBtnBox:pt,btnCancel:gt},jt=({onClose:t})=>{const s=N(fe),a=()=>{const o=setTimeout(()=>{t(),clearTimeout(o)},_e.DURATION)};return e.jsxs("div",{className:$.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:a,className:$.closeBtn,children:e.jsx("svg",{className:$.svg,children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})}),e.jsxs("div",{className:$.modalTextBox,children:[e.jsx("h2",{className:$.modalTitle,children:"Вийти"}),e.jsx("p",{className:$.modalText,children:"Ви дійсно хочете вийти?"})]}),e.jsx("div",{className:$.modalBtnBox,children:s?e.jsx(O,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:a,className:$.btnCancel,children:"Скасувати"}),e.jsx(it,{handleClose:a})]})})]})},ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAB6CAMAAABHh7fWAAAAYFBMVEVVYIDn7O3///9MWHvt8vJTXn9PW3ykq7lJVXnq7+9DUHWepbTz9PZfaYd7gppFUnaPlqnb3eOEjaBpco61ucWDiqC+wczQ09rn6OxueJHHytN0fZassr/g5efV29+Vna2U7++XAAAFvElEQVRogcWb67aqOgxGi6UVuQgsEBVv7/+Wp4C6Fdrkq9Zx8mePvQYySZqmSZuKlbfkdd9m1bYphJGi2VZZ29e5/3uEJ7XdFXIQrZQYRSk9/qHYtZ58D/ShM9jkyXwX8wWJwXeH8Oi826pS26Cvoku1bVHdMXRdSZ77oOuqDobujinIvdPTYxcE3arUOrqUmJ+0X6N7kXiDR3ii+q/Q9ekz8AQ/0mNOofNMe43xXLTOKG8n0Pvmc5Ufijf7T9Brf++ywNPMG50fy+/Bg5RHl9Ed6L38apRfRUuH0e3oVgYw9kNUYp/jVnSWhAMPktxQdBVomP9JWWHoKuXfpfS0Sg8rtwYGJ7Wwl2iWrGSSFqcqW5/b9rzOqlORJqxvWPReoDmyTJusj+I3ifqsSaWv3nP0jRxnlYjsGsebaCabOL5mzEJTzoPLDN2Svm2C8mXJfdAvTMifz7F39J4ky+Ya27mTxNeGtPostryhc9Jb5C5yaPzUPNpRbCVzJ/pIGUzuGPAIJ9n66EJnlIvpE0A2bPLzy7UdvSenlbpi6Cvp5unehs4b6kfJmfSwfxKvKVdVTW5B02tGccHIUXShXiOSbImuyVAsM1Bpo/aN9HJdL9AnMhyk2EgPsqF9Rp/m6J5eojWstFGbTnCSfoa2149P8tYHvSXZSryj6dgt9M0HfWPU7t7QtNJCrn3QGb1+PtSe/um4RdoLveaW7u4FfWSSDI+5xWst1PEfuuZyorBokdZPdMXl+4HRunqgIzapC4wWOr+jWzbvDo0uuzuaDgE/0Xo7oQ98Ch8aLcRhRHd8nRMcPVjcoHd8PRscrXcDOi/YB39g8CI36Bp4MDxa1gbNLFo/QptSRCBDjSeFI/oM1Of6z6ALfm7pnQfZsAFtVLESdLEzPQbm4A/ZXPlq3xRBAvAyr/RoVJuPj8bPRM+jvRKFEQ04muxFyz+VeKO5PGVAtwL4wA/Q/ISVmWDThB+hdSW2/Nz6CVptBVlf/hJ9FMDi8RM0Av4VGpL/Ee0fUoB5jYmufNHAjDVjDYy2KrxWD7N+AKuhAQOTy9fikL3N5AJCilBJ75Mq9MghlQkpyLAMuxCozTcXzMdMIEUSKWNy2NMuDTaxzPIBLJpi2GpDle6B44sR3SKpwiDo7hWSl03oHkmQxifBdPiKgccECUgLBwEtHqNHZENaiCTDg6SQj1/At43JMFQCiCEtBdDxGQ3eYwmAFD6DyD3AFuhZ6Fj4gH6GZONQtXVXpAaL3OlpfrTBOS3uRS462MYzGLWRouMuU2mPbGhMwixgMfyi54bGAX1elVRI28DRZJADunl1F32itMbN/dy8wi0uSrfJ45tHKvjcsstx7/hzo+nDk9l7cnh7FkH72LvCN6UDo182pVcnMP6FQb9uxa/Q1CIMOu1fj13AsB8E/X7ssuqwmREEPTtsAtUOgZ4fsXEHi3chMjSozhpkcbCIRVMiS4rBlGN5nLqqAbRqiOUDTMssh8hIu1VK5UjQrqz16JxpGBi+V7b0eg0sIPaGASacqrLZc1lKm7DnetY2iaGR0f2bsuhcLUAv7CjTpOau5hCiaSAR7QaqueJoLdxwd0vMKrceYyupsgveJXFZFw441Qi0ulrGSuuK7nqC4VT7kyWWa7nd84O8gGdiqQTd9GVc7W1yqqTpvcF3uJzBF320iwa/1x6opGg/Ao/w6B2eLho6l22Nt8cUS8QZc2snfK2e44e0NT7aC6XOuM42Hv50OKyZc7S5kp5u7YYPDre0tgNtfK34zLus8D+ZWDu17e3KfRCVJ9nEZ492ZSPByEYcCGdXfCB7G61dBHdDfh6G7L6IQN2ACKC4U2UG/b3i5E0j5rbLV4pTKvPob1ydu1zFXy/60Or8rS7kUlXubfYNcp0MvMXml6Zg74Tv7qGqQwr7oUc6h4997iz6XZY0eHep6XtV0xc98fM8flhgs4nNfz95y3/5olpPgi07CgAAAABJRU5ErkJggg==",bt="_userAvatar_1fnxk_1",ft="_loader_1fnxk_20",Nt="_uploadContainer_1fnxk_28",vt="_icon_1fnxk_36",Tt="_ordinaryText_1fnxk_49",Bt="_hideBtn_1fnxk_72",wt="_userSettingForm_1fnxk_76",Ct="_boldText_1fnxk_95",yt="_genderContainer_1fnxk_101",At="_radioContainer_1fnxk_106",kt="_radioInput_1fnxk_116",Wt="_userPreferences_1fnxk_141",St="_formNameEmail_1fnxk_147",Dt="_formWeightTime_1fnxk_152",Mt="_formula_1fnxk_165",Pt="_inputBox_1fnxk_169",$t="_formulaDescription_1fnxk_193",Lt="_formulaExpression_1fnxk_207",It="_temporarySymbol_1fnxk_221",Rt="_formulaDescriptionText_1fnxk_231",Ft="_submitBtn_1fnxk_235",Ht="_loaderWrapper_1fnxk_259",Vt="_boldTextBtn_1fnxk_266",Et="_consumeWater_1fnxk_273",Ut="_userNorma_1fnxk_280",qt="_langButton_1fnxk_288",Ot="_errorMessage_1fnxk_298",n={userAvatar:bt,loader:ft,uploadContainer:Nt,icon:vt,ordinaryText:Tt,hideBtn:Bt,userSettingForm:wt,boldText:Ct,genderContainer:yt,radioContainer:At,radioInput:kt,userPreferences:Wt,formNameEmail:St,formWeightTime:Dt,formula:Mt,inputBox:Pt,formulaDescription:$t,formulaExpression:Lt,temporarySymbol:It,formulaDescriptionText:Rt,submitBtn:Ft,loaderWrapper:Ht,boldTextBtn:Vt,consumeWater:Et,userNorma:Ut,langButton:qt,errorMessage:Ot},zt=({handleClose:t})=>{const s=R(),a=N(Re),o=N(Ne),[r,l]=d.useState(0),i=N(fe),u=N(Fe),v=ve({name:Te().min(2,"Назва має містити не менше 2 символів").max(60,"Максимальна кількість символів імені 60").required("Імя обовязково"),weight:ne().min(0).max(300,"Вага значення менше 300").typeError("Має бути числом"),dailyActiveTime:ne().min(0).max(12,"Час активного спорту").typeError("Має бути числом"),dailyWaterConsumption:ne().min(0).max(8,"Добове споживання води максимум 8 л").typeError("Має бути числом")}),{control:C,register:g,handleSubmit:h,watch:m,formState:{errors:x}}=Be({resolver:we(v),defaultValues:{email:a.email,gender:a.gender,name:a.name,weight:a.weight,dailyActiveTime:a.dailyActiveTime,dailyWaterConsumption:a.dailyWaterConsumption},mode:"onChange"}),T=m("weight"),B=m("gender"),k=m("dailyActiveTime");d.useEffect(()=>{let c;const w=parseInt(T||0),p=parseInt(k||0);B==="woman"?c=w*.03+p*.4:c=w*.04+p*.6,l(Math.min(parseFloat(c),8).toFixed(2))},[k,B,T]);const F=c=>{const{photo:w,...p}=a;/\s$/.test(c.name)&&(c.name=c.name.trim());const V=Object.keys(p).sort().reduce((P,A)=>(P[A]=p[A],P),{}),oe=Object.keys(c).sort().reduce((P,A)=>(P[A]=c[A],P),{});if(JSON.stringify(V)!==JSON.stringify(oe)){const{email:P,...A}=c;s(He(A)).then(({error:re})=>{re||t()})}else t()},M=c=>{const w=new FormData,p=c.target.files[0];p&&(w.append("avatar",p),s(Ve(w)))},z=c=>w=>{let p=w.target.value;(p===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(p))&&c.onChange(p)},H=c=>()=>{c.value===0&&c.onChange("")},G=c=>()=>{c.value===""?c.onChange(0):c.value.startsWith(".")&&c.onChange("0"+c.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:n.userAvatar,children:[u?e.jsx("div",{className:n.loader,children:e.jsx(O,{})}):e.jsx("img",{src:o||`${ye}`,alt:"User photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:n.uploadContainer,children:[e.jsx("svg",{className:n.icon,children:e.jsx("use",{xlinkHref:`${_}#icon-upload`})}),e.jsx("span",{className:n.ordinaryText,children:"Завантажити фото"})]}),e.jsx("input",{className:n.hideBtn,type:"file",accept:"image/*",onChange:M}),x.avatar&&e.jsx("p",{children:x.avatar.message})]})]}),e.jsxs("form",{onSubmit:h(F),className:n.userSettingForm,children:[e.jsx("div",{className:n.genderContainer,children:e.jsxs("label",{className:n.genderIdentity,children:[e.jsx("span",{className:n.boldText,children:"Ваша стать"}),e.jsxs("div",{className:n.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:n.radioInput,...g("gender"),value:"woman",checked:B==="woman"}),e.jsx("label",{htmlFor:"woman",className:n.ordinaryText,children:"Жіноче"}),e.jsx("input",{type:"radio",id:"man",className:n.radioInput,...g("gender"),value:"man",checked:B==="man"}),e.jsx("label",{htmlFor:"man",className:n.ordinaryText,children:"Чоловіче"})]}),x.gender&&e.jsx("p",{className:n.errorMessage,children:x.gender.message})]})}),e.jsxs("div",{className:n.userPreferences,children:[e.jsxs("div",{className:n.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Ваше ім'я"}),e.jsx(q,{render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,placeholder:"Користувач",onChange:w=>{let p=w.target.value;/^\s|\s{2}$/.test(p)||c.onChange(p)}}),name:"name",control:C}),x.name&&e.jsx("p",{className:n.errorMessage,children:x.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Пошта"}),e.jsx("input",{disabled:!0,...g("email"),className:n.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:n.formula,children:[e.jsx("p",{className:n.boldText,children:"Моя щоденна норма"}),e.jsxs("div",{className:n.formulaDescription,children:[e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для жінок: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{children:"Для чоловіків: "}),e.jsx("span",{className:n.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.formulaExpression,children:"* "}),e.jsx("span",{className:n.formulaDescriptionText,children:"* V - об'єм водної норми в літрах на день, М - ваша вага, Т - час активних занять спортом або іншої активної діяльності (у разі відсутності встановіть 0)"})]}),e.jsxs("p",{className:n.ordinaryText,children:[e.jsx("span",{className:n.temporarySymbol,children:"! "}),"Активний час (години)"]})]})]}),e.jsxs("div",{className:n.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Ваша вага (кг):"}),e.jsx(q,{name:"weight",control:C,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:z(c),onFocus:H(c),onBlur:G(c)})}),x.weight&&e.jsx("p",{className:n.errorMessage,children:x.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.ordinaryText,children:"Час активних занять спортом:"}),e.jsx(q,{name:"dailyActiveTime",control:C,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:z(c),onFocus:H(c),onBlur:G(c)})}),x.dailyActiveTime&&e.jsx("p",{className:n.errorMessage,children:x.dailyActiveTime.message})]}),e.jsxs("div",{className:n.consumeWater,children:[e.jsxs("p",{className:n.ordinaryText,children:["Потрібна кількість води в літрах на день:  ",e.jsxs("span",{className:n.userNorma,children:[isNaN(r)?0:r," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:n.boldText,children:"Запишіть, скільки води ви вип'єте:"}),e.jsx(q,{name:"dailyWaterConsumption",control:C,render:({field:c})=>e.jsx("input",{...c,className:n.inputBox,onChange:z(c),onFocus:H(c),onBlur:G(c)})}),x.dailyWaterConsumption&&e.jsx("p",{className:n.errorMessage,children:x.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:i,type:"submit",className:`${n.submitBtn} ${n.boldTextBtn}`,children:["Зберегти",i&&e.jsx("div",{className:n.loaderWrapper,children:e.jsx(O,{height:56,width:56})})]})]})]})},Gt="_modalSettingContainer_1md4x_1",Jt="_modalHeader_1md4x_14",Yt="_closeBtn_1md4x_29",Xt="_icon_1md4x_44",ae={modalSettingContainer:Gt,modalHeader:Jt,closeBtn:Yt,icon:Xt},Qt=({onClose:t})=>e.jsxs("div",{className:ae.modalSettingContainer,children:[e.jsxs("div",{className:ae.modalHeader,children:[e.jsx("h2",{children:"Налаштування"}),e.jsx(ss,{}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:ae.closeBtn,onClick:t,children:e.jsx("svg",{className:ae.icon,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})})]}),e.jsx(zt,{handleClose:t})]}),Zt="_userBarPopup_1ap7q_1",Kt="_userBarPopupList_1ap7q_16",ea="_userBarPopupListItem_1ap7q_23",sa="_userBarPopupIcon_1ap7q_40",E={userBarPopup:Zt,userBarPopupList:Kt,userBarPopupListItem:ea,userBarPopupIcon:sa},ta=()=>{const{t}=D(),s=ee(),a=d.useCallback(()=>{s()},[s]),o=d.useCallback(()=>{s(e.jsx(Qt,{onClose:a}))},[s,a]),r=d.useCallback(()=>{s(e.jsx(jt,{onClose:a}))},[s,a]);return e.jsx("div",{className:E.userBarPopup,children:e.jsxs("ul",{className:E.userBarPopupList,children:[e.jsxs("li",{className:E.userBarPopupListItem,onClick:o,children:[e.jsx("svg",{className:E.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-settings`})}),t("settingLink")]}),e.jsxs("li",{className:E.userBarPopupListItem,onClick:r,children:[e.jsx("svg",{className:E.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-log-out`})}),t("logout")]})]})})},aa="_userBarWrapper_1k17p_1",na="_userBar_1k17p_1",oa="_userBarText_1k17p_24",ra="_userBarAvatar_1k17p_32",ca="_userBarIcon_1k17p_44",la="_rotate_1k17p_56",U={userBarWrapper:aa,userBar:na,userBarText:oa,userBarAvatar:ra,userBarIcon:ca,rotate:la},ia=({name:t})=>{const[s,a]=d.useState(!1),o=N(Ne),r=d.useRef(null),l=u=>{r.current&&!r.current.contains(u.target)&&u.target.name!=="openPopover"&&a(!1)};d.useEffect(()=>(s?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}),[s]);const i=()=>{a(u=>!u)};return e.jsxs("div",{className:U.userBarWrapper,children:[e.jsxs("button",{className:U.userBar,type:"button",name:"openPopover",onClick:i,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:U.userBarText,children:t}),e.jsx("div",{className:U.userBarAvatar,style:{backgroundImage:`url(${o||ye})`}}),e.jsx("svg",{className:`${U.userBarIcon} ${s?U.rotate:""}`,children:e.jsx("use",{xlinkHref:`${_}#icon-chevron-down`})})]}),s&&e.jsx("div",{ref:r,children:e.jsx(ta,{})})]})},da="_userPanel_iff7o_1",ma="_userPanelTitle_iff7o_7",ua="_userPanelTitleName_iff7o_18",me={userPanel:da,userPanelTitle:ma,userPanelTitleName:ua},xa=()=>{const{t}=D(),s=N(Ee),a=N(be),o=a?a.split("@")[0]:null,r=s==="User"?o:s;return e.jsxs("div",{className:me.userPanel,children:[e.jsxs("h1",{className:me.userPanelTitle,children:[t("hello"),e.jsx("span",{className:me.userPanelTitleName,children:r})]}),e.jsx(ia,{name:s})]})},_a="_btnStyle_445u2_1",ha="_iconStyle_445u2_15",pa="_btnStyleText_445u2_31",ue={btnStyle:_a,iconStyle:ha,btnStyleText:pa},ga=()=>{const{t}=D(),s=ee(),a=d.useCallback(()=>{s()},[s]),{date:o}=Z(),r=K(o).getTime(),l=d.useCallback(()=>{s(e.jsx(he,{onClose:a,operationType:"add",timestampFromUrl:r}))},[s,a,r]);return e.jsxs("button",{className:ue.btnStyle,type:"button",onClick:l,children:[e.jsx("svg",{className:ue.iconStyle,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsxs("span",{className:ue.btnStyleText,children:[" ",t("addWater")]})]})},ja=t=>{const s=new Date(Number(t)),a=s.getHours(),o=s.getMinutes();if(Ue.language.startsWith("en")){const l=a>=12?"PM":"AM";return`${(a%12||12).toString().padStart(2,"0")}:${o.toString().padStart(2,"0")} ${l}`}else return`${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},ba=t=>t>=1e3?{value:t/1e3,text:"л"}:{value:t,text:"мл"},fa="_btnDelete_19mt5_1",Na={btnDelete:fa},va=({isLoading:t,handleDelete:s})=>e.jsx("button",{type:"button",className:Na.btnDelete,onClick:()=>s(),disabled:t,children:"Видалити"}),Ta="_modal_z4bq9_1",Ba="_closeBtn_z4bq9_16",wa="_svg_z4bq9_35",Ca="_modalTextBox_z4bq9_40",ya="_modalTitle_z4bq9_50",Aa="_modalText_z4bq9_40",ka="_modalBtnBox_z4bq9_70",Wa="_btnCancel_z4bq9_80",L={modal:Ta,closeBtn:Ba,svg:wa,modalTextBox:Ca,modalTitle:ya,modalText:Aa,modalBtnBox:ka,btnCancel:Wa},Sa=({id:t,onClose:s})=>{const a=R(),[o,r]=d.useState(!1),l=()=>{const u=setTimeout(()=>{s(),clearTimeout(u)},_e.DURATION)},i=()=>{r(()=>!0),a(qe(t)).then(({error:u})=>{u?console.error("Помилка видалення запису:",u):l(),r(!1)})};return e.jsxs("div",{className:L.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:l,className:L.closeBtn,children:e.jsx("svg",{className:L.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:L.modalTextBox,children:[e.jsx("h2",{className:L.modalTitle,children:"Видалити запис"}),e.jsx("p",{className:L.modalText,children:"Ви дійсно хочете видалити запис ?"})]}),e.jsx("div",{className:L.modalBtnBox,children:o?e.jsx(O,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:l,className:L.btnCancel,children:"Відміна"}),e.jsx(va,{handleDelete:i,id:t})]})})]})},Da="_waterItemContent_1lnpx_1",Ma="_iconWaterGlass_1lnpx_13",Pa="_waterInfo_1lnpx_25",$a="_waterAmount_1lnpx_29",La="_waterDate_1lnpx_36",Ia="_containerButtons_1lnpx_42",Ra="_editButton_1lnpx_48",Fa="_deleteButton_1lnpx_49",Ha="_iconAction_1lnpx_56",S={waterItemContent:Da,iconWaterGlass:Ma,waterInfo:Pa,waterAmount:$a,waterDate:La,containerButtons:Ia,editButton:Ra,deleteButton:Fa,iconAction:Ha},Va=({water:t})=>{const s=ee(),a=d.useCallback(()=>{s()},[s]),o=d.useCallback(()=>{s(e.jsx(Sa,{id:t.id,onClose:a}))},[s,a,t]),r=d.useCallback(()=>{s(e.jsx(he,{water:t,onClose:a,operationType:"edit"}))},[s,a,t]),l=ba(t.amount);return e.jsxs("div",{className:S.waterItemContent,children:[e.jsx("svg",{className:S.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:_+"#icon-glass"})}),e.jsxs("div",{className:S.waterInfo,children:[e.jsx("p",{className:S.waterAmount,children:`${l.value} ${l.text}`}),e.jsx("p",{className:S.waterDate,children:ja(t.date)})]}),e.jsxs("div",{className:S.containerButtons,children:[e.jsx("button",{className:S.editButton,onClick:r,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{href:`${_}#icon-edit`})})}),e.jsx("button",{className:S.deleteButton,onClick:o,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:S.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:`${_}#icon-trash`})})})]})]})},Ea="_waterList_nhslc_1",Ua="_messageContainer_nhslc_12",qa="_noWater_nhslc_21",Oa="_skeleton_nhslc_68",za="_shimmer_nhslc_1",X={waterList:Ea,messageContainer:Ua,noWater:qa,skeleton:Oa,shimmer:za},Ga=()=>{const{t}=D(),s=N(je);return N(Oe)?e.jsx("div",{className:X.waterList,children:[1,2,3].map(o=>e.jsx("div",{className:X.skeleton},o))}):s.length?e.jsx("ul",{className:X.waterList,children:s.map(o=>e.jsx("li",{children:e.jsx(Va,{water:o})},o.id))}):e.jsx("div",{className:X.messageContainer,children:e.jsx("h2",{className:X.noWater,children:t("noWaterMessage")})})},Ja="_info_iy33z_1",Ya="_dailyFont_iy33z_7",Xa="_header_iy33z_20",Qa="_title_iy33z_28",Za="_button_iy33z_43",Ka="_icon_iy33z_67",en="_iconBackground_iy33z_90",xe={info:Ja,dailyFont:Ya,header:Xa,title:Qa,button:Za,icon:Ka,iconBackground:en},sn=()=>e.jsxs("div",{className:xe.info,children:[e.jsxs("div",{className:xe.header,children:[e.jsx(Ce,{className:xe.dailyFont}),e.jsx(ga,{})]}),e.jsx(Ga,{})]}),tn=({title:t,styles:s})=>e.jsx("span",{className:s,children:t}),an=["january","february","march","april","may","june","july","august","september","october","november","december"],nn="_btn_11ww4_1",on="_btnDisabled_11ww4_13",rn="_svgSchedule_11ww4_17",cn="_svgPie_11ww4_18",ln="_calendarTitle_11ww4_28",dn="_month_11ww4_39",mn="_monthInd_11ww4_46",un="_monthYear_11ww4_69",xn="_statisticBtn_11ww4_76",_n="_svgArrowLeft_11ww4_86",hn="_svgArrowRight_11ww4_87",pn="_isHidden_11ww4_98",b={btn:nn,btnDisabled:on,svgSchedule:rn,svgPie:cn,calendarTitle:ln,month:dn,monthInd:mn,monthYear:un,statisticBtn:xn,svgArrowLeft:_n,svgArrowRight:hn,isHidden:pn},gn=()=>{const{t}=D(),s=R(),{date:a}=Z(),o=K(a),[r,l]=d.useState(new Date(o).getFullYear()),[i,u]=d.useState(new Date(o).getMonth()),v=N(ze),g=Ge().pathname.split("/").pop(),h=()=>{if(i===11){s(Q(new Date(r+1,0,4).getTime())),u(0),l(r+1);return}s(Q(new Date(r,i+1,4).getTime())),u(i+1)},m=()=>{if(i===0){s(Q(new Date(r-1,11,4).getTime())),u(11),l(r-1);return}s(Q(new Date(r,i-1,4).getTime())),u(i-1)},x=t(an[i]),T=t(g==="schedule"?"statistics":"month"),B=new Date(Date.now()).getFullYear(),k=new Date(Date.now()).getMonth(),F=new Date(B,k)<=new Date(r,i);return e.jsxs("div",{className:b.calendarTitle,children:[e.jsx(tn,{title:T,styles:b.month}),e.jsxs("div",{className:b.monthInd,children:[e.jsx("button",{onClick:m,className:b.btn,disabled:v,children:e.jsx("svg",{className:b.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx("span",{className:b.monthYear,children:`${x}, ${r}`}),e.jsx("button",{onClick:h,className:`${b.btn} ${F?b.btnDisabled:""} `,disabled:v||F,children:e.jsx("svg",{className:b.svgArrowRight,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx(pe,{to:"calendar",className:({isActive:M})=>I(b.statisticBtn,{[b.isHidden]:M}),children:e.jsx("svg",{className:b.svgSchedule,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})}),e.jsx(pe,{to:"schedule",className:({isActive:M})=>I(b.statisticBtn,{[b.isHidden]:M}),children:e.jsx("svg",{className:b.svgPie,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})})]})]})},jn=()=>e.jsxs("div",{children:[e.jsx(gn,{}),e.jsx(d.Suspense,{fallback:e.jsx(es,{}),children:e.jsx(Je,{})})]}),bn="_waterDetailedInfo_199e5_1",fn={waterDetailedInfo:bn},Nn=()=>e.jsxs("section",{className:fn.waterDetailedInfo,children:[e.jsx(xa,{}),e.jsx(sn,{}),e.jsx(jn,{})]}),vn="_waterPage_16oaj_1",Tn="_registerPageRight_16oaj_8",Bn={waterPage:vn,registerPageRight:Tn},Sn=()=>{const{date:t}=Z(),s=R(),a=K(t).getTime(),[o,r]=d.useState(!0);return d.useEffect(()=>{if(o){const l=Date.now();s(Ye()),s(Xe(a)),s(Q(a)),s(Qe(l)),r(!1)}},[o,a,s]),e.jsxs("div",{className:Bn.waterPage,children:[e.jsx(rt,{}),e.jsx(Nn,{})]})};export{Sn as default};
