import{j as s,A as y,r as d,u as T,c as $,a as k,g as M,l as A}from"./index-935469f1.js";import{A as E}from"./AdvantagesSection-2d899aae.js";import{c as a,G as L,a as B,F as q,b as z}from"./RegisterPage.module-7b98e2cb.js";import{u as v}from"./useModal-e31082ae.js";import{u as F,c as R,a as w,L as Z,o as V}from"./Loader-b248c160.js";import{s as x}from"./Logo-6b3bffc6.js";const H="_modal_p6pnm_1",D="_closeBtn_p6pnm_16",G="_svg_p6pnm_35",O="_modalTextBox_p6pnm_40",U="_modalTitle_p6pnm_50",W="_modalText_p6pnm_40",J="_modalForm_p6pnm_68",K="_inputField_p6pnm_76",Q="_errorInput_p6pnm_97",X="_error_p6pnm_97",Y="_modalBtnBox_p6pnm_106",ss="_btnSend_p6pnm_113",es="_btnCancel_p6pnm_114",o={modal:H,closeBtn:D,svg:G,modalTextBox:O,modalTitle:U,modalText:W,modalForm:J,inputField:K,errorInput:Q,error:X,modalBtnBox:Y,btnSend:ss,btnCancel:es},as=({onClose:e})=>{const{register:r,handleSubmit:n,formState:{errors:t,isSubmitting:m}}=F({defaultValues:{email:""}}),i=()=>{const c=setTimeout(()=>{e(),clearTimeout(c)},y.DURATION)},p=async c=>{console.log(c)};return s.jsxs("div",{className:o.modal,children:[s.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:i,className:o.closeBtn,children:s.jsx("svg",{className:o.svg,children:s.jsx("use",{xlinkHref:`${x}#icon-x`})})}),s.jsxs("div",{className:o.modalTextBox,children:[s.jsx("h2",{className:o.modalTitle,children:"Забули пароль? "}),s.jsx("p",{className:o.modalText,children:"Ми надішлемо вам електронний лист із посиланням для скидання пароля."})]}),s.jsxs("form",{onSubmit:n(p),className:o.modalForm,children:[s.jsx("input",{type:"email",placeholder:"Введіть свою електронну пошту",...r("email",{required:"Валідація пошти",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Валідація пошти"}}),className:`${o.inputField} ${t.email?o.errorInput:""}`}),t.email&&s.jsx("div",{className:o.error,children:t.email.message}),s.jsxs("div",{className:o.modalBtnBox,children:[s.jsx("button",{type:"submit",className:o.btnSend,disabled:m,children:"Відправити посилання для скидання паролю"}),s.jsx("button",{type:"button",className:o.btnCancel,onClick:i,children:"Відміна"})]})]})]})},os="_textBtn_12uyc_1",ts="_forgotPasswordBtn_12uyc_6",f={textBtn:os,forgotPasswordBtn:ts},rs=()=>{const e=v(),r=d.useCallback(()=>{e()},[e]),n=d.useCallback(()=>{e(s.jsx(as,{onClose:r}))},[e,r]);return s.jsxs("p",{className:f.textBtn,children:["Забули пароль?",s.jsx("button",{type:"button",className:f.forgotPasswordBtn,onClick:n,children:"Натисніть сюди"}),"для зміни паролю"]})},ns=()=>{var g,h,j,_,b,N;const{t:e}=T(),r=$(),n=k(M),[t,m]=d.useState(!1),i=v(),p=d.useCallback(()=>{i()},[i]),c=R({email:w().required(e("emailRequired")).email(e("enterValidEmail")),password:w().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),C=()=>{m(!t)},{register:u,handleSubmit:S,formState:{errors:l}}=F({resolver:V(c)}),I=P=>{r(A(P))};return s.jsx("div",{className:a.registerComponent,children:s.jsxs("form",{onSubmit:S(I),children:[s.jsx("h2",{className:a.registerTitle,children:e("logInTitle")}),s.jsxs("div",{className:a.registerForm,children:[s.jsxs("label",{className:a.registerLabel,children:[e("email"),s.jsx("input",{className:(g=l.email)!=null&&g.message?`${a.registerInputError}`:`${a.registerInput}`,...u("email"),placeholder:e("placeholderEmail")}),(h=l.email)!=null&&h.message?s.jsx("p",{className:a.registerErrorMessage,children:(j=l.email)==null?void 0:j.message}):""]}),s.jsxs("label",{className:a.registerLabel,children:[s.jsx("span",{children:e("password")}),s.jsxs("span",{className:a.registerPassword,children:[s.jsx("input",{type:t?"text":"password",className:(_=l.password)!=null&&_.message?`${a.registerInputError}`:`${a.registerInput}`,...u("password"),placeholder:e("placeholderPassword")}),s.jsx("button",{className:a.passwordIconBtn,type:"button",onClick:C,children:t===!1?s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:x+"#icon-eye-off"})}):s.jsx("svg",{className:a.passwordIcon,children:s.jsx("use",{xlinkHref:x+"#icon-eye"})})})]}),(b=l.password)!=null&&b.message?s.jsx("p",{className:a.registerErrorMessage,children:(N=l.password)==null?void 0:N.message}):""]}),s.jsx(rs,{onClose:p})]}),n?s.jsx("div",{className:a.registerButtonsContainer,children:s.jsx(Z,{height:44,width:44,label:"Увійти"})}):s.jsxs("div",{className:a.registerButtonsContainer,children:[s.jsx("button",{disabled:n&&!0,className:a.registerBtn,type:"submit",children:e("logIn")}),s.jsx(L,{})]})]})})},xs=()=>{const{t:e}=T();return s.jsxs("div",{className:B.registerPage,children:[s.jsxs(q,{children:[s.jsx(ns,{}),s.jsx(z,{link:"/register",text:e("footerText"),linkName:e("register")})]}),s.jsx("div",{className:B.registerPageRight,children:s.jsx(E,{})})]})};export{xs as default};
