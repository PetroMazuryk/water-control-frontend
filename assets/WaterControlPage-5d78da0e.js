import{r as i,M as ke,j as e,b as H,g as F,k as We,m as De,n as Z,i as Se,A as _e,o as Me,u as T,p as je,q as Pe,t as be,v as $e,w as Le,f as fe,x as Ie,y as Ne,z as Re,B as Fe,C as He,D as Ve,E as Ee,F as Ue,G as qe,H as Oe,N as pe,I as Q,O as ze,J as Ge,K as Je,P as Ye}from"./index-b914d864.js";import{p as K}from"./parseDate-629c4fe8.js";import{s as _,L as Xe}from"./sprite-e96b579a.js";import{$ as Qe,c as ve,a as Te,d as ae,u as Be,o as we,C as q,L as Ze}from"./Loader-cd74096a.js";import{u as M}from"./useTranslation-d278ccac.js";import{L as Ke}from"./LangSwitch-2b90cd3a.js";const ee=()=>i.useContext(ke),O=({width:t,height:s})=>e.jsx(Qe,{visible:!0,height:s,width:t,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:["#9be1a0","#f0eff4","#ffffffea","#87d28d","#323f47"]}),es="_WaterForm_1jleh_1",ss="_FormHeader_1jleh_13",ts="_AmountOfWater_1jleh_25",as="_TapAddWaterWrapper_1jleh_36",ns="_TapAddWater_1jleh_36",os="_TapAddWaterValue_1jleh_88",rs="_RecordingTimeLabel_1jleh_104",cs="_RecordingTime_1jleh_104",ls="_WaterValueLabel_1jleh_136",is="_WaterValue_1jleh_136",ds="_SaveBtn_1jleh_177",j={WaterForm:es,FormHeader:ss,AmountOfWater:ts,TapAddWaterWrapper:as,TapAddWater:ns,TapAddWaterValue:os,RecordingTimeLabel:rs,RecordingTime:cs,WaterValueLabel:ls,WaterValue:is,SaveBtn:ds,Error:"_Error_1jleh_213"},ms=({operationType:t="add",editTime:s,waterPortion:a,waterID:r,handleClose:n})=>{const[l,d]=i.useState(a),m=H(),[B,g]=i.useState(!1),N=new Date(s),h=N.getFullYear(),u=String(N.getMonth()+1).padStart(2,"0"),x=String(N.getDate()).padStart(2,"0"),v=t==="add"?new Date:N,w=String(v.getHours()).padStart(2,"0"),A=String(v.getMinutes()).padStart(2,"0"),[L,I]=i.useState(w),[V,z]=i.useState(A),G=ve().shape({recordingTime:Te().required("recordTimeRequired").matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"invalidTimeFormat"),waterValue:ae().required("waterValueRequired").min(50,"waterValueGreater").max(5e3,"waterValueLess")}),{control:c,handleSubmit:y,setValue:p,formState:{errors:R}}=Be({resolver:we(G),defaultValues:{recordingTime:`${L}:${V}`,waterValue:l.toString()}}),ne=C=>{const se=new Date(`${h}-${u}-${x}T${L}:${V}:00`).getTime().toString(),ce={amount:C.waterValue,date:se},Ae={amount:C.waterValue,date:se};switch(g(!0),t){case"add":m(De(ce)).then(({error:le})=>{le?g(!1):(g(!1),n())});break;case"edit":m(We({id:r,formData:Ae})).then(({error:le})=>{le?g(!1):(g(!1),n())});break;default:g(!1);break}},oe=C=>{switch(C){case"add":return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"});case"edit":return e.jsx("p",{className:j.FormHeader,children:"Виправити дані:"});default:return e.jsx("p",{className:j.FormHeader,children:"Оберіть значення:"})}},k=C=>{d(C),p("waterValue",C.toString())},S=l===50,re=l===5e3;return e.jsxs("form",{className:j.WaterForm,onSubmit:y(ne),children:[oe(t),e.jsx("p",{className:j.AmountOfWater,children:"Кількість води:"}),e.jsxs("div",{className:j.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(Math.max(l-50,0)),disabled:S,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-minus"})})}),e.jsxs("p",{className:j.TapAddWaterValue,children:[l," ","ml"]}),e.jsx("button",{type:"button",className:j.TapAddWater,onClick:()=>k(l+50),disabled:re,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:_+"#icon-plus"})})})]}),e.jsxs("label",{className:j.RecordingTimeLabel,children:["Час запису:",e.jsx(q,{name:"recordingTime",control:c,render:({field:C})=>e.jsx("input",{...C,type:"text",className:F(j.RecordingTime),placeholder:"HH:MM",onChange:J=>{const[se,ce]=J.target.value.split(":");I(se),z(ce),C.onChange(J)}})}),R.recordingTime&&e.jsx("p",{className:j.Error,children:R.recordingTime.message})]}),e.jsxs("label",{className:j.WaterValueLabel,children:["Введіть обєм води:",e.jsx(q,{name:"waterValue",control:c,render:({field:C})=>e.jsx("input",{...C,type:"number",value:l||"",onChange:J=>k(Number(J.target.value)),className:j.WaterValue})}),R.waterValue&&e.jsx("p",{className:j.Error,children:R.waterValue.message})]}),e.jsx("button",{type:"submit",className:j.SaveBtn,disabled:B,children:B?e.jsx(O,{height:44,width:44}):"Зберегти"})]})},us={DURATION:15},xs="_WaterModal_198kh_1",_s="_WaterModalCloseBtn_198kh_22",ge={WaterModal:xs,WaterModalCloseBtn:_s},he=({operationType:t,onClose:s,water:a={},timestampFromUrl:r=""})=>{const n=()=>{const h=setTimeout(()=>{s(),clearTimeout(h)},us.DURATION)},l=h=>{switch(h){case"add":return"Додавання води";case"edit":return"Редагувати кількість води";default:return"Додавання води"}},d=Number(r),m=Number(a.date),B=h=>{switch(h){case"add":return d;case"edit":return m}},g=h=>{switch(h){case"add":return 50;case"edit":return a.amount;default:return 50}},N=h=>{switch(h){case"add":return null;case"edit":return a.id;default:return null}};return e.jsxs("div",{className:ge.WaterModal,children:[e.jsx("h1",{children:l(t)}),e.jsx(ms,{operationType:t,editTime:B(t),waterPortion:g(t),waterID:N(t),handleClose:n}),e.jsx("button",{type:"button",onClick:n,"aria-label":"closeWaterModal",className:ge.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})})]})},hs="_btnAdd_zsldf_1",ps="_btnText_zsldf_14",gs="_plus_zsldf_15",ie={btnAdd:hs,btnText:ps,plus:gs},js=()=>{const{t}=M(),s=ee(),{date:a}=Z(),r=K(a),n=i.useCallback(()=>{s()},[s]),l=i.useCallback(()=>{s(e.jsx(he,{onClose:n,operationType:"add",timestampFromUrl:r}))},[s,n,r]);return e.jsxs("button",{type:"button",className:ie.btnAdd,onClick:l,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsx("h2",{className:ie.btnText,children:t("addWater")})]})},bs="_modal_10779_1",fs="_closeBtn_10779_16",Ns="_svg_10779_35",vs="_modalTextBox_10779_40",Ts="_modalTitle_10779_50",Bs="_modalText_10779_40",ws="_modalBtnBox_10779_70",ys="_userCountItem_10779_80",Cs="_like_10779_94",As="_likeActive_10779_105",ks="_loaderWrapper_10779_110",Ws="_btnCancel_10779_156",W={modal:bs,closeBtn:fs,svg:Ns,modalTextBox:vs,modalTitle:Ts,modalText:Bs,modalBtnBox:ws,userCountItem:ys,like:Cs,likeActive:As,loaderWrapper:ks,btnCancel:Ws},Ds=({onClose:t,currentAccess:s})=>{const a=H(),[r,n]=i.useState({}),[l,d]=i.useState([]),[m,B]=i.useState(s),g="admin2006@gmail.com";i.useEffect(()=>{async function u(){try{const x=await Se();d(x.data.users),B(!m)}catch(x){console.log(x.message)}}u()},[]);const N=()=>{const u=setTimeout(()=>{t(),clearTimeout(u)},_e.DURATION)},h=async(u,x)=>{try{n(w=>({...w,[u]:!0}));const v=await a(Me({id:u,access:!x}));v.error?console.error("Помилка оновлення доступу:",v.error):d(w=>w.map(A=>A.id===u?{...A,access:!x}:A))}catch(v){console.error("Щось пішло не так:",v)}finally{n(v=>({...v,[u]:!1}))}};return e.jsxs("div",{className:W.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:N,className:W.closeBtn,children:e.jsx("svg",{className:W.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:W.modalTextBox,children:[e.jsx("h2",{className:W.modalTitle,children:"Список усіх користувачів"}),l.length>0?e.jsx("ul",{className:W.userCountList,children:l.filter(u=>u.email!==g).map(u=>e.jsxs("li",{className:W.userCountItem,children:[e.jsx("p",{children:u.email}),e.jsx("div",{className:W.loaderWrapper,children:r[u.id]?e.jsx(O,{height:30,width:30}):e.jsx("button",{children:e.jsx("svg",{onClick:()=>h(u.id,u.access),className:`${W.like} ${u.access?W.likeActive:""}`,children:e.jsx("use",{href:`${_}#icon-heart`})})})})]},u.id))}):e.jsx("p",{children:"Користувачі не знайдені."})]})]})},Ss="_btnAdd_a3w66_1",Ms="_btnText_a3w66_15",Ps="_plus_a3w66_16",de={btnAdd:Ss,btnText:Ms,plus:Ps},$s=()=>{const{t}=M(),s=ee(),a=i.useCallback(()=>{s(e.jsx(Ds,{onClose:()=>s(null)}))},[s]);return e.jsxs("button",{type:"button",className:de.btnAdd,onClick:a,children:[e.jsx("svg",{className:de.plus,children:e.jsx("use",{xlinkHref:`${_}#icon-admin`})}),e.jsx("h2",{className:de.btnText,children:t("adminBtn")})]})},Ls=["januaryDay","februaryDay","marchDay","aprilDay","mayDay","juneDay","julyDay","augustDay","septemberDay","octoberDay","novemberDay","decemberDay"],Is=(t,s)=>{const a=new Date;return{isToday:a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate(),day:t.getDate(),month:s(Ls[t.getMonth()])}},Rs="_selectedDate_14sit_1",Fs={selectedDate:Rs},ye=({className:t})=>{const{t:s}=M(),{date:a}=Z(),{isToday:r,day:n,month:l}=Is(K(a),s),d=r?s("today"):`${n} ${l}`;return e.jsx("p",{className:F(Fs.selectedDate,t),children:d})},Hs="_progressBarContainer_v5cic_1",Vs="_progressBarTitle_v5cic_14",Es="_progressBar_v5cic_1",Us="_progressBarFill_v5cic_29",qs="_belowAim_v5cic_38",Os="_aboveAim_v5cic_44",zs="_belowAimRate_v5cic_50",Gs="_aboveAimRate_v5cic_54",Js="_ball_v5cic_58",Ys="_percentNumber_v5cic_69",Xs="_percentContainer_v5cic_79",Qs="_percent_v5cic_69",b={progressBarContainer:Hs,progressBarTitle:Vs,progressBar:Es,progressBarFill:Us,belowAim:qs,aboveAim:Os,belowAimRate:zs,aboveAimRate:Gs,ball:Js,percentNumber:Ys,percentContainer:Xs,percent:Qs},Zs=()=>{const t=T(je),a=(l=>!l||l.length===0?0:l.reduce((d,m)=>{const B=m.percentage||0;return d+B},0))(t),r=a<100,n=Math.min(Math.max(a,0),100);return e.jsxs("div",{className:b.progressBarContainer,children:[e.jsx("h3",{className:b.progressBarTitle,children:e.jsx(ye,{})}),e.jsx("div",{className:b.progressBar,children:e.jsxs("div",{className:F(b.progressBarFill,{[b.belowAim]:r,[b.aboveAim]:!r}),style:{width:`${n}%`},children:[e.jsx("p",{className:F(b.percentNumber,{[b.belowAimRate]:r,[b.aboveAimRate]:!r}),children:a>=100?"Норма":`${a.toFixed(0)}%`}),e.jsx("div",{className:F(b.ball,{[b.belowAim]:a<100,[b.aboveAim]:a>=100})})]})}),e.jsxs("div",{className:b.percentContainer,children:[e.jsx("p",{className:b.percent,children:"0%"}),e.jsx("p",{className:b.percent,children:"50%"}),e.jsx("p",{className:b.percent,children:"100%"})]})]})},Ks="_waterContainer_szgl7_1",et="_normaContainer_szgl7_16",st="_normaL_szgl7_28",tt="_normaText_szgl7_35",at="_waterTitle_szgl7_53",Y={waterContainer:Ks,normaContainer:et,normaL:st,normaText:tt,waterTitle:at},nt=()=>{const{t}=M(),s=T(Pe),a=T(be),r="admin2006@gmail.com",n=s<1?`${s*1e3} ${t("ml")}`:`${s} ${t("l")}`;return e.jsxs("div",{className:Y.waterContainer,children:[e.jsx(Xe,{className:Y.waterTitle}),s===0?"":e.jsxs("div",{className:Y.normaContainer,children:[e.jsx("h2",{className:Y.normaL,children:n}),e.jsx("p",{className:Y.normaText,children:t("dailyNorm")})]}),s===0?"":e.jsx(Zs,{}),s===0?"":e.jsx(js,{}),a===r&&e.jsx($s,{})]})},ot="_btnLogout_1xwlm_1",rt={btnLogout:ot},ct=({handleClose:t})=>{const s=H(),a=$e(),r=()=>{s(Le()).then(({error:n})=>{n||(a("/"),t())})};return e.jsx("button",{type:"button",onClick:r,className:rt.btnLogout,children:"Вийти"})},lt="_modal_1spmq_1",it="_closeBtn_1spmq_16",dt="_svg_1spmq_35",mt="_modalTextBox_1spmq_40",ut="_modalTitle_1spmq_50",xt="_modalText_1spmq_40",_t="_modalBtnBox_1spmq_70",ht="_btnCancel_1spmq_80",P={modal:lt,closeBtn:it,svg:dt,modalTextBox:mt,modalTitle:ut,modalText:xt,modalBtnBox:_t,btnCancel:ht},pt=({onClose:t})=>{const s=T(fe),a=()=>{const r=setTimeout(()=>{t(),clearTimeout(r)},_e.DURATION)};return e.jsxs("div",{className:P.modal,children:[e.jsx("button",{type:"button","aria-label":"closeLogOutModal",onClick:a,className:P.closeBtn,children:e.jsx("svg",{className:P.svg,children:e.jsx("use",{xlinkHref:`${_}#icon-x`})})}),e.jsxs("div",{className:P.modalTextBox,children:[e.jsx("h2",{className:P.modalTitle,children:"Вийти"}),e.jsx("p",{className:P.modalText,children:"Ви дійсно хочете вийти?"})]}),e.jsx("div",{className:P.modalBtnBox,children:s?e.jsx(O,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:a,className:P.btnCancel,children:"Скасувати"}),e.jsx(ct,{handleClose:a})]})})]})},Ce="data:image/png;base64,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",gt="_userAvatar_1fnxk_1",jt="_loader_1fnxk_20",bt="_uploadContainer_1fnxk_28",ft="_icon_1fnxk_36",Nt="_ordinaryText_1fnxk_49",vt="_hideBtn_1fnxk_72",Tt="_userSettingForm_1fnxk_76",Bt="_boldText_1fnxk_95",wt="_genderContainer_1fnxk_101",yt="_radioContainer_1fnxk_106",Ct="_radioInput_1fnxk_116",At="_userPreferences_1fnxk_141",kt="_formNameEmail_1fnxk_147",Wt="_formWeightTime_1fnxk_152",Dt="_formula_1fnxk_165",St="_inputBox_1fnxk_169",Mt="_formulaDescription_1fnxk_193",Pt="_formulaExpression_1fnxk_207",$t="_temporarySymbol_1fnxk_221",Lt="_formulaDescriptionText_1fnxk_231",It="_submitBtn_1fnxk_235",Rt="_loaderWrapper_1fnxk_259",Ft="_boldTextBtn_1fnxk_266",Ht="_consumeWater_1fnxk_273",Vt="_userNorma_1fnxk_280",Et="_langButton_1fnxk_288",Ut="_errorMessage_1fnxk_298",o={userAvatar:gt,loader:jt,uploadContainer:bt,icon:ft,ordinaryText:Nt,hideBtn:vt,userSettingForm:Tt,boldText:Bt,genderContainer:wt,radioContainer:yt,radioInput:Ct,userPreferences:At,formNameEmail:kt,formWeightTime:Wt,formula:Dt,inputBox:St,formulaDescription:Mt,formulaExpression:Pt,temporarySymbol:$t,formulaDescriptionText:Lt,submitBtn:It,loaderWrapper:Rt,boldTextBtn:Ft,consumeWater:Ht,userNorma:Vt,langButton:Et,errorMessage:Ut},qt=({handleClose:t})=>{const s=H(),a=T(Ie),r=T(Ne),[n,l]=i.useState(0),d=T(fe),m=T(Re),B=ve({name:Te().min(2,"Назва має містити не менше 2 символів").max(60,"Максимальна кількість символів імені 60").required("Імя обовязково"),weight:ae().min(0).max(300,"Вага значення менше 300").typeError("Має бути числом"),dailyActiveTime:ae().min(0).max(12,"Час активного спорту").typeError("Має бути числом"),dailyWaterConsumption:ae().min(0).max(8,"Добове споживання води максимум 8 л").typeError("Має бути числом")}),{control:g,register:N,handleSubmit:h,watch:u,formState:{errors:x}}=Be({resolver:we(B),defaultValues:{email:a.email,gender:a.gender,name:a.name,weight:a.weight,dailyActiveTime:a.dailyActiveTime,dailyWaterConsumption:a.dailyWaterConsumption},mode:"onChange"}),v=u("weight"),w=u("gender"),A=u("dailyActiveTime");i.useEffect(()=>{let c;const y=parseInt(v||0),p=parseInt(A||0);w==="woman"?c=y*.03+p*.4:c=y*.04+p*.6,l(Math.min(parseFloat(c),8).toFixed(2))},[A,w,v]);const L=c=>{const{photo:y,...p}=a;/\s$/.test(c.name)&&(c.name=c.name.trim());const ne=Object.keys(p).sort().reduce((k,S)=>(k[S]=p[S],k),{}),oe=Object.keys(c).sort().reduce((k,S)=>(k[S]=c[S],k),{});if(JSON.stringify(ne)!==JSON.stringify(oe)){const{email:k,...S}=c;s(Fe(S)).then(({error:re})=>{re||t()})}else t()},I=c=>{const y=new FormData,p=c.target.files[0];p&&(y.append("avatar",p),s(He(y)))},V=c=>y=>{let p=y.target.value;(p===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(p))&&c.onChange(p)},z=c=>()=>{c.value===0&&c.onChange("")},G=c=>()=>{c.value===""?c.onChange(0):c.value.startsWith(".")&&c.onChange("0"+c.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.userAvatar,children:[m?e.jsx("div",{className:o.loader,children:e.jsx(O,{})}):e.jsx("img",{src:r||`${Ce}`,alt:"User photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:o.uploadContainer,children:[e.jsx("svg",{className:o.icon,children:e.jsx("use",{xlinkHref:`${_}#icon-upload`})}),e.jsx("span",{className:o.ordinaryText,children:"Завантажити фото"})]}),e.jsx("input",{className:o.hideBtn,type:"file",accept:"image/*",onChange:I}),x.avatar&&e.jsx("p",{children:x.avatar.message})]})]}),e.jsxs("form",{onSubmit:h(L),className:o.userSettingForm,children:[e.jsx("div",{className:o.genderContainer,children:e.jsxs("label",{className:o.genderIdentity,children:[e.jsx("span",{className:o.boldText,children:"Ваша стать"}),e.jsxs("div",{className:o.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:o.radioInput,...N("gender"),value:"woman",checked:w==="woman"}),e.jsx("label",{htmlFor:"woman",className:o.ordinaryText,children:"Жіноче"}),e.jsx("input",{type:"radio",id:"man",className:o.radioInput,...N("gender"),value:"man",checked:w==="man"}),e.jsx("label",{htmlFor:"man",className:o.ordinaryText,children:"Чоловіче"})]}),x.gender&&e.jsx("p",{className:o.errorMessage,children:x.gender.message})]})}),e.jsxs("div",{className:o.userPreferences,children:[e.jsxs("div",{className:o.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:"Ваше ім'я"}),e.jsx(q,{render:({field:c})=>e.jsx("input",{...c,className:o.inputBox,placeholder:"Користувач",onChange:y=>{let p=y.target.value;/^\s|\s{2}$/.test(p)||c.onChange(p)}}),name:"name",control:g}),x.name&&e.jsx("p",{className:o.errorMessage,children:x.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:"Пошта"}),e.jsx("input",{disabled:!0,...N("email"),className:o.inputBox,placeholder:"placeholderEmail"})]}),e.jsxs("div",{className:o.formula,children:[e.jsx("p",{className:o.boldText,children:"Моя щоденна норма"}),e.jsxs("div",{className:o.formulaDescription,children:[e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{children:"Для жінок: "}),e.jsx("span",{className:o.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{children:"Для чоловіків: "}),e.jsx("span",{className:o.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{className:o.formulaExpression,children:"* "}),e.jsx("span",{className:o.formulaDescriptionText,children:"* V - об'єм водної норми в літрах на день, М - ваша вага, Т - час активних занять спортом або іншої активної діяльності (у разі відсутності встановіть 0)"})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{className:o.temporarySymbol,children:"! "}),"Активний час (години)"]})]})]}),e.jsxs("div",{className:o.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:o.ordinaryText,children:"Ваша вага (кг):"}),e.jsx(q,{name:"weight",control:g,render:({field:c})=>e.jsx("input",{...c,className:o.inputBox,onChange:V(c),onFocus:z(c),onBlur:G(c)})}),x.weight&&e.jsx("p",{className:o.errorMessage,children:x.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.ordinaryText,children:"Час активних занять спортом:"}),e.jsx(q,{name:"dailyActiveTime",control:g,render:({field:c})=>e.jsx("input",{...c,className:o.inputBox,onChange:V(c),onFocus:z(c),onBlur:G(c)})}),x.dailyActiveTime&&e.jsx("p",{className:o.errorMessage,children:x.dailyActiveTime.message})]}),e.jsxs("div",{className:o.consumeWater,children:[e.jsxs("p",{className:o.ordinaryText,children:["Потрібна кількість води в літрах на день:  ",e.jsxs("span",{className:o.userNorma,children:[isNaN(n)?0:n," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:"Запишіть, скільки води ви вип'єте:"}),e.jsx(q,{name:"dailyWaterConsumption",control:g,render:({field:c})=>e.jsx("input",{...c,className:o.inputBox,onChange:V(c),onFocus:z(c),onBlur:G(c)})}),x.dailyWaterConsumption&&e.jsx("p",{className:o.errorMessage,children:x.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:d,type:"submit",className:`${o.submitBtn} ${o.boldTextBtn}`,children:["Зберегти",d&&e.jsx("div",{className:o.loaderWrapper,children:e.jsx(O,{height:56,width:56})})]})]})]})},Ot="_modalSettingContainer_1md4x_1",zt="_modalHeader_1md4x_14",Gt="_closeBtn_1md4x_29",Jt="_icon_1md4x_44",te={modalSettingContainer:Ot,modalHeader:zt,closeBtn:Gt,icon:Jt},Yt=({onClose:t})=>e.jsxs("div",{className:te.modalSettingContainer,children:[e.jsxs("div",{className:te.modalHeader,children:[e.jsx("h2",{children:"Налаштування"}),e.jsx(Ke,{}),e.jsx("button",{type:"button","aria-label":"closeSettingModal",className:te.closeBtn,onClick:t,children:e.jsx("svg",{className:te.icon,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})})]}),e.jsx(qt,{handleClose:t})]}),Xt="_userBarPopup_1ap7q_1",Qt="_userBarPopupList_1ap7q_16",Zt="_userBarPopupListItem_1ap7q_23",Kt="_userBarPopupIcon_1ap7q_40",E={userBarPopup:Xt,userBarPopupList:Qt,userBarPopupListItem:Zt,userBarPopupIcon:Kt},ea=()=>{const{t}=M(),s=ee(),a=i.useCallback(()=>{s()},[s]),r=i.useCallback(()=>{s(e.jsx(Yt,{onClose:a}))},[s,a]),n=i.useCallback(()=>{s(e.jsx(pt,{onClose:a}))},[s,a]);return e.jsx("div",{className:E.userBarPopup,children:e.jsxs("ul",{className:E.userBarPopupList,children:[e.jsxs("li",{className:E.userBarPopupListItem,onClick:r,children:[e.jsx("svg",{className:E.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-settings`})}),t("settingLink")]}),e.jsxs("li",{className:E.userBarPopupListItem,onClick:n,children:[e.jsx("svg",{className:E.userBarPopupIcon,children:e.jsx("use",{xlinkHref:`${_}#icon-log-out`})}),t("logout")]})]})})},sa="_userBarWrapper_1k17p_1",ta="_userBar_1k17p_1",aa="_userBarText_1k17p_24",na="_userBarAvatar_1k17p_32",oa="_userBarIcon_1k17p_44",ra="_rotate_1k17p_56",U={userBarWrapper:sa,userBar:ta,userBarText:aa,userBarAvatar:na,userBarIcon:oa,rotate:ra},ca=({name:t})=>{const[s,a]=i.useState(!1),r=T(Ne),n=i.useRef(null),l=m=>{n.current&&!n.current.contains(m.target)&&m.target.name!=="openPopover"&&a(!1)};i.useEffect(()=>(s?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}),[s]);const d=()=>{a(m=>!m)};return e.jsxs("div",{className:U.userBarWrapper,children:[e.jsxs("button",{className:U.userBar,type:"button",name:"openPopover",onClick:d,"aria-label":"openCloseUserPanel",children:[e.jsx("div",{className:U.userBarText,children:t}),e.jsx("div",{className:U.userBarAvatar,style:{backgroundImage:`url(${r||Ce})`}}),e.jsx("svg",{className:`${U.userBarIcon} ${s?U.rotate:""}`,children:e.jsx("use",{xlinkHref:`${_}#icon-chevron-down`})})]}),s&&e.jsx("div",{ref:n,children:e.jsx(ea,{})})]})},la="_userPanel_iff7o_1",ia="_userPanelTitle_iff7o_7",da="_userPanelTitleName_iff7o_18",me={userPanel:la,userPanelTitle:ia,userPanelTitleName:da},ma=()=>{const{t}=M(),s=T(Ve),a=T(be),r=a?a.split("@")[0]:null,n=s==="User"?r:s;return e.jsxs("div",{className:me.userPanel,children:[e.jsxs("h1",{className:me.userPanelTitle,children:[t("hello"),e.jsx("span",{className:me.userPanelTitleName,children:n})]}),e.jsx(ca,{name:s})]})},ua="_btnStyle_445u2_1",xa="_iconStyle_445u2_15",_a="_btnStyleText_445u2_31",ue={btnStyle:ua,iconStyle:xa,btnStyleText:_a},ha=()=>{const{t}=M(),s=ee(),a=i.useCallback(()=>{s()},[s]),{date:r}=Z(),n=K(r).getTime(),l=i.useCallback(()=>{s(e.jsx(he,{onClose:a,operationType:"add",timestampFromUrl:n}))},[s,a,n]);return e.jsxs("button",{className:ue.btnStyle,type:"button",onClick:l,children:[e.jsx("svg",{className:ue.iconStyle,children:e.jsx("use",{xlinkHref:`${_}#icon-plus`})}),e.jsxs("span",{className:ue.btnStyleText,children:[" ",t("addWater")]})]})},pa=t=>{const s=new Date(Number(t));let a=s.getHours();const r=s.getMinutes(),n=a>=12?"PM":"AM";a>=12&&(a=a%12,a=a||12);const l=a.toString().padStart(2,"0"),d=r.toString().padStart(2,"0");return`${l}:${d} ${n}`},ga=t=>t>=1e3?{value:t/1e3,text:"л"}:{value:t,text:"мл"},ja="_btnDelete_19mt5_1",ba={btnDelete:ja},fa=({isLoading:t,handleDelete:s})=>e.jsx("button",{type:"button",className:ba.btnDelete,onClick:()=>s(),disabled:t,children:"Видалити"}),Na="_modal_z4bq9_1",va="_closeBtn_z4bq9_16",Ta="_svg_z4bq9_35",Ba="_modalTextBox_z4bq9_40",wa="_modalTitle_z4bq9_50",ya="_modalText_z4bq9_40",Ca="_modalBtnBox_z4bq9_70",Aa="_btnCancel_z4bq9_80",$={modal:Na,closeBtn:va,svg:Ta,modalTextBox:Ba,modalTitle:wa,modalText:ya,modalBtnBox:Ca,btnCancel:Aa},ka=({id:t,onClose:s})=>{const a=H(),[r,n]=i.useState(!1),l=()=>{const m=setTimeout(()=>{s(),clearTimeout(m)},_e.DURATION)},d=()=>{n(()=>!0),a(Ee(t)).then(({error:m})=>{m?console.error("Помилка видалення запису:",m):l(),n(!1)})};return e.jsxs("div",{className:$.modal,children:[e.jsx("button",{type:"button","aria-label":"closeDeleteEntryModal",onClick:l,className:$.closeBtn,children:e.jsx("svg",{className:$.svg,children:e.jsx("use",{xlinkHref:_+"#icon-x"})})}),e.jsxs("div",{className:$.modalTextBox,children:[e.jsx("h2",{className:$.modalTitle,children:"Видалити запис"}),e.jsx("p",{className:$.modalText,children:"Ви дійсно хочете видалити запис ?"})]}),e.jsx("div",{className:$.modalBtnBox,children:r?e.jsx(O,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:l,className:$.btnCancel,children:"Відміна"}),e.jsx(fa,{handleDelete:d,id:t})]})})]})},Wa="_waterItemContent_1msly_1",Da="_waterInfo_1msly_12",Sa="_waterAmount_1msly_15",Ma="_waterDate_1msly_22",Pa="_iconWaterGlass_1msly_28",$a="_editButton_1msly_40",La="_deleteButton_1msly_41",Ia="_containerButtons_1msly_53",Ra="_iconAction_1msly_59",D={waterItemContent:Wa,waterInfo:Da,waterAmount:Sa,waterDate:Ma,iconWaterGlass:Pa,editButton:$a,deleteButton:La,containerButtons:Ia,iconAction:Ra},Fa=({water:t})=>{const s=ee(),a=i.useCallback(()=>{s()},[s]),r=i.useCallback(()=>{s(e.jsx(ka,{id:t.id,onClose:a}))},[s,a,t]),n=i.useCallback(()=>{s(e.jsx(he,{water:t,onClose:a,operationType:"edit"}))},[s,a,t]),l=ga(t.amount);return e.jsxs("div",{className:D.waterItemContent,children:[e.jsx("svg",{className:D.iconWaterGlass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:_+"#icon-glass"})}),e.jsxs("div",{className:D.waterInfo,children:[e.jsx("p",{className:D.waterAmount,children:`${l.value} ${l.text}`}),e.jsx("p",{className:D.waterDate,children:pa(t.date)})]}),e.jsxs("div",{className:D.containerButtons,children:[e.jsx("button",{className:D.editButton,onClick:n,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:D.iconAction,width:"14",height:"14",children:e.jsx("use",{href:`${_}#icon-edit`})})}),e.jsx("button",{className:D.deleteButton,onClick:r,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:D.iconAction,width:"14",height:"14",children:e.jsx("use",{xlinkHref:`${_}#icon-trash`})})})]})]})},Ha="_waterList_nhslc_1",Va="_messageContainer_nhslc_12",Ea="_noWater_nhslc_21",Ua="_skeleton_nhslc_68",qa="_shimmer_nhslc_1",X={waterList:Ha,messageContainer:Va,noWater:Ea,skeleton:Ua,shimmer:qa},Oa=()=>{const{t}=M(),s=T(je);return T(Ue)?e.jsx("div",{className:X.waterList,children:[1,2,3].map(r=>e.jsx("div",{className:X.skeleton},r))}):s.length?e.jsx("ul",{className:X.waterList,children:s.map(r=>e.jsx("li",{children:e.jsx(Fa,{water:r})},r.id))}):e.jsx("div",{className:X.messageContainer,children:e.jsx("h2",{className:X.noWater,children:t("noWaterMessage")})})},za="_info_iy33z_1",Ga="_dailyFont_iy33z_7",Ja="_header_iy33z_20",Ya="_title_iy33z_28",Xa="_button_iy33z_43",Qa="_icon_iy33z_67",Za="_iconBackground_iy33z_90",xe={info:za,dailyFont:Ga,header:Ja,title:Ya,button:Xa,icon:Qa,iconBackground:Za},Ka=()=>e.jsxs("div",{className:xe.info,children:[e.jsxs("div",{className:xe.header,children:[e.jsx(ye,{className:xe.dailyFont}),e.jsx(ha,{})]}),e.jsx(Oa,{})]}),en=({title:t,styles:s})=>e.jsx("span",{className:s,children:t}),sn=["january","february","march","april","may","june","july","august","september","october","november","december"],tn="_btn_11ww4_1",an="_btnDisabled_11ww4_13",nn="_svgSchedule_11ww4_17",on="_svgPie_11ww4_18",rn="_calendarTitle_11ww4_28",cn="_month_11ww4_39",ln="_monthInd_11ww4_46",dn="_monthYear_11ww4_69",mn="_statisticBtn_11ww4_76",un="_svgArrowLeft_11ww4_86",xn="_svgArrowRight_11ww4_87",_n="_isHidden_11ww4_98",f={btn:tn,btnDisabled:an,svgSchedule:nn,svgPie:on,calendarTitle:rn,month:cn,monthInd:ln,monthYear:dn,statisticBtn:mn,svgArrowLeft:un,svgArrowRight:xn,isHidden:_n},hn=()=>{const{t}=M(),s=H(),{date:a}=Z(),r=K(a),[n,l]=i.useState(new Date(r).getFullYear()),[d,m]=i.useState(new Date(r).getMonth()),B=T(qe),N=Oe().pathname.split("/").pop(),h=()=>{if(d===11){s(Q(new Date(n+1,0,4).getTime())),m(0),l(n+1);return}s(Q(new Date(n,d+1,4).getTime())),m(d+1)},u=()=>{if(d===0){s(Q(new Date(n-1,11,4).getTime())),m(11),l(n-1);return}s(Q(new Date(n,d-1,4).getTime())),m(d-1)},x=t(sn[d]),v=t(N==="schedule"?"statistics":"month"),w=new Date(Date.now()).getFullYear(),A=new Date(Date.now()).getMonth(),L=new Date(w,A)<=new Date(n,d);return e.jsxs("div",{className:f.calendarTitle,children:[e.jsx(en,{title:v,styles:f.month}),e.jsxs("div",{className:f.monthInd,children:[e.jsx("button",{onClick:u,className:f.btn,disabled:B,children:e.jsx("svg",{className:f.svgArrowLeft,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx("span",{className:f.monthYear,children:`${x}, ${n}`}),e.jsx("button",{onClick:h,className:`${f.btn} ${L?f.btnDisabled:""} `,disabled:B||L,children:e.jsx("svg",{className:f.svgArrowRight,children:e.jsx("use",{xlinkHref:`${_}#icon-arrow`})})}),e.jsx(pe,{to:"calendar",className:({isActive:I})=>F(f.statisticBtn,{[f.isHidden]:I}),children:e.jsx("svg",{className:f.svgSchedule,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})}),e.jsx(pe,{to:"schedule",className:({isActive:I})=>F(f.statisticBtn,{[f.isHidden]:I}),children:e.jsx("svg",{className:f.svgPie,children:e.jsx("use",{xlinkHref:`${_}#icon-pie-chart`})})})]})]})},pn=()=>e.jsxs("div",{children:[e.jsx(hn,{}),e.jsx(i.Suspense,{fallback:e.jsx(Ze,{}),children:e.jsx(ze,{})})]}),gn="_waterDetailedInfo_199e5_1",jn={waterDetailedInfo:gn},bn=()=>e.jsxs("section",{className:jn.waterDetailedInfo,children:[e.jsx(ma,{}),e.jsx(Ka,{}),e.jsx(pn,{})]}),fn="_waterPage_16oaj_1",Nn="_registerPageRight_16oaj_8",vn={waterPage:fn,registerPageRight:Nn},kn=()=>{const{date:t}=Z(),s=H(),a=K(t).getTime(),[r,n]=i.useState(!0);return i.useEffect(()=>{if(r){const l=Date.now();s(Ge()),s(Je(a)),s(Q(a)),s(Ye(l)),n(!1)}},[r,a,s]),e.jsxs("div",{className:vn.waterPage,children:[e.jsx(nt,{}),e.jsx(bn,{})]})};export{kn as default};
