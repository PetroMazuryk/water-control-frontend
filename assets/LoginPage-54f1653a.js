import{u as b,c as C,j as s,A as M,k as E,l as v,r as x,a as A,g as L,m as R}from"./index-d5983dea.js";import{A as V}from"./AdvantagesSection-f4b812e3.js";import{c as o,G as H,a as q,F as z,b as D}from"./RegisterPage.module-deb91504.js";import{u as S}from"./useModal-9dd2f90f.js";import{c as I,a as j,u as P,o as k}from"./index.esm-bfbc1152.js";import{L as G}from"./Loader-563f63ec.js";import{s as _}from"./sprite-979376ad.js";import"./Logo-36b36a8e.js";const O="_modal_qy9op_1",Z="_closeBtn_qy9op_15",U="_svg_qy9op_31",W="_modalTextBox_qy9op_36",J="_modalTitle_qy9op_45",K="_modalText_qy9op_36",Q="_modalForm_qy9op_63",X="_inputField_qy9op_71",Y="_errorInput_qy9op_87",ss="_error_qy9op_87",es="_modalBtnBox_qy9op_96",os="_btnSend_qy9op_103",ts="_btnCancel_qy9op_120",a={modal:O,closeBtn:Z,svg:U,modalTextBox:W,modalTitle:J,modalText:K,modalForm:Q,inputField:X,errorInput:Y,error:ss,modalBtnBox:es,btnSend:os,btnCancel:ts},as=({onClose:e})=>{const{t}=b(),l=C(),n=I({email:j().required(t("emailRequired")).email(t("enterValidEmail"))}),{register:u,handleSubmit:d,reset:g,formState:{errors:i,isSubmitting:m}}=P({resolver:k(n),defaultValues:{email:""}}),c=()=>{const r=setTimeout(()=>{e(),clearTimeout(r)},M.DURATION)},h=async({email:r})=>{try{await l(E(r)).unwrap(),v.success("Посилання для скидання паролю успішно надіслано"),g()}catch(p){v.error(typeof p=="string"?p:"Сталася помилка. Спробуйте ще раз.")}};return s.jsxs("div",{className:a.modal,children:[s.jsx("button",{type:"button","aria-label":"closeForgotPasswordModal",onClick:c,className:a.closeBtn,children:s.jsx("svg",{className:a.svg,children:s.jsx("use",{xlinkHref:`${_}#icon-x`})})}),s.jsxs("div",{className:a.modalTextBox,children:[s.jsx("h2",{className:a.modalTitle,children:t("forgotTitle")}),s.jsx("p",{className:a.modalText,children:t("forgotText")})]}),s.jsxs("form",{onSubmit:d(h),className:a.modalForm,children:[s.jsx("input",{type:"email",...u("email"),placeholder:t("placeholderEmail"),className:`${a.inputField} ${i.email?a.errorInput:""}`}),i.email&&s.jsx("div",{className:a.error,children:i.email.message}),s.jsxs("div",{className:a.modalBtnBox,children:[s.jsx("button",{type:"submit",className:a.btnSend,disabled:m,children:t(m?"loadingText":"sendText")}),s.jsx("button",{type:"button",className:a.btnCancel,onClick:c,children:t("cancel")})]})]})]})},rs="_textBtn_12uyc_1",ls="_forgotPasswordBtn_12uyc_6",F={textBtn:rs,forgotPasswordBtn:ls},ns=()=>{const e=S(),t=x.useCallback(()=>{e()},[e]),l=x.useCallback(()=>{e(s.jsx(as,{onClose:t}))},[e,t]);return s.jsxs("p",{className:F.textBtn,children:["Забули пароль?",s.jsx("button",{type:"button",className:F.forgotPasswordBtn,onClick:l,children:"Натисніть сюди"}),"для зміни паролю"]})},is=()=>{var N,w,B,y,f,T;const{t:e}=b(),t=C(),l=A(L),[n,u]=x.useState(!1),d=S(),g=x.useCallback(()=>{d()},[d]),i=I({email:j().required(e("emailRequired")).email(e("enterValidEmail")),password:j().required(e("passwordRequired")).min(7,e("passwordTooShort")).matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,e("passwordMatches"))}),m=()=>{u(!n)},{register:c,handleSubmit:h,formState:{errors:r}}=P({resolver:k(i)}),p=$=>{t(R($))};return s.jsx("div",{className:o.registerComponent,children:s.jsxs("form",{onSubmit:h(p),children:[s.jsx("h2",{className:o.registerTitle,children:e("logInTitle")}),s.jsxs("div",{className:o.registerForm,children:[s.jsxs("label",{className:o.registerLabel,children:[e("email"),s.jsx("input",{className:(N=r.email)!=null&&N.message?`${o.registerInputError}`:`${o.registerInput}`,...c("email"),placeholder:e("placeholderEmail")}),(w=r.email)!=null&&w.message?s.jsx("p",{className:o.registerErrorMessage,children:(B=r.email)==null?void 0:B.message}):""]}),s.jsxs("label",{className:o.registerLabel,children:[s.jsx("span",{children:e("password")}),s.jsxs("span",{className:o.registerPassword,children:[s.jsx("input",{type:n?"text":"password",className:(y=r.password)!=null&&y.message?`${o.registerInputError}`:`${o.registerInput}`,...c("password"),placeholder:e("placeholderPassword")}),s.jsx("button",{className:o.passwordIconBtn,type:"button",onClick:m,children:n===!1?s.jsx("svg",{className:o.passwordIcon,children:s.jsx("use",{xlinkHref:_+"#icon-eye-off"})}):s.jsx("svg",{className:o.passwordIcon,children:s.jsx("use",{xlinkHref:_+"#icon-eye"})})})]}),(f=r.password)!=null&&f.message?s.jsx("p",{className:o.registerErrorMessage,children:(T=r.password)==null?void 0:T.message}):""]}),s.jsx(ns,{onClose:g})]}),l?s.jsx("div",{className:o.registerButtonsContainer,children:s.jsx(G,{height:44,width:44,label:"Увійти"})}):s.jsxs("div",{className:o.registerButtonsContainer,children:[s.jsx("button",{disabled:l&&!0,className:o.registerBtn,type:"submit",children:e("logIn")}),s.jsx(H,{})]})]})})},js=()=>{const{t:e}=b();return s.jsxs("div",{className:q.registerPage,children:[s.jsxs(z,{children:[s.jsx(is,{}),s.jsx(D,{link:"/register",text:e("footerText"),linkName:e("register")})]}),s.jsx("div",{className:q.registerPageRight,children:s.jsx(V,{})})]})};export{js as default};
