import{r as m,j as e,L as u,i as d,c as _,u as p,s as h,a as S,b as x,d as L,e as k,f as j,g as b}from"./index-c2ea4948.js";import{s as v,L as f}from"./sprite-885dde0f.js";import{A as N}from"./AdvantagesSection-27a417e9.js";const P="_barPopover_bt0gi_1",O="_button_bt0gi_21",w={barPopover:P,button:O},C=m.forwardRef(function({onClose:c},o){const a=Object.values(u),r=s=>{d.changeLanguage(s),c(!1)};return m.useEffect(()=>(window.addEventListener("click",c),()=>window.removeEventListener("click",c)),[c,o]),e.jsx("ul",{className:w.barPopover,ref:o,children:a.map(s=>e.jsx("li",{children:e.jsx("button",{className:w.button,onClick:()=>r(s),children:s.toLocaleUpperCase()})},s))})}),D="_langSwitch_1pqwh_1",$="_currentLang_1pqwh_6",E="_icon_1pqwh_19",R="_isOpen_1pqwh_27",l={langSwitch:D,currentLang:$,icon:E,isOpen:R},I=()=>{const[t,c]=m.useState(!1),o=m.useRef(null),a=i=>(Object.values(u).includes(i)?i:"en").toUpperCase(),r=i=>{i.stopPropagation(),c(g=>!g)},s=i=>{o.current&&!o.current.contains(i.target)&&c(!1)};return e.jsxs("div",{className:l.langSwitch,children:[e.jsxs("button",{onClick:r,className:l.currentLang,name:"openPopover",children:[a(d.language),e.jsx("svg",{className:_(l.icon,{[l.isOpen]:t}),children:e.jsx("use",{xlinkHref:v+"#icon-chevron-down"})})]}),t&&e.jsx(C,{onClose:s,ref:o})]})},T="_welcomeSection_x0l1i_1",q="_welcomeSectionContainer_x0l1i_10",A="_header_x0l1i_13",U="_welcomeSectionDescribe_x0l1i_17",B="_welcomeSectionTitle_x0l1i_23",F="_welcomeSectionLinks_x0l1i_30",H="_welcomeSectionLink_x0l1i_30",J="_welcomeSectionLinkSignup_x0l1i_44",y="_welcomeSectionLinkSignin_x0l1i_48",n={welcomeSection:T,welcomeSectionContainer:q,header:A,welcomeSectionDescribe:U,welcomeSectionTitle:B,welcomeSectionLinks:F,welcomeSectionLink:H,welcomeSectionLinkSignup:J,welcomeSectionLinkSignin:y},W=()=>{const t=p(h);return e.jsxs("div",{className:n.welcomeSection,children:[e.jsxs("div",{className:n.header,children:[e.jsx(f,{}),e.jsx(I,{})]}),e.jsxs("div",{className:n.welcomeSectionContainer,children:[e.jsx("p",{className:n.welcomeSectionDescribe,children:"Записуйте та відстежуйте щоденне споживання води"}),e.jsx("h1",{className:n.welcomeSectionTitle,children:"Контролер спожитої води"}),e.jsx("div",{className:n.welcomeSectionLinks,children:t?e.jsx(S,{to:`/water/${Date.now()}`,className:`${n.welcomeSectionLink} ${n.welcomeSectionLinkSignup}`,children:"Спробувати"}):e.jsxs(e.Fragment,{children:[e.jsx(S,{to:"/register",className:`${n.welcomeSectionLink} ${n.welcomeSectionLinkSignup}`,children:"Спробувати"}),e.jsx(S,{to:"/login",className:`${n.welcomeSectionLink} ${n.welcomeSectionLinkSignin}`,children:"Увійти"})]})})]})]})},V=()=>{const[t]=x(),c=L();let o,a;const r=t.get("token"),s=t.get("user");if(r&&s)try{o=JSON.parse(r),a=JSON.parse(s),c(k(o)),c(j(!0)),c(b(a))}catch(i){console.log(i)}return e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(N,{})]})};export{V as default};
